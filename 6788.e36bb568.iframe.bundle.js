"use strict";(self.webpackChunknimbus_patterns=self.webpackChunknimbus_patterns||[]).push([[6788],{"./packages/react/src/components/DataTable/src/DataTable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>DataTable});__webpack_require__("./node_modules/react/index.js");var dist=__webpack_require__("./node_modules/@nimbus-ds/components/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DataTableBulkActions=({className:_className,style:_style,checkbox,link,action,label,...rest})=>(0,jsx_runtime.jsxs)(dist.Box,{...rest,position:"sticky",top:"0",left:"0",width:"100%",backgroundColor:"neutral-surface",display:"flex",alignItems:"center",gap:"4",p:"2",boxSizing:"border-box",borderRadius:"2",zIndex:"100",children:[(0,jsx_runtime.jsx)(dist.Checkbox,{...checkbox,id:"select-all"}),(0,jsx_runtime.jsx)(dist.Label,{htmlFor:"select-all",children:(0,jsx_runtime.jsx)(dist.Text,{color:"neutral-textLow",fontSize:"base",children:label})}),link,action]});DataTableBulkActions.__docgenInfo={description:"",methods:[],displayName:"DataTableBulkActions",props:{checkbox:{required:!0,tsType:{name:"Omit",elements:[{name:"CheckboxProps"},{name:"union",raw:'"label" | "id"',elements:[{name:"literal",value:'"label"'},{name:"literal",value:'"id"'}]}],raw:'Omit<CheckboxProps, "label" | "id">'},description:"Properties of the checkbox element rendered in the Bulk Actions component."},link:{required:!1,tsType:{name:"ReactNode"},description:"Optional link element rendered next to the Bulk Actions controller.\n@TJS-type <Link />"},action:{required:!0,tsType:{name:"ReactNode"},description:"Action component that controls the Bulk Actions.\n@TJS-type React.ReactNode"},label:{required:!0,tsType:{name:"string"},description:"Lable for the checkbox element."}}};const DataTableHeader=({className:_className,style:_style,checkbox,children,...rest})=>(0,jsx_runtime.jsx)(dist.Table.Head,{...rest,children:(0,jsx_runtime.jsxs)(dist.Table.Row,{backgroundColor:"neutral-surface",children:[(0,jsx_runtime.jsx)(dist.Table.Cell,{as:"th",width:"1rem",children:(0,jsx_runtime.jsx)(dist.Checkbox,{...checkbox})}),children]})});DataTableHeader.__docgenInfo={description:"",methods:[],displayName:"DataTableHeader",props:{checkbox:{required:!0,tsType:{name:"CheckboxProps"},description:"Checkbox element rendered on the table header that controls all rows."},children:{required:!0,tsType:{name:"ReactNode"},description:"Row content.\n@TJS-type React.ReactNode"}}};const DataTableFooter=({className:_className,style:_style,itemCount,pagination,...rest})=>(0,jsx_runtime.jsxs)(dist.Box,{...rest,display:"flex",alignItems:"center",justifyContent:"space-between",p:"2",children:[(0,jsx_runtime.jsx)(dist.Text,{fontSize:"caption",color:"neutral-textLow",children:itemCount}),pagination&&(0,jsx_runtime.jsx)(dist.Pagination,{...pagination})]});DataTableFooter.__docgenInfo={description:"",methods:[],displayName:"DataTableFooter",props:{itemCount:{required:!0,tsType:{name:"string"},description:"Left-hand side text intended for displaying an item count."},pagination:{required:!1,tsType:{name:"PaginationProps"},description:"Pagination element rendered on the right-side of the footer."}}};const DataTableRow=({className:_className,style:_style,checkbox,children,...rest})=>(0,jsx_runtime.jsxs)(dist.Table.Row,{...rest,children:[(0,jsx_runtime.jsx)(dist.Table.Cell,{width:"1rem",children:(0,jsx_runtime.jsx)(dist.Checkbox,{...checkbox})}),children]});DataTableRow.__docgenInfo={description:"",methods:[],displayName:"DataTableRow",props:{checkbox:{required:!0,tsType:{name:"CheckboxProps"},description:"Checkbox element rendered on the row that controls whether the row is selected."},children:{required:!0,tsType:{name:"ReactNode"},description:"Content of the row.\n@TJS-type React.ReactNode"}}};const DataTableCell=({className:_className,style:_style,children,...rest})=>(0,jsx_runtime.jsx)(dist.Table.Cell,{...rest,children});DataTableCell.__docgenInfo={description:"",methods:[],displayName:"DataTableCell",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Content of the List component.\n@TJS-type React.ReactNode"}}};const DataTable=({className:_className,style:_style,bulkActions,header,footer,children,containerProps,...rest})=>(0,jsx_runtime.jsxs)(dist.Box,{children:[(0,jsx_runtime.jsxs)(dist.Box,{position:"relative",borderRadius:"2",borderColor:"neutral-surfaceHighlight",borderStyle:"solid",borderWidth:"1",...containerProps,children:[bulkActions,(0,jsx_runtime.jsxs)(dist.Table,{...rest,children:[header,(0,jsx_runtime.jsx)(dist.Table.Body,{children})]})]}),footer]});DataTable.displayName="DataTable",DataTable.BulkActions=DataTableBulkActions,DataTable.Header=DataTableHeader,DataTable.Footer=DataTableFooter,DataTable.Row=DataTableRow,DataTable.Cell=DataTableCell,DataTable.BulkActions.displayName="DataTable.BulkActions",DataTable.Header.displayName="DataTable.Header",DataTable.Footer.displayName="DataTable.Footer",DataTable.Row.displayName="DataTable.Row",DataTable.Cell.displayName="DataTable.Cell",DataTable.__docgenInfo={description:"",methods:[{name:"BulkActions",docblock:null,modifiers:["static"],params:[{name:"{\n  className: _className,\n  style: _style,\n  checkbox,\n  link,\n  action,\n  label,\n  ...rest\n}: DataTableBulkActionsProps",optional:!1,type:{name:"intersection",raw:'DataTableBulkActionsProperties & {\n  checkbox: Omit<CheckboxProps, "label" | "id">;\n} & Omit<HTMLAttributes<HTMLElement>, "color">',elements:[{name:"DataTableBulkActionsProperties"},{name:"signature",type:"object",raw:'{\n  checkbox: Omit<CheckboxProps, "label" | "id">;\n}',signature:{properties:[{key:"checkbox",value:{name:"Omit",elements:[{name:"CheckboxProps"},{name:"union",raw:'"label" | "id"',elements:[{name:"literal",value:'"label"'},{name:"literal",value:'"id"'}]}],raw:'Omit<CheckboxProps, "label" | "id">',required:!0}}]}},{name:"Omit",elements:[{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},{name:"literal",value:'"color"'}],raw:'Omit<HTMLAttributes<HTMLElement>, "color">'}],alias:"DataTableBulkActionsProps"}}],returns:null},{name:"Header",docblock:null,modifiers:["static"],params:[{name:"{\n  className: _className,\n  style: _style,\n  checkbox,\n  children,\n  ...rest\n}: DataTableHeaderProps",optional:!1,type:{name:"intersection",raw:"DataTableHeaderProperties & {\n  checkbox: CheckboxProps;\n} & HTMLAttributes<HTMLElement>",elements:[{name:"DataTableHeaderProperties"},{name:"signature",type:"object",raw:"{\n  checkbox: CheckboxProps;\n}",signature:{properties:[{key:"checkbox",value:{name:"CheckboxProps",required:!0}}]}},{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"}],alias:"DataTableHeaderProps"}}],returns:null},{name:"Footer",docblock:null,modifiers:["static"],params:[{name:"{\n  className: _className,\n  style: _style,\n  itemCount,\n  pagination,\n  ...rest\n}: DataTableFooterProps",optional:!1,type:{name:"intersection",raw:'DataTableFooterProperties & {\n  pagination?: PaginationProps;\n} & Omit<HTMLAttributes<HTMLElement>, "color">',elements:[{name:"DataTableFooterProperties"},{name:"signature",type:"object",raw:"{\n  pagination?: PaginationProps;\n}",signature:{properties:[{key:"pagination",value:{name:"PaginationProps",required:!1}}]}},{name:"Omit",elements:[{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},{name:"literal",value:'"color"'}],raw:'Omit<HTMLAttributes<HTMLElement>, "color">'}],alias:"DataTableFooterProps"}}],returns:null},{name:"Row",docblock:null,modifiers:["static"],params:[{name:"{\n  className: _className,\n  style: _style,\n  checkbox,\n  children,\n  ...rest\n}: DataTableRowProps",optional:!1,type:{name:"intersection",raw:"DataTableRowProperties & {\n  checkbox: CheckboxProps;\n} & TableRowProperties &\n  HTMLAttributes<HTMLElement>",elements:[{name:"DataTableRowProperties"},{name:"signature",type:"object",raw:"{\n  checkbox: CheckboxProps;\n}",signature:{properties:[{key:"checkbox",value:{name:"CheckboxProps",required:!0}}]}},{name:"TableRowProperties"},{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"}],alias:"DataTableRowProps"}}],returns:null},{name:"Cell",docblock:null,modifiers:["static"],params:[{name:"{\n  className: _className,\n  style: _style,\n  children,\n  ...rest\n}: DataTableCellProps",optional:!1,type:{name:"intersection",raw:'DataTableCellProperties &\nOmit<HTMLAttributes<HTMLElement>, "color"> &\nTableCellProps',elements:[{name:"DataTableCellProperties"},{name:"Omit",elements:[{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},{name:"literal",value:'"color"'}],raw:'Omit<HTMLAttributes<HTMLElement>, "color">'},{name:"TableCellProps"}],alias:"DataTableCellProps"}}],returns:null}],displayName:"DataTable",props:{bulkActions:{required:!1,tsType:{name:"ReactNode"},description:"Bulk actions component rendered with a sticky position over the top of the table element.\n@TJS-type React.ReactNode"},header:{required:!0,tsType:{name:"ReactNode"},description:"Table header content.\n@TJS-type React.ReactNode"},footer:{required:!1,tsType:{name:"ReactNode"},description:"Optional table footer content.\n@TJS-type React.ReactNode"},children:{required:!0,tsType:{name:"ReactNode"},description:"Table body content.\n@TJS-type React.ReactNode"},containerProps:{required:!1,tsType:{name:"BoxProps"},description:"Props passed to the container box element.\n@TJS-type BoxProps"}}}},"./packages/react/src/components/DataTable/src/dataTable.utils.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>DataTableRender});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs"),_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@nimbus-ds/icons/dist/index.js"),_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@nimbus-ds/components/dist/index.js"),_DataTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/components/DataTable/src/DataTable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DataTableRender=args=>{const[rows,setRows]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((count=>{const orders=[];for(let i=1;i<=count;i+=1)orders.push({id:i,clientName:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.fullName(),total:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.finance.amount(3,1e5,2,"R$",!0),qty:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.random.numeric(),status:!1});return orders.reverse()})(30)),[checkedRows,setCheckedRows]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[headerCheckboxStatus,setHeaderCheckboxStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[headerIndeterminateStatus,setHeaderIndeterminateStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentPage,setCurrentPage]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),[pageSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(10),[sortDirection,setSortDirection]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("descending"),[sortColumn,setSortColumn]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("id");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{checkedRows.length===rows.length?(setHeaderCheckboxStatus(!0),setHeaderIndeterminateStatus(!1)):checkedRows.length>0?(setHeaderCheckboxStatus(!1),setHeaderIndeterminateStatus(!0)):(setHeaderCheckboxStatus(!1),setHeaderIndeterminateStatus(!1))}),[checkedRows.length,rows.length]);const handleHeaderCheckboxClick=()=>{if(headerCheckboxStatus)setCheckedRows([]);else{const rowIds=rows.map((row=>row.id));setCheckedRows(rowIds)}},handleBulkUpdateStatusClick=status=>{const updatedRows=rows.map((row=>{const checked=checkedRows.includes(row.id);return{...row,status:checked?status:row.status}}));setRows(updatedRows)},sortCompareFunction=(rowA,rowB)=>"id"===sortColumn?"ascending"===sortDirection?rowA.id-rowB.id:rowB.id-rowA.id:"clientName"===sortColumn?"ascending"===sortDirection?rowA.clientName.localeCompare(rowB.clientName):rowB.clientName.localeCompare(rowA.clientName):0,displayedRows=(()=>{const sortedRows=rows.slice().sort(sortCompareFunction),startIndex=(currentPage-1)*pageSize,endIndex=startIndex+pageSize;return sortedRows.slice(startIndex,endIndex)})(),totalRows=rows.length,firstRow=(currentPage-1)*pageSize+1,lastRow=Math.min(currentPage*pageSize,totalRows),tableHeader=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Header,{checkbox:{name:"check-all-rows",checked:headerCheckboxStatus,onClick:handleHeaderCheckboxClick,indeterminate:headerIndeterminateStatus},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{width:"120px",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Box,{display:"flex",gap:"2",alignItems:"center",children:["Order no.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.IconButton,{source:"ascending"===sortDirection?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ChevronUpIcon,{size:10}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ChevronDownIcon,{size:10}),size:"1rem",onClick:()=>{var column;(column="id")===sortColumn?setSortDirection("ascending"===sortDirection?"descending":"ascending"):(setSortColumn(column),setSortDirection("ascending"))}})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{width:"auto",children:"Client name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{width:"120px",children:"Total"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{width:"120px",children:"Qty. of products"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{width:"120px",children:"Order status"})]}),tableFooter=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Footer,{itemCount:`Showing ${firstRow}-${lastRow} orders of ${totalRows}`,pagination:{pageCount:Math.ceil(totalRows/pageSize),activePage:currentPage,onPageChange:page=>{setCurrentPage(page)}}}),hasBulkActions=checkedRows.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.BulkActions,{checkbox:{name:"check-all",checked:headerCheckboxStatus,onClick:handleHeaderCheckboxClick,indeterminate:headerIndeterminateStatus},label:`${checkedRows.length} selected`,action:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Box,{display:"flex",gap:"1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Chip,{onClick:()=>handleBulkUpdateStatusClick(!0),text:"Fulfill orders"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Chip,{onClick:()=>handleBulkUpdateStatusClick(!1),text:"Unfulfill orders"})]})});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w,{...args,header:tableHeader,footer:tableFooter,bulkActions:hasBulkActions,children:displayedRows.map((row=>{const{id,status}=row,statusIcon=status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.CheckCircleIcon,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ExclamationTriangleIcon,{}),statusAppearance=status?"success":"warning",statusMsg=status?"Fulfilled":"Pending";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Row,{backgroundColor:checkedRows.includes(id)?{rest:"primary-surface",hover:"primary-surfaceHighlight"}:{rest:"neutral-background",hover:"neutral-surface"},checkbox:{name:`check-${id}`,checked:checkedRows.includes(id),onClick:()=>(id=>{checkedRows.includes(id)?setCheckedRows(checkedRows.filter((rowId=>rowId!==id))):setCheckedRows([...checkedRows,id])})(id)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{children:["#",row.id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{children:row.clientName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{children:row.total}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{children:row.qty}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Tag,{appearance:statusAppearance,children:[statusIcon,statusMsg]})})]},id)}))})};DataTableRender.__docgenInfo={description:"",methods:[],displayName:"DataTableRender"}}}]);