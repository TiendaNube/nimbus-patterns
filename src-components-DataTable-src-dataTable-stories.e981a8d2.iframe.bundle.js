"use strict";(self.webpackChunknimbus_patterns=self.webpackChunknimbus_patterns||[]).push([[1909],{"./packages/react/src/components/DataTable/src/dataTable.utils.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>DataTableRender});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs"),_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@nimbus-ds/icons/dist/index.js"),_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@nimbus-ds/components/dist/index.js"),_DataTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/components/DataTable/src/DataTable.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const DataTableRender=args=>{const[rows,setRows]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((count=>{const orders=[];for(let i=1;i<=count;i+=1)orders.push({id:i,clientName:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.fullName(),total:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.finance.amount(3,1e5,2,"R$",!0),qty:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.random.numeric(),status:!1});return orders.reverse()})(30)),[checkedRows,setCheckedRows]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[headerCheckboxStatus,setHeaderCheckboxStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[headerIndeterminateStatus,setHeaderIndeterminateStatus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentPage,setCurrentPage]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1),[pageSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(10),[sortDirection,setSortDirection]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("descending"),[sortColumn,setSortColumn]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("id");(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{checkedRows.length===rows.length?(setHeaderCheckboxStatus(!0),setHeaderIndeterminateStatus(!1)):checkedRows.length>0?(setHeaderCheckboxStatus(!1),setHeaderIndeterminateStatus(!0)):(setHeaderCheckboxStatus(!1),setHeaderIndeterminateStatus(!1))}),[checkedRows.length,rows.length]);const handleHeaderCheckboxClick=()=>{if(headerCheckboxStatus)setCheckedRows([]);else{const rowIds=rows.map((row=>row.id));setCheckedRows(rowIds)}},handleBulkUpdateStatusClick=status=>{const updatedRows=rows.map((row=>{const checked=checkedRows.includes(row.id);return{...row,status:checked?status:row.status}}));setRows(updatedRows)},sortCompareFunction=(rowA,rowB)=>"id"===sortColumn?"ascending"===sortDirection?rowA.id-rowB.id:rowB.id-rowA.id:"clientName"===sortColumn?"ascending"===sortDirection?rowA.clientName.localeCompare(rowB.clientName):rowB.clientName.localeCompare(rowA.clientName):0,displayedRows=(()=>{const sortedRows=rows.slice().sort(sortCompareFunction),startIndex=(currentPage-1)*pageSize,endIndex=startIndex+pageSize;return sortedRows.slice(startIndex,endIndex)})(),totalRows=rows.length,firstRow=(currentPage-1)*pageSize+1,lastRow=Math.min(currentPage*pageSize,totalRows),tableHeader=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Header,{checkbox:{name:"check-all-rows",checked:headerCheckboxStatus,onClick:handleHeaderCheckboxClick,indeterminate:headerIndeterminateStatus},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:1,width:"120px",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Box,{display:"flex",gap:"2",alignItems:"center",children:["Order no.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.IconButton,{source:"ascending"===sortDirection?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ChevronUpIcon,{size:10}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ChevronDownIcon,{size:10}),size:"1rem",onClick:()=>{var column;(column="id")===sortColumn?setSortDirection("ascending"===sortDirection?"descending":"ascending"):(setSortColumn(column),setSortDirection("ascending"))}})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:2,width:"auto",children:"Client name"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:3,width:"120px",children:"Total"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:4,width:"120px",children:"Qty. of products"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:5,width:"120px",children:"Order status"})]}),tableFooter=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Footer,{itemCount:`Showing ${firstRow}-${lastRow} orders of ${totalRows}`,pagination:{pageCount:Math.ceil(totalRows/pageSize),activePage:currentPage,onPageChange:page=>{setCurrentPage(page)}}}),hasBulkActions=checkedRows.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.BulkActions,{checkbox:{name:"check-all",checked:headerCheckboxStatus,onClick:handleHeaderCheckboxClick,indeterminate:headerIndeterminateStatus},label:`${checkedRows.length} selected`,action:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Dropdown,{placeholder:"Choose an action",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownSection,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownAction,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.TrashIcon,{}),label:"Exclude",onClick:()=>handleBulkUpdateStatusClick(!0)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownAction,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.EyeIcon,{}),label:"View in store",onClick:()=>handleBulkUpdateStatusClick(!1)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownAction,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.EyeOffIcon,{}),label:"Hide from store",onClick:()=>handleBulkUpdateStatusClick(!1),disabled:!0})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownDivider,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownSection,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.DropdownAction,{icon:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.GenerativeStarsIcon,{}),label:"Delete orders",onClick:()=>console.log("delete orders")})})]})}),{fixedLeftColumn}=args,columnLayout=[{id:"column-checkbox",width:"40px",fixed:fixedLeftColumn?"left":void 0},{id:"column-order-number",width:"80px",fixed:fixedLeftColumn?"left":void 0},{id:"column-client-name",width:"150px"},{id:"column-total",grow:1},{id:"column-qty",grow:1},{id:"column-status",width:"120px",grow:1}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w,{columnLayout,...args,header:tableHeader,footer:tableFooter,bulkActions:hasBulkActions,minWidth:"600px",children:displayedRows.map((row=>{const{id,status}=row,statusIcon=status?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.CheckCircleIcon,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_nimbus_ds_icons__WEBPACK_IMPORTED_MODULE_5__.ExclamationTriangleIcon,{}),statusAppearance=status?"success":"warning",statusMsg=status?"Fulfilled":"Pending";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Row,{backgroundColor:checkedRows.includes(id)?{rest:"primary-surface",hover:"primary-surfaceHighlight"}:{rest:"neutral-background",hover:"neutral-surface"},checkbox:{name:`check-${id}`,checked:checkedRows.includes(id),onClick:()=>(id=>{checkedRows.includes(id)?setCheckedRows(checkedRows.filter((rowId=>rowId!==id))):setCheckedRows([...checkedRows,id])})(id)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:1,children:["#",row.id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:2,children:row.clientName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:3,children:row.total}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:4,children:row.qty}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_DataTable__WEBPACK_IMPORTED_MODULE_3__.w.Cell,{column:5,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_nimbus_ds_components__WEBPACK_IMPORTED_MODULE_4__.Tag,{appearance:statusAppearance,children:[statusIcon,statusMsg]})})]},id)}))})};DataTableRender.__docgenInfo={description:"",methods:[],displayName:"DataTableRender"}},"./packages/react/src/components/DataTable/src/dataTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,basic:()=>basic,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DataTable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/components/DataTable/src/DataTable.tsx"),_dataTable_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/components/DataTable/src/dataTable.utils.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Patterns/DataTable",component:_DataTable__WEBPACK_IMPORTED_MODULE_0__.w,argTypes:{bulkActions:{control:{disable:!0}},header:{control:{disable:!0}},footer:{control:{disable:!0}},children:{control:{disable:!0}},fixedLeftColumn:{control:{type:"boolean"}}},tags:["autodocs"],render:_dataTable_utils__WEBPACK_IMPORTED_MODULE_1__.i},basic={args:{}},__namedExportsOrder=["basic"];basic.parameters={...basic.parameters,docs:{...basic.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...basic.parameters?.docs?.source}}}}}]);