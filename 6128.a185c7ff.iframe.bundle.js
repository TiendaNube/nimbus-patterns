(self.webpackChunknimbus_patterns=self.webpackChunknimbus_patterns||[]).push([[6128],{"./node_modules/@lexical/clipboard/LexicalClipboard.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalClipboard=__webpack_require__("./node_modules/@lexical/clipboard/LexicalClipboard.prod.js");module.exports=LexicalClipboard},"./node_modules/@lexical/clipboard/LexicalClipboard.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var d=__webpack_require__("./node_modules/@lexical/html/LexicalHtml.js"),p=__webpack_require__("./node_modules/@lexical/selection/LexicalSelection.js"),r=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),u=__webpack_require__("./node_modules/lexical/Lexical.js");function z(a){let b=new URLSearchParams;b.append("code",a);for(let c=1;c<arguments.length;c++)b.append("v",arguments[c]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let A="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function B(a){let b=u.$getSelection();if(null==b)throw Error("Expected valid LexicalSelection");return u.$isRangeSelection(b)&&b.isCollapsed()||0===b.getNodes().length?"":d.$generateHtmlFromNodes(a,b)}function C(a){let b=u.$getSelection();if(null==b)throw Error("Expected valid LexicalSelection");return u.$isRangeSelection(b)&&b.isCollapsed()||0===b.getNodes().length?null:JSON.stringify(D(a,b))}function E(a,b,c){(u.DEPRECATED_$isGridSelection(c)||null!==r.$findMatchingParent(c.anchor.getNode(),(e=>u.DEPRECATED_$isGridCellNode(e)))&&null!==r.$findMatchingParent(c.focus.getNode(),(e=>u.DEPRECATED_$isGridCellNode(e))))&&1===b.length&&u.DEPRECATED_$isGridNode(b[0])?function F(a,b,c,e){1===a.length&&u.DEPRECATED_$isGridNode(a[0])||z(42);var f=a[0];a=f.getChildren(),c=f.getFirstChildOrThrow().getChildrenSize();var h=f.getChildrenSize(),g=r.$findMatchingParent(b.anchor.getNode(),(l=>u.DEPRECATED_$isGridCellNode(l)));b=(f=g&&r.$findMatchingParent(g,(l=>u.DEPRECATED_$isGridRowNode(l))))&&r.$findMatchingParent(f,(l=>u.DEPRECATED_$isGridNode(l))),u.DEPRECATED_$isGridCellNode(g)&&u.DEPRECATED_$isGridRowNode(f)&&u.DEPRECATED_$isGridNode(b)||z(43);var k=f.getIndexWithinParent(),m=Math.min(b.getChildrenSize()-1,k+h-1);let n,q;h=g.getIndexWithinParent(),g=Math.min(f.getChildrenSize()-1,h+c-1),c=Math.min(h,g),f=Math.min(k,m),h=Math.max(h,g),k=Math.max(k,m),m=b.getChildren(),g=0;for(let l=f;l<=k;l++){var t=m[l];u.DEPRECATED_$isGridRowNode(t)||z(24);var y=a[g];u.DEPRECATED_$isGridRowNode(y)||z(24),t=t.getChildren(),y=y.getChildren();let G=0;for(let v=c;v<=h;v++){let w=t[v];u.DEPRECATED_$isGridCellNode(w)||z(25);let H=y[G];u.DEPRECATED_$isGridCellNode(H)||z(25),l===f&&v===c?n=w.getKey():l===k&&v===h&&(q=w.getKey());let N=w.getChildren();H.getChildren().forEach((x=>{u.$isTextNode(x)&&u.$createParagraphNode().append(x),w.append(x)})),N.forEach((x=>x.remove())),G++}g++}n&&q&&(a=u.DEPRECATED_$createGridSelection(),a.set(b.getKey(),n,q),u.$setSelection(a),e.dispatchCommand(u.SELECTION_CHANGE_COMMAND,void 0))}(b,c,!1,a):function I(a,b){let c=[],e=null;for(let f=0;f<a.length;f++){let h=a[f],g=u.$isLineBreakNode(h);if(g||u.$isDecoratorNode(h)&&h.isInline()||u.$isElementNode(h)&&h.isInline()||u.$isTextNode(h)||h.isParentRequired()){if(null===e&&(e=h.createParentElementNode(),c.push(e),g))continue;null!==e&&e.append(h)}else c.push(h),e=null}u.$isRangeSelection(b)?b.insertNodes(c):u.DEPRECATED_$isGridSelection(b)&&(a=b.anchor.getNode(),u.DEPRECATED_$isGridCellNode(a)||z(41),a.append(...c))}(b,c)}function J(a,b,c,e=[]){let f=null==b||c.isSelected(b),h=u.$isElementNode(c)&&c.excludeFromCopy("html");var g=c;if(null!==b){var k=p.$cloneWithProperties(c);g=k=u.$isTextNode(k)&&null!=b?p.$sliceSelectedTextNodeContent(b,k):k}let m=u.$isElementNode(g)?g.getChildren():[];var n=g;k=n.exportJSON();var q=n.constructor;k.type!==q.getType()&&z(58,q.name);let t=k.children;for(u.$isElementNode(n)&&(Array.isArray(t)||z(59,q.name)),u.$isTextNode(g)&&(0<(g=g.__text).length?k.text=g:f=!1),g=0;g<m.length;g++)q=J(a,b,n=m[g],k.children),!f&&u.$isElementNode(c)&&q&&c.extractWithChild(n,b,"clone")&&(f=!0);if(f&&!h)e.push(k);else if(Array.isArray(k.children))for(a=0;a<k.children.length;a++)e.push(k.children[a]);return f}function D(a,b){let c=[],e=u.$getRoot().getChildren();for(let f=0;f<e.length;f++)J(a,b,e[f],c);return{namespace:a._config.namespace,nodes:c}}function K(a){let b=[];for(let c=0;c<a.length;c++){let e=u.$parseSerializedNode(a[c]);u.$isTextNode(e)&&p.$addNodeStyle(e),b.push(e)}return b}let L=null;function M(a,b){var c=A?(a._window||window).getSelection():null;if(!c)return!1;var e=c.anchorNode;if(c=c.focusNode,null!==e&&null!==c&&!u.isSelectionWithinEditor(a,e,c))return!1;if(b.preventDefault(),b=b.clipboardData,e=u.$getSelection(),null===b||null===e)return!1;c=B(a),a=C(a);let f="";return null!==e&&(f=e.getTextContent()),null!==c&&b.setData("text/html",c),null!==a&&b.setData("application/x-lexical-editor",a),b.setData("text/plain",f),!0}exports.$generateJSONFromSelectedNodes=D,exports.$generateNodesFromSerializedNodes=K,exports.$getHtmlContent=B,exports.$getLexicalContent=C,exports.$insertDataTransferForPlainText=function(a,b){null!=(a=a.getData("text/plain")||a.getData("text/uri-list"))&&b.insertRawText(a)},exports.$insertDataTransferForRichText=function(a,b,c){var e=a.getData("application/x-lexical-editor");if(e)try{let g=JSON.parse(e);if(g.namespace===c._config.namespace&&Array.isArray(g.nodes)){return E(c,K(g.nodes),b)}}catch{}if(e=a.getData("text/html"))try{var f=(new DOMParser).parseFromString(e,"text/html"),h=d.$generateNodesFromDOM(c,f);return E(c,h,b)}catch{}if(null!=(a=a.getData("text/plain")||a.getData("text/uri-list")))if(u.$isRangeSelection(b))for(c=(a=a.split(/(\r?\n|\t)/)).length,f=0;f<c;f++)"\n"===(h=a[f])||"\r\n"===h?b.insertParagraph():"\t"===h?b.insertNodes([u.$createTabNode()]):b.insertText(h);else b.insertRawText(a)},exports.$insertGeneratedNodes=E,exports.copyToClipboard=async function(a,b){if(null!==L)return!1;if(null!==b)return new Promise((g=>{a.update((()=>{g(M(a,b))}))}));var c=a.getRootElement();let e=null==a._window?window.document:a._window.document,f=A?(a._window||window).getSelection():null;if(null===c||null===f)return!1;let h=e.createElement("span");return h.style.cssText="position: fixed; top: -1000px;",h.append(e.createTextNode("#")),c.append(h),(c=new Range).setStart(h,0),c.setEnd(h,1),f.removeAllRanges(),f.addRange(c),new Promise((g=>{let k=a.registerCommand(u.COPY_COMMAND,(m=>(r.objectKlassEquals(m,ClipboardEvent)&&(k(),null!==L&&(window.clearTimeout(L),L=null),g(M(a,m))),!0)),u.COMMAND_PRIORITY_CRITICAL);L=window.setTimeout((()=>{k(),L=null,g(!1)}),50),e.execCommand("copy"),h.remove()}))}},"./node_modules/@lexical/dragon/LexicalDragon.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalDragon=__webpack_require__("./node_modules/@lexical/dragon/LexicalDragon.prod.js");module.exports=LexicalDragon},"./node_modules/@lexical/dragon/LexicalDragon.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var g=__webpack_require__("./node_modules/lexical/Lexical.js");exports.registerDragonSupport=function(m){let t=window.location.origin,r=l=>{if(l.origin===t){var h=m.getRootElement();if(document.activeElement===h&&"string"==typeof(h=l.data)){try{var a=JSON.parse(h)}catch(k){return}if(a&&"nuanria_messaging"===a.protocol&&"request"===a.type&&(a=a.payload)&&"makeChanges"===a.functionId&&(a=a.args)){const[k,n,p,q,u]=a;m.update((()=>{const f=g.$getSelection();if(g.$isRangeSelection(f)){var e=f.anchor;let b=e.getNode(),c=0,d=0;g.$isTextNode(b)&&0<=k&&0<=n&&(c=k,d=k+n,f.setTextNodeRange(b,c,b,d)),c===d&&""===p||(f.insertRawText(p),b=e.getNode()),g.$isTextNode(b)&&(c=q,d=q+u,c=c>(e=b.getTextContentSize())?e:c,d=d>e?e:d,f.setTextNodeRange(b,c,b,d)),l.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}},"./node_modules/@lexical/history/LexicalHistory.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalHistory=__webpack_require__("./node_modules/@lexical/history/LexicalHistory.prod.js");module.exports=LexicalHistory},"./node_modules/@lexical/history/LexicalHistory.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),x=__webpack_require__("./node_modules/lexical/Lexical.js");function z(b,a){let l=Date.now(),h=0;return(n,f,d,e,m,p)=>{let r=Date.now();if(p.has("historic"))return h=0,l=r,2;let q=function y(b,a,l,h,n){if(null===b||0===l.size&&0===h.size&&!n)return 0;var f=a._selection,d=b._selection;if(n)return 1;if(!(x.$isRangeSelection(f)&&x.$isRangeSelection(d)&&d.isCollapsed()&&f.isCollapsed()))return 0;n=a._nodeMap;let e=[];for(let m of l)void 0!==(l=n.get(m))&&e.push(l);for(let[m,p]of h)p&&(void 0===(h=n.get(m))||x.$isRootNode(h)||e.push(h));return 0===e.length?0:1<e.length?(a=(h=a._nodeMap).get(f.anchor.key),d=h.get(d.anchor.key),a&&d&&!b._nodeMap.has(a.__key)&&x.$isTextNode(a)&&1===a.__text.length&&1===f.anchor.offset?2:0):(a=e[0],b=b._nodeMap.get(a.__key),x.$isTextNode(b)&&x.$isTextNode(a)&&b.__mode===a.__mode?(b=b.__text)===(a=a.__text)?0:(f=f.anchor,d=d.anchor,f.key!==d.key||"text"!==f.type?0:(f=f.offset,d=d.offset,1==(b=a.length-b.length)&&d===f-1?2:-1===b&&d===f+1?3:-1===b&&d===f?4:0)):0)}(n,f,e,m,b.isComposing()),v=(()=>{var k=null===d||d.editor===b,g=p.has("history-push");if(!g&&k&&p.has("history-merge"))return 0;if(null===n)return 1;var t=f._selection;if(!(0<e.size||0<m.size))return null!==t?0:2;if(!1===g&&0!==q&&q===h&&r<l+a&&k)return 0;if(1===e.size){{g=Array.from(e)[0],k=n._nodeMap.get(g),g=f._nodeMap.get(g),t=n._selection;let u=f._selection,w=!1;x.$isRangeSelection(t)&&x.$isRangeSelection(u)&&(w="element"===t.anchor.type&&"element"===t.focus.type&&"text"===u.anchor.type&&"text"===u.focus.type),k=!(w||!x.$isTextNode(k)||!x.$isTextNode(g))&&(k.__type===g.__type&&k.__text===g.__text&&k.__mode===g.__mode&&k.__detail===g.__detail&&k.__style===g.__style&&k.__format===g.__format&&k.__parent===g.__parent)}if(k)return 0}return 1})();return l=r,h=q,v}}exports.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},exports.registerHistory=function(b,a,l){let h=z(b,l);l=({editorState:d,prevEditorState:e,dirtyLeaves:m,dirtyElements:p,tags:r})=>{const q=a.current,v=a.redoStack,k=a.undoStack,g=null===q?null:q.editorState;if(null===q||d!==g){if(1===(e=h(e,d,q,m,p,r)))0!==v.length&&(a.redoStack=[],b.dispatchCommand(x.CAN_REDO_COMMAND,!1)),null!==q&&(k.push({...q}),b.dispatchCommand(x.CAN_UNDO_COMMAND,!0));else if(2===e)return;a.current={editor:b,editorState:d}}};let n=c.mergeRegister(b.registerCommand(x.UNDO_COMMAND,(()=>{let d=a.redoStack,e=a.undoStack;if(0!==e.length){let m=a.current,p=e.pop();null!==m&&(d.push(m),b.dispatchCommand(x.CAN_REDO_COMMAND,!0)),0===e.length&&b.dispatchCommand(x.CAN_UNDO_COMMAND,!1),a.current=p||null,p&&p.editor.setEditorState(p.editorState,{tag:"historic"})}return!0}),x.COMMAND_PRIORITY_EDITOR),b.registerCommand(x.REDO_COMMAND,(()=>{let d=a.redoStack;var e=a.undoStack;if(0!==d.length){let m=a.current;null!==m&&(e.push(m),b.dispatchCommand(x.CAN_UNDO_COMMAND,!0)),e=d.pop(),0===d.length&&b.dispatchCommand(x.CAN_REDO_COMMAND,!1),a.current=e||null,e&&e.editor.setEditorState(e.editorState,{tag:"historic"})}return!0}),x.COMMAND_PRIORITY_EDITOR),b.registerCommand(x.CLEAR_EDITOR_COMMAND,(()=>(a.undoStack=[],a.redoStack=[],a.current=null,!1)),x.COMMAND_PRIORITY_EDITOR),b.registerCommand(x.CLEAR_HISTORY_COMMAND,(()=>(a.undoStack=[],a.redoStack=[],a.current=null,b.dispatchCommand(x.CAN_REDO_COMMAND,!1),b.dispatchCommand(x.CAN_UNDO_COMMAND,!1),!0)),x.COMMAND_PRIORITY_EDITOR),b.registerUpdateListener(l)),f=b.registerUpdateListener(l);return()=>{n(),f()}}},"./node_modules/@lexical/html/LexicalHtml.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalHtml=__webpack_require__("./node_modules/@lexical/html/LexicalHtml.prod.js");module.exports=LexicalHtml},"./node_modules/@lexical/html/LexicalHtml.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var m=__webpack_require__("./node_modules/@lexical/selection/LexicalSelection.js"),q=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),r=__webpack_require__("./node_modules/lexical/Lexical.js");function u(c,d,h,a=null){let e=null==a||d.isSelected(a),k=r.$isElementNode(d)&&d.excludeFromCopy("html");var f=d;null!==a&&(f=m.$cloneWithProperties(d),f=r.$isTextNode(f)&&null!=a?m.$sliceSelectedTextNodeContent(a,f):f);let g=r.$isElementNode(f)?f.getChildren():[],{element:b,after:l}=f.exportDOM(c);if(!b)return!1;let n=document.createDocumentFragment();for(let p=0;p<g.length;p++){let t=g[p],x=u(c,t,n,a);!e&&r.$isElementNode(d)&&x&&d.extractWithChild(t,a,"html")&&(e=!0)}return e&&!k?(q.isHTMLElement(b)&&b.append(n),h.append(b),l&&(c=l.call(f,b))&&b.replaceWith(c)):h.append(n),e}let v=new Set(["STYLE","SCRIPT"]);function w(c,d,h=new Map,a){let e=[];if(v.has(c.nodeName))return e;let k=null;var f,{nodeName:g}=c,b=d._htmlConversions.get(g.toLowerCase());if(g=null,void 0!==b)for(f of b)null!==(b=f(c))&&(null===g||g.priority<b.priority)&&(g=b);if(g=(f=null!==g?g.conversion:null)?f(c):null,f=null,null!==g){if(f=g.after,b=g.node,k=Array.isArray(b)?b[b.length-1]:b,null!==k){for(var[,l]of h)if(k=l(k,a),!k)break;k&&e.push(...Array.isArray(b)?b:[k])}null!=g.forChild&&h.set(c.nodeName,g.forChild)}for(c=c.childNodes,a=[],l=0;l<c.length;l++)a.push(...w(c[l],d,new Map(h),k));return null!=f&&(a=f(a)),null==k?e=e.concat(a):r.$isElementNode(k)&&k.append(...a),e}exports.$generateHtmlFromNodes=function(c,d){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let h=document.createElement("div"),a=r.$getRoot().getChildren();for(let e=0;e<a.length;e++)u(c,a[e],h,d);return h.innerHTML},exports.$generateNodesFromDOM=function(c,d){d=d.body?d.body.childNodes:[];let h=[];for(let e=0;e<d.length;e++){var a=d[e];v.has(a.nodeName)||null!==(a=w(a,c))&&(h=h.concat(a))}return h}},"./node_modules/@lexical/link/LexicalLink.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalLink=__webpack_require__("./node_modules/@lexical/link/LexicalLink.prod.js");module.exports=LexicalLink},"./node_modules/@lexical/link/LexicalLink.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var k=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),n=__webpack_require__("./node_modules/lexical/Lexical.js");let p=new Set(["http:","https:","mailto:","sms:","tel:"]);class q extends n.ElementNode{static getType(){return"link"}static clone(a){return new q(a.__url,{rel:a.__rel,target:a.__target,title:a.__title},a.__key)}constructor(a,b={},d){super(d);let{target:l=null,rel:h=null,title:e=null}=b;this.__url=a,this.__target=l,this.__rel=h,this.__title=e}createDOM(a){let b=document.createElement("a");return b.href=this.sanitizeUrl(this.__url),null!==this.__target&&(b.target=this.__target),null!==this.__rel&&(b.rel=this.__rel),null!==this.__title&&(b.title=this.__title),k.addClassNamesToElement(b,a.theme.link),b}updateDOM(a,b){let d=this.__url,l=this.__target,h=this.__rel,e=this.__title;return d!==a.__url&&(b.href=d),l!==a.__target&&(l?b.target=l:b.removeAttribute("target")),h!==a.__rel&&(h?b.rel=h:b.removeAttribute("rel")),e!==a.__title&&(e?b.title=e:b.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:r,priority:1})}}static importJSON(a){let b=t(a.url,{rel:a.rel,target:a.target,title:a.title});return b.setFormat(a.format),b.setIndent(a.indent),b.setDirection(a.direction),b}sanitizeUrl(a){try{let b=new URL(a);if(!p.has(b.protocol))return"about:blank"}catch{}return a}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(a){this.getWritable().__url=a}getTarget(){return this.getLatest().__target}setTarget(a){this.getWritable().__target=a}getRel(){return this.getLatest().__rel}setRel(a){this.getWritable().__rel=a}getTitle(){return this.getLatest().__title}setTitle(a){this.getWritable().__title=a}insertNewAfter(a,b=!0){return a=this.getParentOrThrow().insertNewAfter(a,b),n.$isElementNode(a)?(b=t(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),a.append(b),b):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(a,b){if(!n.$isRangeSelection(b))return!1;a=b.anchor.getNode();let d=b.focus.getNode();return this.isParentOf(a)&&this.isParentOf(d)&&0<b.getTextContent().length}}function r(a){let b=null;if(k.isHTMLAnchorElement(a)){let d=a.textContent;null!==d&&""!==d&&(b=t(a.getAttribute("href")||"",{rel:a.getAttribute("rel"),target:a.getAttribute("target"),title:a.getAttribute("title")}))}return{node:b}}function t(a,b){return n.$applyNodeReplacement(new q(a,b))}function v(a){return a instanceof q}class w extends q{static getType(){return"autolink"}static clone(a){return new w(a.__url,{rel:a.__rel,target:a.__target,title:a.__title},a.__key)}static importJSON(a){let b=x(a.url,{rel:a.rel,target:a.target,title:a.title});return b.setFormat(a.format),b.setIndent(a.indent),b.setDirection(a.direction),b}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(a,b=!0){return a=this.getParentOrThrow().insertNewAfter(a,b),n.$isElementNode(a)?(b=x(this.__url,{rel:this._rel,target:this.__target,title:this.__title}),a.append(b),b):null}}function x(a,b){return n.$applyNodeReplacement(new w(a,b))}let y=n.createCommand("TOGGLE_LINK_COMMAND");exports.$createAutoLinkNode=x,exports.$createLinkNode=t,exports.$isAutoLinkNode=function(a){return a instanceof w},exports.$isLinkNode=v,exports.AutoLinkNode=w,exports.LinkNode=q,exports.TOGGLE_LINK_COMMAND=y,exports.toggleLink=function(a,b={}){let{target:d,title:l}=b,h=void 0===b.rel?"noreferrer":b.rel;if(b=n.$getSelection(),n.$isRangeSelection(b))if(b=b.extract(),null===a)b.forEach((m=>{if(v(m=m.getParent())){let c=m.getChildren();for(let f=0;f<c.length;f++)m.insertBefore(c[f]);m.remove()}}));else{if(1===b.length){var e=b[0];if(e=v(e)?e:function z(a,b){for(;null!==a&&null!==(a=a.getParent())&&!b(a););return a}(e,v),null!==e)return e.setURL(a),void 0!==d&&e.setTarget(d),null!==h&&e.setRel(h),void(void 0!==l&&e.setTitle(l))}let m=null,c=null;b.forEach((f=>{var g=f.getParent();if(g!==c&&null!==g&&(!n.$isElementNode(f)||f.isInline()))if(v(g))c=g,g.setURL(a),void 0!==d&&g.setTarget(d),null!==h&&c.setRel(h),void 0!==l&&c.setTitle(l);else if(g.is(m)||(m=g,c=t(a,{rel:h,target:d}),v(g)?null===f.getPreviousSibling()?g.insertBefore(c):g.insertAfter(c):f.insertBefore(c)),v(f)){if(!f.is(c)){if(null!==c){g=f.getChildren();for(let u=0;u<g.length;u++)c.append(g[u])}f.remove()}}else null!==c&&c.append(f)}))}}},"./node_modules/@lexical/list/LexicalList.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalList=__webpack_require__("./node_modules/@lexical/list/LexicalList.prod.js");module.exports=LexicalList},"./node_modules/@lexical/list/LexicalList.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var h=__webpack_require__("./node_modules/lexical/Lexical.js"),k=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js");function m(a){let b=new URLSearchParams;b.append("code",a);for(let c=1;c<arguments.length;c++)b.append("v",arguments[c]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function n(a){let b=1;for(a=a.getParent();null!=a;){if(p(a)){if(q(a=a.getParent())){b++,a=a.getParent();continue}m(40)}break}return b}function r(a){q(a=a.getParent())||m(40);let b=a;for(;null!==b;)b=b.getParent(),q(b)&&(a=b);return a}function t(a){let b=[];a=a.getChildren().filter(p);for(let c=0;c<a.length;c++){let d=a[c],e=d.getFirstChild();q(e)?b=b.concat(t(e)):b.push(d)}return b}function u(a){return p(a)&&q(a.getFirstChild())}function w(a){return y().append(a)}function z(a,b){return p(a)&&(0===b.length||1===b.length&&a.is(b[0])&&0===a.getChildrenSize())}function B(a,b){a.splice(a.getChildrenSize(),0,b)}function C(a,b){if(q(a))return a;let c=a.getPreviousSibling(),d=a.getNextSibling(),e=y();return e.setFormat(a.getFormatType()),e.setIndent(a.getIndent()),B(e,a.getChildren()),q(c)&&b===c.getListType()?(c.append(e),a.remove(),q(d)&&b===d.getListType()&&(B(c,d.getChildren()),d.remove()),c):q(d)&&b===d.getListType()?(d.getFirstChildOrThrow().insertBefore(e),a.remove(),d):((b=D(b)).append(e),a.replace(b),E(b),b)}function F(a,b){var c=a.getLastChild();let d=b.getFirstChild();c&&d&&u(c)&&u(d)&&(F(c.getFirstChild(),d.getFirstChild()),d.remove()),0<(c=b.getChildren()).length&&(a.append(...c),E(a)),b.remove()}function E(a,b){if(void 0!==(a=b||a.getChildren()))for(b=0;b<a.length;b++){let f=a[b];if(p(f)){let g=f.getValue();var c=f,d=c.getParent(),e=1;for(null!=d&&(q(d)?e=d.getStart():m(44)),c=c.getPreviousSiblings(),d=0;d<c.length;d++){let l=c[d];p(l)&&!q(l.getFirstChild())&&e++}g!==e&&f.setValue(e)}}}function G(a){if(!u(a)){var b=a.getParent(),c=b?b.getParent():void 0,d=c?c.getParent():void 0;if(q(d)&&p(c)&&q(b)){var e=b?b.getFirstChild():void 0,f=b?b.getLastChild():void 0;if(a.is(e))c.insertBefore(a),b.isEmpty()&&c.remove();else if(a.is(f))c.insertAfter(a),b.isEmpty()&&c.remove();else{var g=b.getListType();e=y();let l=D(g);e.append(l),a.getPreviousSiblings().forEach((x=>l.append(x))),f=y(),g=D(g),f.append(g),B(g,a.getNextSiblings()),c.insertBefore(e),c.insertAfter(f),c.replace(a)}E(b),E(d)}}}class H extends h.ElementNode{static getType(){return"listitem"}static clone(a){return new H(a.__value,a.__checked,a.__key)}constructor(a,b,c){super(c),this.__value=void 0===a?1:a,this.__checked=b}createDOM(a){let b=document.createElement("li"),c=this.getParent();return q(c)&&"check"===c.getListType()&&I(b,this,null),b.value=this.__value,J(b,a.theme,this),b}updateDOM(a,b,c){let d=this.getParent();return q(d)&&"check"===d.getListType()&&I(b,this,a),b.value=this.__value,J(b,c.theme,this),!1}static transform(){return a=>{let b=a.getParent();q(b)&&(E(b),"check"!==b.getListType()&&null!=a.getChecked()&&a.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:K,priority:0})}}static importJSON(a){let b=y();return b.setChecked(a.checked),b.setValue(a.value),b.setFormat(a.format),b.setDirection(a.direction),b}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...a){for(let b=0;b<a.length;b++){let c=a[b];if(h.$isElementNode(c)&&this.canMergeWith(c)){let d=c.getChildren();this.append(...d),c.remove()}else super.append(c)}return this}replace(a,b){if(p(a))return super.replace(a);this.setIndent(0);let c=this.getParentOrThrow();if(!q(c))return a;if(c.__first===this.getKey())c.insertBefore(a);else if(c.__last===this.getKey())c.insertAfter(a);else{let d=D(c.getListType()),e=this.getNextSibling();for(;e;){let f=e;e=e.getNextSibling(),d.append(f)}c.insertAfter(a),a.insertAfter(d)}return b&&this.getChildren().forEach((d=>{a.append(d)})),this.remove(),0===c.getChildrenSize()&&c.remove(),a}insertAfter(a,b=!0){var c=this.getParentOrThrow();q(c)||m(39);var d=this.getNextSiblings();if(p(a))return b=super.insertAfter(a,b),q(a=a.getParentOrThrow())&&E(a),b;if(q(a)){for(c=a,d=(a=a.getChildren()).length-1;0<=d;d--)c=a[d],this.insertAfter(c,b);return c}if(c.insertAfter(a,b),0!==d.length){let e=D(c.getListType());d.forEach((f=>e.append(f))),a.insertAfter(e,b)}return a}remove(a){let b=this.getPreviousSibling(),c=this.getNextSibling();super.remove(a),b&&c&&u(b)&&u(c)?(F(b.getFirstChild(),c.getFirstChild()),c.remove()):c&&(q(a=c.getParent())&&E(a))}insertNewAfter(a,b=!0){return a=y(null==this.__checked&&void 0),this.insertAfter(a,b),a}collapseAtStart(a){let b=h.$createParagraphNode();this.getChildren().forEach((f=>b.append(f)));var c=this.getParentOrThrow(),d=c.getParentOrThrow();let e=p(d);return 1===c.getChildrenSize()?e?(c.remove(),d.select()):(c.insertBefore(b),c.remove(),c=a.anchor,a=a.focus,d=b.getKey(),"element"===c.type&&c.getNode().is(this)&&c.set(d,c.offset,"element"),"element"===a.type&&a.getNode().is(this)&&a.set(d,a.offset,"element")):(c.insertBefore(b),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(a){this.getWritable().__value=a}getChecked(){return this.getLatest().__checked}setChecked(a){this.getWritable().__checked=a}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var a=this.getParent();if(null===a)return this.getLatest().__indent;a=a.getParentOrThrow();let b=0;for(;p(a);)a=a.getParentOrThrow().getParentOrThrow(),b++;return b}setIndent(a){"number"==typeof a&&-1<a||m(117);let b=this.getIndent();for(;b!==a;)if(b<a){a:{var c=new Set;if(u(this)||c.has(this.getKey()))break a;let g=this.getParent();var d=this.getNextSibling(),e=this.getPreviousSibling();if(u(d)&&u(e)){if(q(e=e.getFirstChild())){e.append(this);var f=d.getFirstChild();q(f)&&(B(e,f=f.getChildren()),d.remove(),c.add(d.getKey())),E(e)}}else u(d)?q(d=d.getFirstChild())&&(null!==(c=d.getFirstChild())&&c.insertBefore(this),E(d)):u(e)?q(d=e.getFirstChild())&&(d.append(this),E(d)):q(g)&&(c=y(),f=D(g.getListType()),c.append(f),f.append(this),e?e.insertAfter(c):d?d.insertBefore(c):g.append(c),E(f));q(g)&&E(g)}b++}else G(this),b--;return this}insertBefore(a){if(p(a)){let b=this.getParentOrThrow();if(q(b)){E(b,this.getNextSiblings())}}return super.insertBefore(a)}canInsertAfter(a){return p(a)}canReplaceWith(a){return p(a)}canMergeWith(a){return h.$isParagraphNode(a)||p(a)}extractWithChild(a,b){if(!h.$isRangeSelection(b))return!1;a=b.anchor.getNode();let c=b.focus.getNode();return this.isParentOf(a)&&this.isParentOf(c)&&this.getTextContent().length===b.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D("bullet")}}function J(a,b,c){let d=[],e=[];var f=(b=b.list)?b.listitem:void 0;if(b&&b.nested)var g=b.nested.listitem;if(void 0!==f&&(f=f.split(" "),d.push(...f)),b){f=q(f=c.getParent())&&"check"===f.getListType();let l=c.getChecked();f&&!l||e.push(b.listitemUnchecked),f&&l||e.push(b.listitemChecked),f&&d.push(l?b.listitemChecked:b.listitemUnchecked)}void 0!==g&&(g=g.split(" "),c.getChildren().some((l=>q(l)))?d.push(...g):e.push(...g)),0<e.length&&k.removeClassNamesFromElement(a,...e),0<d.length&&k.addClassNamesToElement(a,...d)}function I(a,b,c){q(b.getFirstChild())?(a.removeAttribute("role"),a.removeAttribute("tabIndex"),a.removeAttribute("aria-checked")):(a.setAttribute("role","checkbox"),a.setAttribute("tabIndex","-1"),c&&b.__checked===c.__checked||a.setAttribute("aria-checked",b.getChecked()?"true":"false"))}function K(a){return{node:y(a=k.isHTMLElement(a)&&"true"===a.getAttribute("aria-checked"))}}function y(a){return h.$applyNodeReplacement(new H(void 0,a))}function p(a){return a instanceof H}class L extends h.ElementNode{static getType(){return"list"}static clone(a){return new L(a.__listType||N[a.__tag],a.__start,a.__key)}constructor(a,b,c){super(c),this.__listType=a=N[a]||a,this.__tag="number"===a?"ol":"ul",this.__start=b}getTag(){return this.__tag}setListType(a){let b=this.getWritable();b.__listType=a,b.__tag="number"===a?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(a){let b=document.createElement(this.__tag);return 1!==this.__start&&b.setAttribute("start",String(this.__start)),b.__lexicalListType=this.__listType,O(b,a.theme,this),b}updateDOM(a,b,c){return a.__tag!==this.__tag||(O(b,c.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:P,priority:0}),ul:()=>({conversion:P,priority:0})}}static importJSON(a){let b=D(a.listType,a.start);return b.setFormat(a.format),b.setIndent(a.indent),b.setDirection(a.direction),b}exportDOM(a){return({element:a}=super.exportDOM(a)),a&&k.isHTMLElement(a)&&(1!==this.__start&&a.setAttribute("start",String(this.__start)),"check"===this.__listType&&a.setAttribute("__lexicalListType","check")),{element:a}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...a){for(let c=0;c<a.length;c++){var b=a[c];if(p(b))super.append(b);else{let d=y();q(b)?d.append(b):h.$isElementNode(b)?(b=h.$createTextNode(b.getTextContent()),d.append(b)):d.append(b),super.append(d)}}return E(this),this}extractWithChild(a){return p(a)}}function O(a,b,c){let d=[],e=[];var f=b.list;if(void 0!==f){let l=f[`${c.__tag}Depth`]||[],x=(b=n(c)-1)%l.length;var g=l[x];let A,M=f[c.__tag];if(void 0!==(f=f.nested)&&f.list&&(A=f.list),void 0!==M&&d.push(M),void 0!==g)for(g=g.split(" "),d.push(...g),g=0;g<l.length;g++)g!==x&&e.push(c.__tag+g);void 0!==A&&(c=A.split(" "),1<b?d.push(...c):e.push(...c))}0<e.length&&k.removeClassNamesFromElement(a,...e),0<d.length&&k.addClassNamesToElement(a,...d)}function Q(a){let b=[];for(let d=0;d<a.length;d++){var c=a[d];p(c)?(b.push(c),1<(c=c.getChildren()).length&&c.forEach((e=>{q(e)&&b.push(w(e))}))):b.push(w(c))}return b}function P(a){let b=a.nodeName.toLowerCase(),c=null;return"ol"===b?c=D("number",a.start):"ul"===b&&(c=k.isHTMLElement(a)&&"check"===a.getAttribute("__lexicallisttype")?D("check"):D("bullet")),{after:Q,node:c}}let N={ol:"number",ul:"bullet"};function D(a,b=1){return h.$applyNodeReplacement(new L(a,b))}function q(a){return a instanceof L}let R=h.createCommand("INSERT_UNORDERED_LIST_COMMAND"),S=h.createCommand("INSERT_ORDERED_LIST_COMMAND"),T=h.createCommand("INSERT_CHECK_LIST_COMMAND"),U=h.createCommand("REMOVE_LIST_COMMAND");exports.$createListItemNode=y,exports.$createListNode=D,exports.$getListDepth=n,exports.$handleListInsertParagraph=function(){var a=h.$getSelection();if(!h.$isRangeSelection(a)||!a.isCollapsed())return!1;if(!p(a=a.anchor.getNode())||0!==a.getChildrenSize())return!1;var b=r(a),c=a.getParent();q(c)||m(40);let e,d=c.getParent();if(h.$isRootOrShadowRoot(d))e=h.$createParagraphNode(),b.insertAfter(e);else{if(!p(d))return!1;e=y(),d.insertAfter(e)}if(e.select(),0<(b=a.getNextSiblings()).length){let f=D(c.getListType());h.$isParagraphNode(e)?e.insertAfter(f):((c=y()).append(f),e.insertAfter(c)),b.forEach((g=>{g.remove(),f.append(g)}))}return function v(a){for(;null==a.getNextSibling()&&null==a.getPreviousSibling();){let b=a.getParent();if(null==b||!p(a)&&!q(a))break;a=b}a.remove()}(a),!0},exports.$isListItemNode=p,exports.$isListNode=q,exports.INSERT_CHECK_LIST_COMMAND=T,exports.INSERT_ORDERED_LIST_COMMAND=S,exports.INSERT_UNORDERED_LIST_COMMAND=R,exports.ListItemNode=H,exports.ListNode=L,exports.REMOVE_LIST_COMMAND=U,exports.insertList=function(a,b){a.update((()=>{var c=h.$getSelection();if(h.$isRangeSelection(c)||h.DEPRECATED_$isGridSelection(c)){var d=c.getNodes(),e=(c=c.anchor.getNode()).getParent();if(z(c,d))d=D(b),h.$isRootOrShadowRoot(e)?(c.replace(d),e=y(),h.$isElementNode(c)&&(e.setFormat(c.getFormatType()),e.setIndent(c.getIndent())),d.append(e)):p(c)&&(B(d,(c=c.getParentOrThrow()).getChildren()),c.replace(d));else for(c=new Set,e=0;e<d.length;e++){var f=d[e];if(h.$isElementNode(f)&&f.isEmpty()&&!c.has(f.getKey()))C(f,b);else if(h.$isLeafNode(f))for(f=f.getParent();null!=f;){let l=f.getKey();if(q(f)){if(!c.has(l)){var g=D(b);B(g,f.getChildren()),f.replace(g),E(g),c.add(l)}break}if(g=f.getParent(),h.$isRootOrShadowRoot(g)&&!c.has(l)){c.add(l),C(f,b);break}f=g}}}}))},exports.removeList=function(a){a.update((()=>{let b=h.$getSelection();if(h.$isRangeSelection(b)){var c=new Set,d=b.getNodes(),e=b.anchor.getNode();if(z(e,d))c.add(r(e));else for(e=0;e<d.length;e++){var f=d[e];h.$isLeafNode(f)&&(null!=(f=k.$getNearestNodeOfType(f,H))&&c.add(r(f)))}for(let g of c){c=g,d=t(g);for(let l of d)B(d=h.$createParagraphNode(),l.getChildren()),c.insertAfter(d),c=d,l.__key===b.anchor.key&&b.anchor.set(d.getKey(),0,"element"),l.__key===b.focus.key&&b.focus.set(d.getKey(),0,"element"),l.remove();g.remove()}}}))}},"./node_modules/@lexical/react/LexicalAutoEmbedPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalAutoEmbedPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalAutoEmbedPlugin.prod.js");module.exports=LexicalAutoEmbedPlugin},"./node_modules/@lexical/react/LexicalAutoEmbedPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var e=__webpack_require__("./node_modules/@lexical/link/LexicalLink.js"),k=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),l=__webpack_require__("./node_modules/@lexical/react/LexicalNodeMenuPlugin.js"),q=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),r=__webpack_require__("./node_modules/lexical/Lexical.js"),z=__webpack_require__("./node_modules/react/index.js");let A=r.createCommand("INSERT_EMBED_COMMAND");class B extends l.MenuOption{constructor(f,n){super(f),this.title=f,this.onSelect=n.onSelect.bind(this)}}exports.AutoEmbedOption=B,exports.INSERT_EMBED_COMMAND=A,exports.LexicalAutoEmbedPlugin=function({embedConfigs:f,onOpenEmbedModalForConfig:n,getMenuOptions:t,menuRenderFn:C}){let[c]=k.useLexicalComposerContext(),[g,u]=z.useState(null),[h,v]=z.useState(null),m=z.useCallback((()=>{u(null),v(null)}),[]),w=z.useCallback((b=>{c.getEditorState().read((async()=>{const a=r.$getNodeByKey(b);if(e.$isLinkNode(a))for(let d=0;d<f.length;d++){const p=f[d];null!=await Promise.resolve(p.parseUrl(a.__url))&&(v(p),u(a.getKey()))}}))}),[c,f]);z.useEffect((()=>q.mergeRegister(...[e.LinkNode,e.AutoLinkNode].map((a=>c.registerMutationListener(a,((...d)=>((a,{updateTags:d,dirtyLeaves:p})=>{for(const[x,D]of a)"created"===D&&d.has("paste")&&3>=p.size?w(x):x===g&&m()})(...d))))))),[w,c,f,g,m]),z.useEffect((()=>c.registerCommand(A,(b=>{let a=f.find((({type:d})=>d===b));return!!a&&(n(a),!0)}),r.COMMAND_PRIORITY_EDITOR)),[c,f,n]);let y=z.useCallback((async()=>{if(null!=h&&null!=g){const b=c.getEditorState().read((()=>{const a=r.$getNodeByKey(g);return e.$isLinkNode(a)?a:null}));if(e.$isLinkNode(b)){const a=await Promise.resolve(h.parseUrl(b.__url));null!=a&&c.update((()=>{r.$getSelection()||b.selectEnd(),h.insertNode(c,a),b.isAttached()&&b.remove()}))}}}),[h,c,g]),E=z.useMemo((()=>null!=h&&null!=g?t(h,y,m):[]),[h,y,t,g,m]),F=z.useCallback(((b,a,d)=>{c.update((()=>{b.onSelect(a),d()}))}),[c]);return null!=g?z.createElement(l.LexicalNodeMenuPlugin,{nodeKey:g,onClose:m,onSelectOption:F,options:E,menuRenderFn:C}):null},exports.URL_MATCHER=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/},"./node_modules/@lexical/react/LexicalAutoFocusPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalAutoFocusPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalAutoFocusPlugin.prod.js");module.exports=LexicalAutoFocusPlugin},"./node_modules/@lexical/react/LexicalAutoFocusPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var e=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),f=__webpack_require__("./node_modules/react/index.js");exports.AutoFocusPlugin=function({defaultSelection:c}){let[a]=e.useLexicalComposerContext();return f.useEffect((()=>{a.focus((()=>{let d=document.activeElement,b=a.getRootElement();null===b||null!==d&&b.contains(d)||b.focus({preventScroll:!0})}),{defaultSelection:c})}),[c,a]),null}},"./node_modules/@lexical/react/LexicalAutoLinkPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalAutoLinkPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalAutoLinkPlugin.prod.js");module.exports=LexicalAutoLinkPlugin},"./node_modules/@lexical/react/LexicalAutoLinkPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var h=__webpack_require__("./node_modules/@lexical/link/LexicalLink.js"),n=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),p=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),u=__webpack_require__("./node_modules/lexical/Lexical.js"),w=__webpack_require__("./node_modules/react/index.js");function B(a,b){for(let c=0;c<b.length;c++){let d=b[c](a);if(d)return d}return null}let C=/[.,;\s]/;function E(a){var b;return a=a.getPreviousSibling(),u.$isElementNode(a)&&(a=a.getLastDescendant()),!(b=null===a||u.$isLineBreakNode(a))&&(b=u.$isTextNode(a))&&(a=a.getTextContent(),b=C.test(a[a.length-1])),b}function F(a){return a=a.getNextSibling(),u.$isElementNode(a)&&(a=a.getFirstDescendant()),null===a||u.$isLineBreakNode(a)||u.$isTextNode(a)&&C.test(a.getTextContent()[0])}function G(a,b,c){var d=a.getChildren();let e=d.length;for(let f=0;f<e;f++){let l=d[f];if(!u.$isTextNode(l)||!l.isSimpleText())return H(a),void c(null,a.getURL())}null===(b=B(d=a.getTextContent(),b))||b.text!==d?(H(a),c(null,a.getURL())):E(a)&&F(a)?((d=a.getURL())!==b.url&&(a.setURL(b.url),c(b.url,d)),b.attributes&&((d=a.getRel())!==b.attributes.rel&&(a.setRel(b.attributes.rel||null),c(b.attributes.rel||null,d)),(d=a.getTarget())!==b.attributes.target&&(a.setTarget(b.attributes.target||null),c(b.attributes.target||null,d)))):(H(a),c(null,a.getURL()))}function H(a){let b=a.getChildren();var c=b.length;for(--c;0<=c;c--)a.insertAfter(b[c]);return a.remove(),b.map((d=>d.getLatest()))}function I(a,b,c){w.useEffect((()=>{a.hasNodes([h.AutoLinkNode])||function A(a){let b=new URLSearchParams;b.append("code",a);for(let c=1;c<arguments.length;c++)b.append("v",arguments[c]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);let d=(e,f)=>{c&&c(e,f)};return p.mergeRegister(a.registerNodeTransform(u.TextNode,(e=>{var f=e.getParentOrThrow(),l=e.getPreviousSibling();if(h.$isAutoLinkNode(f))G(f,b,d);else if(!h.$isLinkNode(f)){if(e.isSimpleText()&&(C.test(e.getTextContent()[0])||!h.$isAutoLinkNode(l))){l=f=e.getTextContent();let m=0,v=e;for(var g;(g=B(l,b))&&null!==g;){let r=g.index,x=g.length,y=r+x;var t=m+r,q=m+y,z=f,D=e;if((0<t?C.test(z[t-1]):E(D))&&(q<z.length?C.test(z[q]):F(D))){var k=void 0;0===m+r?[k,v]=v.splitText(m+x):[,k,v]=v.splitText(m+r,m+r+x),t=h.$createAutoLinkNode(g.url,g.attributes),(q=u.$createTextNode(g.text)).setFormat(k.getFormat()),q.setDetail(k.getDetail()),t.append(q),k.replace(t),c&&c(g.url,null),m=0}else m+=y;l=l.substring(y)}}f=e.getPreviousSibling(),g=e.getNextSibling(),k=e.getTextContent(),h.$isAutoLinkNode(f)&&!C.test(k[0])&&(f.append(e),G(f,b,d),e=f.getURL(),c&&c(null,e)),h.$isAutoLinkNode(g)&&!C.test(k[k.length-1])&&(H(g),G(g,b,d),e=g.getURL(),c&&c(null,e))}})))}),[a,b,c])}exports.AutoLinkPlugin=function({matchers:a,onChange:b}){let[c]=n.useLexicalComposerContext();return I(c,a,b),null},exports.createLinkMatcherWithRegExp=function(a,b=(c=>c)){return c=>{let d=a.exec(c);return null===d?null:{index:d.index,length:d[0].length,text:d[0],url:b(c)}}}},"./node_modules/@lexical/react/LexicalBlockWithAlignableContents.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalBlockWithAlignableContents=__webpack_require__("./node_modules/@lexical/react/LexicalBlockWithAlignableContents.prod.js");module.exports=LexicalBlockWithAlignableContents},"./node_modules/@lexical/react/LexicalBlockWithAlignableContents.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var a=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),h=__webpack_require__("./node_modules/@lexical/react/LexicalDecoratorBlockNode.js"),l=__webpack_require__("./node_modules/@lexical/react/useLexicalNodeSelection.js"),m=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),u=__webpack_require__("./node_modules/lexical/Lexical.js"),v=__webpack_require__("./node_modules/react/index.js");exports.BlockWithAlignableContents=function({children:w,format:n,nodeKey:e,className:p}){let[f]=a.useLexicalComposerContext(),[c,q,r]=l.useLexicalNodeSelection(e),t=v.useRef(null),k=v.useCallback((b=>(c&&u.$isNodeSelection(u.$getSelection())&&(b.preventDefault(),b=u.$getNodeByKey(e),u.$isDecoratorNode(b)&&b.remove()),!1)),[c,e]);return v.useEffect((()=>m.mergeRegister(f.registerCommand(u.FORMAT_ELEMENT_COMMAND,(b=>{if(c){var g=u.$getSelection();if(u.$isNodeSelection(g)){var d=u.$getNodeByKey(e);h.$isDecoratorBlockNode(d)&&d.setFormat(b)}else if(u.$isRangeSelection(g))for(d of g=g.getNodes())h.$isDecoratorBlockNode(d)?d.setFormat(b):m.$getNearestBlockElementAncestorOrThrow(d).setFormat(b);return!0}return!1}),u.COMMAND_PRIORITY_LOW),f.registerCommand(u.CLICK_COMMAND,(b=>b.target===t.current&&(b.preventDefault(),b.shiftKey||r(),q(!c),!0)),u.COMMAND_PRIORITY_LOW),f.registerCommand(u.KEY_DELETE_COMMAND,k,u.COMMAND_PRIORITY_LOW),f.registerCommand(u.KEY_BACKSPACE_COMMAND,k,u.COMMAND_PRIORITY_LOW))),[r,f,c,e,k,q]),v.createElement("div",{className:[p.base,c?p.focus:null].filter(Boolean).join(" "),ref:t,style:{textAlign:n||void 0}},w)}},"./node_modules/@lexical/react/LexicalComposer.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalComposer=__webpack_require__("./node_modules/@lexical/react/LexicalComposer.prod.js");module.exports=LexicalComposer},"./node_modules/@lexical/react/LexicalComposer.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var e=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),f=__webpack_require__("./node_modules/lexical/Lexical.js"),g=__webpack_require__("./node_modules/react/index.js");let m="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var n=m?g.useLayoutEffect:g.useEffect;let p={tag:"history-merge"};exports.LexicalComposer=function({initialConfig:a,children:c}){let b=g.useMemo((()=>{const{theme:d,namespace:h,editor__DEPRECATED:r,nodes:t,onError:u,editorState:v}=a,w=e.createLexicalComposerContext(null,d);let k=r||null;if(null===k){const l=f.createEditor({editable:a.editable,namespace:h,nodes:t,onError:x=>u(x,l),theme:d});!function q(a,c){if(null!==c)if(void 0===c)a.update((()=>{var b=f.$getRoot();if(b.isEmpty()){let d=f.$createParagraphNode();b.append(d),b=m?document.activeElement:null,(null!==f.$getSelection()||null!==b&&b===a.getRootElement())&&d.select()}}),p);else if(null!==c)switch(typeof c){case"string":let b=a.parseEditorState(c);a.setEditorState(b,p);break;case"object":a.setEditorState(c,p);break;case"function":a.update((()=>{f.$getRoot().isEmpty()&&c(a)}),p)}}(l,v),k=l}return[k,w]}),[]);return n((()=>{let d=a.editable,[h]=b;h.setEditable(void 0===d||d)}),[]),g.createElement(e.LexicalComposerContext.Provider,{value:b},c)}},"./node_modules/@lexical/react/LexicalComposerContext.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalComposerContext=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.prod.js");module.exports=LexicalComposerContext},"./node_modules/@lexical/react/LexicalComposerContext.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var d=__webpack_require__("./node_modules/react/index.js");let f=d.createContext(null);exports.LexicalComposerContext=f,exports.createLexicalComposerContext=function(a,c){let b=null;return null!=a&&(b=a[1]),{getTheme:function(){return null!=c?c:null!=b?b.getTheme():null}}},exports.useLexicalComposerContext=function(){let a=d.useContext(f);return null==a&&function e(a){let c=new URLSearchParams;c.append("code",a);for(let b=1;b<arguments.length;b++)c.append("v",arguments[b]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${c} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),a}},"./node_modules/@lexical/react/LexicalContentEditable.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalContentEditable=__webpack_require__("./node_modules/@lexical/react/LexicalContentEditable.prod.js");module.exports=LexicalContentEditable},"./node_modules/@lexical/react/LexicalContentEditable.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),h=__webpack_require__("./node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var b,e=arguments[d];for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&(g[b]=e[b])}return g},n.apply(this,arguments)}var p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?h.useLayoutEffect:h.useEffect;exports.ContentEditable=function({ariaActiveDescendant:g,ariaAutoComplete:d,ariaControls:e,ariaDescribedBy:b,ariaExpanded:q,ariaLabel:r,ariaLabelledBy:t,ariaMultiline:u,ariaOwns:v,ariaRequired:w,autoCapitalize:x,className:y,id:z,role:l="textbox",spellCheck:A=!0,style:B,tabIndex:C,"data-testid":D,...E}){let[f]=c.useLexicalComposerContext(),[a,m]=h.useState(!1),F=h.useCallback((k=>{f.setRootElement(k)}),[f]);return p((()=>(m(f.isEditable()),f.registerEditableListener((k=>{m(k)})))),[f]),h.createElement("div",n({},E,{"aria-activedescendant":a?g:void 0,"aria-autocomplete":a?d:"none","aria-controls":a?e:void 0,"aria-describedby":b,"aria-expanded":a&&"combobox"===l?!!q:void 0,"aria-label":r,"aria-labelledby":t,"aria-multiline":u,"aria-owns":a?v:void 0,"aria-readonly":!a||void 0,"aria-required":w,autoCapitalize:x,className:y,contentEditable:a,"data-testid":D,id:z,ref:F,role:l,spellCheck:A,style:B,tabIndex:C}))}},"./node_modules/@lexical/react/LexicalDecoratorBlockNode.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalDecoratorBlockNode=__webpack_require__("./node_modules/@lexical/react/LexicalDecoratorBlockNode.prod.js");module.exports=LexicalDecoratorBlockNode},"./node_modules/@lexical/react/LexicalDecoratorBlockNode.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var b=__webpack_require__("./node_modules/lexical/Lexical.js");class c extends b.DecoratorNode{constructor(a,d){super(d),this.__format=a||""}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1}}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(a){this.getWritable().__format=a}isInline(){return!1}}exports.$isDecoratorBlockNode=function(a){return a instanceof c},exports.DecoratorBlockNode=c},"./node_modules/@lexical/react/LexicalErrorBoundary.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalErrorBoundary=__webpack_require__("./node_modules/@lexical/react/LexicalErrorBoundary.prod.js");module.exports=LexicalErrorBoundary},"./node_modules/@lexical/react/LexicalErrorBoundary.prod.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var h=__webpack_require__("./node_modules/react/index.js");function m(b,c){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,a){return g.__proto__=a,g})(b,c)}var t={error:null},u=function(b){function c(){for(var a,d=arguments.length,f=Array(d),e=0;e<d;e++)f[e]=arguments[e];return(a=b.call.apply(b,[this].concat(f))||this).state=t,a.resetErrorBoundary=function(){for(var k,p=arguments.length,q=Array(p),l=0;l<p;l++)q[l]=arguments[l];null==a.props.onReset||(k=a.props).onReset.apply(k,q),a.reset()},a}!function n(b,c){b.prototype=Object.create(c.prototype),b.prototype.constructor=b,m(b,c)}(c,b),c.getDerivedStateFromError=function(a){return{error:a}};var g=c.prototype;return g.reset=function(){this.setState(t)},g.componentDidCatch=function(a,d){var f,e;null==(f=(e=this.props).onError)||f.call(e,a,d)},g.componentDidUpdate=function(a,d){var e,k,f=this.props.resetKeys;null!==this.state.error&&null!==d.error&&function r(b,c){return void 0===b&&(b=[]),void 0===c&&(c=[]),b.length!==c.length||b.some((function(g,a){return!Object.is(g,c[a])}))}(a.resetKeys,f)&&(null==(e=(k=this.props).onResetKeysChange)||e.call(k,a.resetKeys,f),this.reset())},g.render=function(){var a=this.state.error,d=this.props,f=d.fallbackRender,e=d.FallbackComponent;if(d=d.fallback,null!==a){if(a={error:a,resetErrorBoundary:this.resetErrorBoundary},h.isValidElement(d))return d;if("function"==typeof f)return f(a);if(e)return h.createElement(e,a);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},c}(h.Component);module.exports=function({children:b,onError:c}){return h.createElement(u,{fallback:h.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:c},b)}},"./node_modules/@lexical/react/LexicalHistoryPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalHistoryPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalHistoryPlugin.prod.js");module.exports=LexicalHistoryPlugin},"./node_modules/@lexical/react/LexicalHistoryPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),history=__webpack_require__("./node_modules/@lexical/history/LexicalHistory.js"),f=__webpack_require__("./node_modules/react/index.js");exports.createEmptyHistoryState=history.createEmptyHistoryState,exports.HistoryPlugin=function({externalHistoryState:a}){let[b]=c.useLexicalComposerContext();return function g(a,b,d=1e3){let e=f.useMemo((()=>b||history.createEmptyHistoryState()),[b]);f.useEffect((()=>history.registerHistory(a,e,d)),[d,a,e])}(b,a),null}},"./node_modules/@lexical/react/LexicalLinkPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalLinkPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalLinkPlugin.prod.js");module.exports=LexicalLinkPlugin},"./node_modules/@lexical/react/LexicalLinkPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var b=__webpack_require__("./node_modules/@lexical/link/LexicalLink.js"),c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),k=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),l=__webpack_require__("./node_modules/lexical/Lexical.js"),m=__webpack_require__("./node_modules/react/index.js");exports.LinkPlugin=function({validateUrl:d}){let[e]=c.useLexicalComposerContext();return m.useEffect((()=>{if(!e.hasNodes([b.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return k.mergeRegister(e.registerCommand(b.TOGGLE_LINK_COMMAND,(a=>{if(null===a)return b.toggleLink(a),!0;if("string"==typeof a)return!(void 0!==d&&!d(a))&&(b.toggleLink(a),!0);let{url:f,target:g,rel:h,title:n}=a;return b.toggleLink(f,{rel:h,target:g,title:n}),!0}),l.COMMAND_PRIORITY_LOW),void 0!==d?e.registerCommand(l.PASTE_COMMAND,(a=>{let f=l.$getSelection();if(!l.$isRangeSelection(f)||f.isCollapsed()||!(a instanceof ClipboardEvent)||null==a.clipboardData)return!1;let g=a.clipboardData.getData("text");return!!d(g)&&(!f.getNodes().some((h=>l.$isElementNode(h)))&&(e.dispatchCommand(b.TOGGLE_LINK_COMMAND,g),a.preventDefault(),!0))}),l.COMMAND_PRIORITY_LOW):()=>{})}),[e,d]),null}},"./node_modules/@lexical/react/LexicalListPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalListPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalListPlugin.prod.js");module.exports=LexicalListPlugin},"./node_modules/@lexical/react/LexicalListPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var b=__webpack_require__("./node_modules/@lexical/list/LexicalList.js"),c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),d=__webpack_require__("./node_modules/react/index.js"),e=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),f=__webpack_require__("./node_modules/lexical/Lexical.js");exports.ListPlugin=function(){let[a]=c.useLexicalComposerContext();return d.useEffect((()=>{if(!a.hasNodes([b.ListNode,b.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[a]),function g(a){d.useEffect((()=>e.mergeRegister(a.registerCommand(b.INSERT_ORDERED_LIST_COMMAND,(()=>(b.insertList(a,"number"),!0)),f.COMMAND_PRIORITY_LOW),a.registerCommand(b.INSERT_UNORDERED_LIST_COMMAND,(()=>(b.insertList(a,"bullet"),!0)),f.COMMAND_PRIORITY_LOW),a.registerCommand(b.REMOVE_LIST_COMMAND,(()=>(b.removeList(a),!0)),f.COMMAND_PRIORITY_LOW),a.registerCommand(f.INSERT_PARAGRAPH_COMMAND,(()=>!!b.$handleListInsertParagraph()),f.COMMAND_PRIORITY_LOW))),[a])}(a),null}},"./node_modules/@lexical/react/LexicalNodeMenuPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalNodeMenuPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalNodeMenuPlugin.prod.js");module.exports=LexicalNodeMenuPlugin},"./node_modules/@lexical/react/LexicalNodeMenuPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var h=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),r=__webpack_require__("./node_modules/lexical/Lexical.js"),w=__webpack_require__("./node_modules/react/index.js"),x=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?w.useLayoutEffect:w.useEffect;let A=c=>{const a=document.getElementById("typeahead-menu");if(a){var d=a.getBoundingClientRect();d.top+d.height>window.innerHeight&&a.scrollIntoView({block:"center"}),0>d.top&&a.scrollIntoView({block:"center"}),c.scrollIntoView({block:"nearest"})}};function D(c,a){return c=c.getBoundingClientRect(),a=a.getBoundingClientRect(),c.top>a.top&&c.top<a.bottom}function E(c,a,d,g){let[f]=h.useLexicalComposerContext();w.useEffect((()=>{if(null!=a&&null!=c){let t=f.getRootElement(),p=null!=t?function C(c,a){let d=getComputedStyle(c),g="absolute"===d.position;if(a=a?/(auto|scroll|hidden)/:/(auto|scroll)/,"fixed"===d.position)return document.body;for(;c=c.parentElement;)if(d=getComputedStyle(c),(!g||"static"!==d.position)&&a.test(d.overflow+d.overflowY+d.overflowX))return c;return document.body}(t,!1):document.body,k=!1,b=D(a,p),m=function(){k||(window.requestAnimationFrame((function(){d(),k=!1})),k=!0);const q=D(a,p);q!==b&&(b=q,null!=g&&g(q))},n=new ResizeObserver(d);return window.addEventListener("resize",d),document.addEventListener("scroll",m,{capture:!0,passive:!0}),n.observe(a),()=>{n.unobserve(a),window.removeEventListener("resize",d),document.removeEventListener("scroll",m)}}}),[a,f,g,d,c])}let F=r.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function G({close:c,editor:a,anchorElementRef:d,resolution:g,options:f,menuRenderFn:t,onSelectOption:p,shouldSplitNodeWithQuery:k=!1}){let[b,m]=w.useState(null);w.useEffect((()=>{m(0)}),[g.match&&g.match.matchingString]);let n=w.useCallback((e=>{a.update((()=>{const l=null!=g.match&&k?function B(c){var a=r.$getSelection();if(!r.$isRangeSelection(a)||!a.isCollapsed())return null;var d=a.anchor;if("text"!==d.type)return null;if(!(a=d.getNode()).isSimpleText())return null;d=d.offset;let g=a.getTextContent().slice(0,d);var f=c.matchingString;for(let p=c=c.replaceableString.length;p<=f.length;p++)g.substr(-p)===f.substr(0,p)&&(c=p);if(0>(c=d-c))return null;let t;return 0===c?[t]=a.splitText(d):[,t]=a.splitText(c,d),t}(g.match):null;p(e,l,c,g.match?g.match.matchingString:"")}))}),[a,k,g.match,p,c]),q=w.useCallback((e=>{const l=a.getRootElement();null!==l&&(l.setAttribute("aria-activedescendant","typeahead-item-"+e),m(e))}),[a]);return w.useEffect((()=>()=>{let e=a.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[a]),y((()=>{null===f?m(null):null===b&&q(0)}),[f,b,q]),w.useEffect((()=>x.mergeRegister(a.registerCommand(F,(({option:e})=>!(!e.ref||null==e.ref.current)&&(A(e.ref.current),!0)),r.COMMAND_PRIORITY_LOW))),[a,q]),w.useEffect((()=>x.mergeRegister(a.registerCommand(r.KEY_ARROW_DOWN_COMMAND,(e=>{if(null!==f&&f.length&&null!==b){let l=b!==f.length-1?b+1:0;q(l);let v=f[l];null!=v.ref&&v.ref.current&&a.dispatchCommand(F,{index:l,option:v}),e.preventDefault(),e.stopImmediatePropagation()}return!0}),r.COMMAND_PRIORITY_LOW),a.registerCommand(r.KEY_ARROW_UP_COMMAND,(e=>{if(null!==f&&f.length&&null!==b){var l=0!==b?b-1:f.length-1;q(l),null!=(l=f[l]).ref&&l.ref.current&&A(l.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),r.COMMAND_PRIORITY_LOW),a.registerCommand(r.KEY_ESCAPE_COMMAND,(e=>(e.preventDefault(),e.stopImmediatePropagation(),c(),!0)),r.COMMAND_PRIORITY_LOW),a.registerCommand(r.KEY_TAB_COMMAND,(e=>null!==f&&null!==b&&null!=f[b]&&(e.preventDefault(),e.stopImmediatePropagation(),n(f[b]),!0)),r.COMMAND_PRIORITY_LOW),a.registerCommand(r.KEY_ENTER_COMMAND,(e=>null!==f&&null!==b&&null!=f[b]&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),n(f[b]),!0)),r.COMMAND_PRIORITY_LOW))),[n,c,a,f,b,q]),t(d,w.useMemo((()=>({options:f,selectOptionAndCleanUp:n,selectedIndex:b,setHighlightedIndex:m})),[n,b,f]),g.match?g.match.matchingString:"")}exports.LexicalNodeMenuPlugin=function({options:c,nodeKey:a,onClose:d,onOpen:g,onSelectOption:f,menuRenderFn:t,anchorClassName:p}){let[k]=h.useLexicalComposerContext(),[b,m]=w.useState(null);p=function H(c,a,d){let[g]=h.useLexicalComposerContext(),f=w.useRef(document.createElement("div")),t=w.useCallback((()=>{const k=g.getRootElement(),b=f.current;var m=b.firstChild;if(null!==k&&null!==c){const{left:q,top:u,width:e,height:l}=c.getRect();if(b.style.top=`${u+window.pageYOffset}px`,b.style.left=`${q+window.pageXOffset}px`,b.style.height=`${l}px`,b.style.width=`${e}px`,null!==m){var n=m.getBoundingClientRect();m=n.height,n=n.width;const v=k.getBoundingClientRect();q+n>v.right&&(b.style.left=`${v.right-n+window.pageXOffset}px`),(u+m>window.innerHeight||u+m>v.bottom)&&u-v.top>m&&(b.style.top=u-m+window.pageYOffset-(l+10)+"px")}b.isConnected||(null!=d&&(b.className=d),b.setAttribute("aria-label","Typeahead menu"),b.setAttribute("id","typeahead-menu"),b.setAttribute("role","listbox"),b.style.display="block",b.style.position="absolute",document.body.append(b)),f.current=b,k.setAttribute("aria-controls","typeahead-menu")}}),[g,c,d]);w.useEffect((()=>{let k=g.getRootElement();if(null!==c)return t(),()=>{null!==k&&k.removeAttribute("aria-controls");let b=f.current;null!==b&&b.isConnected&&b.remove()}}),[g,t,c]);let p=w.useCallback((k=>{null!==c&&(k||a(null))}),[c,a]);return E(c,f.current,t,p),f}(b,m,p);let n=w.useCallback((()=>{m(null),null!=d&&null!==b&&d()}),[d,b]),q=w.useCallback((e=>{m(e),null!=g&&null===b&&g(e)}),[g,b]),u=w.useCallback((()=>{a?k.update((()=>{const e=r.$getNodeByKey(a),l=k.getElementByKey(a);null!=e&&null!=l&&null==b&&function I(c){w.startTransition?w.startTransition(c):c()}((()=>q({getRect:()=>l.getBoundingClientRect()})))})):null==a&&null!=b&&n()}),[n,k,a,q,b]);return w.useEffect((()=>{u()}),[u,a]),w.useEffect((()=>{if(null!=a)return k.registerUpdateListener((({dirtyElements:e})=>{e.get(a)&&u()}))}),[k,u,a]),null===b||null===k?null:w.createElement(G,{close:n,resolution:b,editor:k,anchorElementRef:p,options:c,menuRenderFn:t,onSelectOption:f})},exports.MenuOption=class z{constructor(c){this.key=c,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(c){this.ref={current:c}}}},"./node_modules/@lexical/react/LexicalOnChangePlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalOnChangePlugin=__webpack_require__("./node_modules/@lexical/react/LexicalOnChangePlugin.prod.js");module.exports=LexicalOnChangePlugin},"./node_modules/@lexical/react/LexicalOnChangePlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),g=__webpack_require__("./node_modules/react/index.js"),h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;exports.OnChangePlugin=function({ignoreHistoryMergeTagChange:d=!0,ignoreSelectionChange:e=!1,onChange:a}){let[b]=c.useLexicalComposerContext();return h((()=>{if(a)return b.registerUpdateListener((({editorState:k,dirtyElements:l,dirtyLeaves:m,prevEditorState:n,tags:f})=>{e&&0===l.size&&0===m.size||d&&f.has("history-merge")||n.isEmpty()||a(k,b,f)}))}),[b,d,e,a]),null}},"./node_modules/@lexical/react/LexicalRichTextPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalRichTextPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalRichTextPlugin.prod.js");module.exports=LexicalRichTextPlugin},"./node_modules/@lexical/react/LexicalRichTextPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var b=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),g=__webpack_require__("./node_modules/@lexical/react/useLexicalEditable.js"),l=__webpack_require__("./node_modules/react/index.js"),m=__webpack_require__("./node_modules/@lexical/text/LexicalText.js"),n=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),p=__webpack_require__("./node_modules/react-dom/index.js"),t=__webpack_require__("./node_modules/@lexical/dragon/LexicalDragon.js"),u=__webpack_require__("./node_modules/@lexical/rich-text/LexicalRichText.js"),v="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;function w(a){return a.getEditorState().read(m.$canShowPlaceholderCurry(a.isComposing()))}function C({content:a}){var[d]=b.useLexicalComposerContext();d=function x(a){let[d,c]=l.useState((()=>w(a)));return v((()=>{function e(){let f=w(a);c(f)}return e(),n.mergeRegister(a.registerUpdateListener((()=>{e()})),a.registerEditableListener((()=>{e()})))}),[a]),d}(d);let c=g();return d?"function"==typeof a?a(c):a:null}exports.RichTextPlugin=function({contentEditable:a,placeholder:d,ErrorBoundary:c}){let[e]=b.useLexicalComposerContext();return c=function y(a,d){let[c,e]=l.useState((()=>a.getDecorators()));return v((()=>a.registerDecoratorListener((f=>{p.flushSync((()=>{e(f)}))}))),[a]),l.useEffect((()=>{e(a.getDecorators())}),[a]),l.useMemo((()=>{let f=[],q=Object.keys(c);for(let h=0;h<q.length;h++){let k=q[h],A=l.createElement(d,{onError:z=>a._onError(z)},l.createElement(l.Suspense,{fallback:null},c[k])),r=a.getElementByKey(k);null!==r&&f.push(p.createPortal(A,r,k))}return f}),[d,c,a])}(e,c),function B(a){v((()=>n.mergeRegister(u.registerRichText(a),t.registerDragonSupport(a))),[a])}(e),l.createElement(l.Fragment,null,a,l.createElement(C,{content:d}),c)}},"./node_modules/@lexical/react/LexicalTabIndentationPlugin.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalTabIndentationPlugin=__webpack_require__("./node_modules/@lexical/react/LexicalTabIndentationPlugin.prod.js");module.exports=LexicalTabIndentationPlugin},"./node_modules/@lexical/react/LexicalTabIndentationPlugin.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var d=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),e=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),f=__webpack_require__("./node_modules/lexical/Lexical.js"),g=__webpack_require__("./node_modules/react/index.js");function k(b){return b.registerCommand(f.KEY_TAB_COMMAND,(a=>{let c=f.$getSelection();return!!f.$isRangeSelection(c)&&(a.preventDefault(),a=function h(b){var a=b.getNodes();if(0<e.$filter(a,(c=>f.$isBlockElementNode(c)&&c.canIndent()?c:null)).length)return!0;if(a=b.anchor,a=(b=(b=b.focus).isBefore(a)?b:a).getNode(),(a=e.$getNearestBlockElementAncestorOrThrow(a)).canIndent()){a=a.getKey();let c=f.$createRangeSelection();if(c.anchor.set(a,0,"element"),c.focus.set(a,0,"element"),c=f.$normalizeSelection__EXPERIMENTAL(c),c.anchor.is(b))return!0}return!1}(c)?a.shiftKey?f.OUTDENT_CONTENT_COMMAND:f.INDENT_CONTENT_COMMAND:f.INSERT_TAB_COMMAND,b.dispatchCommand(a,void 0))}),f.COMMAND_PRIORITY_EDITOR)}exports.TabIndentationPlugin=function(){let[b]=d.useLexicalComposerContext();return g.useEffect((()=>k(b))),null},exports.registerTabIndentation=k},"./node_modules/@lexical/react/useLexicalEditable.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const useLexicalEditable=__webpack_require__("./node_modules/@lexical/react/useLexicalEditable.prod.js");module.exports=useLexicalEditable},"./node_modules/@lexical/react/useLexicalEditable.prod.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var b=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),k=__webpack_require__("./node_modules/react/index.js"),l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?k.useLayoutEffect:k.useEffect;function r(a){return{initialValueFn:()=>a.isEditable(),subscribe:c=>a.registerEditableListener(c)}}module.exports=function(){return function m(a){let[c]=b.useLexicalComposerContext(),e=k.useMemo((()=>a(c)),[c,a]),d=k.useRef(e.initialValueFn()),[n,g]=k.useState(d.current);return l((()=>{let{initialValueFn:p,subscribe:q}=e,f=p();return d.current!==f&&(d.current=f,g(f)),q((h=>{d.current=h,g(h)}))}),[e,a]),n}(r)}},"./node_modules/@lexical/react/useLexicalNodeSelection.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const useLexicalNodeSelection=__webpack_require__("./node_modules/@lexical/react/useLexicalNodeSelection.prod.js");module.exports=useLexicalNodeSelection},"./node_modules/@lexical/react/useLexicalNodeSelection.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/react/LexicalComposerContext.js"),f=__webpack_require__("./node_modules/lexical/Lexical.js"),h=__webpack_require__("./node_modules/react/index.js");function k(b,a){return b.getEditorState().read((()=>{let g=f.$getNodeByKey(a);return null!==g&&g.isSelected()}))}exports.useLexicalNodeSelection=function(b){let[a]=c.useLexicalComposerContext(),[g,l]=h.useState((()=>k(a,b)));return h.useEffect((()=>{let d=!0,e=a.registerUpdateListener((()=>{d&&l(k(a,b))}));return()=>{d=!1,e()}}),[a,b]),[g,h.useCallback((d=>{a.update((()=>{let e=f.$getSelection();f.$isNodeSelection(e)||(e=f.$createNodeSelection(),f.$setSelection(e)),d?e.add(b):e.delete(b)}))}),[a,b]),h.useCallback((()=>{a.update((()=>{const d=f.$getSelection();f.$isNodeSelection(d)&&d.clear()}))}),[a])]}},"./node_modules/@lexical/rich-text/LexicalRichText.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalRichText=__webpack_require__("./node_modules/@lexical/rich-text/LexicalRichText.prod.js");module.exports=LexicalRichText},"./node_modules/@lexical/rich-text/LexicalRichText.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var c=__webpack_require__("./node_modules/@lexical/clipboard/LexicalClipboard.js"),g=__webpack_require__("./node_modules/@lexical/selection/LexicalSelection.js"),h=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.js"),k=__webpack_require__("./node_modules/lexical/Lexical.js");function l(b,a){return void 0!==document.caretRangeFromPoint?null===(b=document.caretRangeFromPoint(b,a))?null:{node:b.startContainer,offset:b.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(b=document.caretPositionFromPoint(b,a))?null:{node:b.offsetNode,offset:b.offset}:null}let n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,p=n&&"documentMode"in document?document.documentMode:null;n&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),n&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let q=!(!n||!("InputEvent"in window)||p)&&"getTargetRanges"in new window.InputEvent("input"),r=n&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),t=n&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=n&&/^(?=.*Chrome).*/i.test(navigator.userAgent),v=n&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!u,w=k.createCommand("DRAG_DROP_PASTE_FILE");class x extends k.ElementNode{static getType(){return"quote"}static clone(b){return new x(b.__key)}constructor(b){super(b)}createDOM(b){let a=document.createElement("blockquote");return h.addClassNamesToElement(a,b.theme.quote),a}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:y,priority:0})}}exportDOM(b){if(({element:b}=super.exportDOM(b)),b&&h.isHTMLElement(b)){this.isEmpty()&&b.append(document.createElement("br"));var a=this.getFormatType();b.style.textAlign=a,(a=this.getDirection())&&(b.dir=a)}return{element:b}}static importJSON(b){let a=z();return a.setFormat(b.format),a.setIndent(b.indent),a.setDirection(b.direction),a}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(b,a){b=k.$createParagraphNode();let d=this.getDirection();return b.setDirection(d),this.insertAfter(b,a),b}collapseAtStart(){let b=k.$createParagraphNode();return this.getChildren().forEach((a=>b.append(a))),this.replace(b),!0}}function z(){return k.$applyNodeReplacement(new x)}class B extends k.ElementNode{static getType(){return"heading"}static clone(b){return new B(b.__tag,b.__key)}constructor(b,a){super(a),this.__tag=b}getTag(){return this.__tag}createDOM(b){let a=this.__tag,d=document.createElement(a);return void 0!==(b=b.theme.heading)&&h.addClassNamesToElement(d,b[a]),d}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:C,priority:0}),h2:()=>({conversion:C,priority:0}),h3:()=>({conversion:C,priority:0}),h4:()=>({conversion:C,priority:0}),h5:()=>({conversion:C,priority:0}),h6:()=>({conversion:C,priority:0}),p:b=>null!==(b=b.firstChild)&&D(b)?{conversion:()=>({node:null}),priority:3}:null,span:b=>D(b)?{conversion:()=>({node:E("h1")}),priority:3}:null}}exportDOM(b){if(({element:b}=super.exportDOM(b)),b&&h.isHTMLElement(b)){this.isEmpty()&&b.append(document.createElement("br"));var a=this.getFormatType();b.style.textAlign=a,(a=this.getDirection())&&(b.dir=a)}return{element:b}}static importJSON(b){let a=E(b.tag);return a.setFormat(b.format),a.setIndent(b.indent),a.setDirection(b.direction),a}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(b,a=!0){b=0<(b=b?b.anchor.offset:0)&&b<this.getTextContentSize()?E(this.getTag()):k.$createParagraphNode();let d=this.getDirection();return b.setDirection(d),this.insertAfter(b,a),b}collapseAtStart(){let b=this.isEmpty()?k.$createParagraphNode():E(this.getTag());return this.getChildren().forEach((a=>b.append(a))),this.replace(b),!0}extractWithChild(){return!0}}function D(b){return"span"===b.nodeName.toLowerCase()&&"26pt"===b.style.fontSize}function C(b){let a=b.nodeName.toLowerCase(),d=null;return"h1"!==a&&"h2"!==a&&"h3"!==a&&"h4"!==a&&"h5"!==a&&"h6"!==a||(d=E(a),null!==b.style&&d.setFormat(b.style.textAlign)),{node:d}}function y(b){let a=z();return null!==b.style&&a.setFormat(b.style.textAlign),{node:a}}function E(b){return k.$applyNodeReplacement(new B(b))}function H(b){let a=null;if(b instanceof DragEvent?a=b.dataTransfer:b instanceof ClipboardEvent&&(a=b.clipboardData),null===a)return[!1,[],!1];var d=a.types;return b=d.includes("Files"),d=d.includes("text/html")||d.includes("text/plain"),[b,Array.from(a.files),d]}function I(b){var a=k.$getSelection();if(!k.$isRangeSelection(a))return!1;let d=new Set;a=a.getNodes();for(let m=0;m<a.length;m++){var e=a[m],f=e.getKey();d.has(f)||(f=(e=h.$getNearestBlockElementAncestorOrThrow(e)).getKey(),e.canIndent()&&!d.has(f)&&(d.add(f),b(e)))}return 0<d.size}function J(b){return b=k.$getNearestNodeFromDOMNode(b),k.$isDecoratorNode(b)}exports.$createHeadingNode=E,exports.$createQuoteNode=z,exports.$isHeadingNode=function(b){return b instanceof B},exports.$isQuoteNode=function(b){return b instanceof x},exports.DRAG_DROP_PASTE=w,exports.HeadingNode=B,exports.QuoteNode=x,exports.eventFiles=H,exports.registerRichText=function(b){return h.mergeRegister(b.registerCommand(k.CLICK_COMMAND,(()=>{const a=k.$getSelection();return!!k.$isNodeSelection(a)&&(a.clear(),!0)}),0),b.registerCommand(k.DELETE_CHARACTER_COMMAND,(a=>{const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(d.deleteCharacter(a),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.DELETE_WORD_COMMAND,(a=>{const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(d.deleteWord(a),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.DELETE_LINE_COMMAND,(a=>{const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(d.deleteLine(a),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.CONTROLLED_TEXT_INSERTION_COMMAND,(a=>{const d=k.$getSelection();if("string"==typeof a)k.$isRangeSelection(d)?d.insertText(a):k.DEPRECATED_$isGridSelection(d);else{if(!k.$isRangeSelection(d)&&!k.DEPRECATED_$isGridSelection(d))return!1;const e=a.dataTransfer;null!=e?c.$insertDataTransferForRichText(e,d,b):k.$isRangeSelection(d)&&(a=a.data)&&d.insertText(a)}return!0}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.REMOVE_TEXT_COMMAND,(()=>{const a=k.$getSelection();return!!k.$isRangeSelection(a)&&(a.removeText(),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.FORMAT_TEXT_COMMAND,(a=>{const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(d.formatText(a),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.FORMAT_ELEMENT_COMMAND,(a=>{var d=k.$getSelection();if(!k.$isRangeSelection(d)&&!k.$isNodeSelection(d))return!1;d=d.getNodes();for(const e of d)null!==(d=h.$findMatchingParent(e,(f=>k.$isElementNode(f)&&!f.isInline())))&&d.setFormat(a);return!0}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.INSERT_LINE_BREAK_COMMAND,(a=>{const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(d.insertLineBreak(a),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.INSERT_PARAGRAPH_COMMAND,(()=>{const a=k.$getSelection();return!!k.$isRangeSelection(a)&&(a.insertParagraph(),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.INSERT_TAB_COMMAND,(()=>(k.$insertNodes([k.$createTabNode()]),!0)),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.INDENT_CONTENT_COMMAND,(()=>I((a=>{const d=a.getIndent();a.setIndent(d+1)}))),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.OUTDENT_CONTENT_COMMAND,(()=>I((a=>{const d=a.getIndent();0<d&&a.setIndent(d-1)}))),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ARROW_UP_COMMAND,(a=>{var d=k.$getSelection();if(k.$isNodeSelection(d)&&!J(a.target)){if(0<(a=d.getNodes()).length)return a[0].selectPrevious(),!0}else if(k.$isRangeSelection(d)&&(d=k.$getAdjacentNode(d.focus,!0),!a.shiftKey&&k.$isDecoratorNode(d)&&!d.isIsolated()&&!d.isInline()))return d.selectPrevious(),a.preventDefault(),!0;return!1}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ARROW_DOWN_COMMAND,(a=>{var d=k.$getSelection();if(k.$isNodeSelection(d)){if(0<(a=d.getNodes()).length)return a[0].selectNext(0,0),!0}else if(k.$isRangeSelection(d)){let e=d.focus;if("root"===e.key&&e.offset===k.$getRoot().getChildrenSize())return a.preventDefault(),!0;if(d=k.$getAdjacentNode(d.focus,!1),!a.shiftKey&&k.$isDecoratorNode(d)&&!d.isIsolated()&&!d.isInline())return d.selectNext(),a.preventDefault(),!0}return!1}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ARROW_LEFT_COMMAND,(a=>{const d=k.$getSelection();if(k.$isNodeSelection(d)){var e=d.getNodes();if(0<e.length)return a.preventDefault(),e[0].selectPrevious(),!0}return!!k.$isRangeSelection(d)&&(!!g.$shouldOverrideDefaultCharacterSelection(d,!0)&&(e=a.shiftKey,a.preventDefault(),g.$moveCharacter(d,e,!0),!0))}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ARROW_RIGHT_COMMAND,(a=>{const d=k.$getSelection();if(k.$isNodeSelection(d)&&!J(a.target)){var e=d.getNodes();if(0<e.length)return a.preventDefault(),e[0].selectNext(0,0),!0}return!!k.$isRangeSelection(d)&&(e=a.shiftKey,!!g.$shouldOverrideDefaultCharacterSelection(d,!1)&&(a.preventDefault(),g.$moveCharacter(d,e,!1),!0))}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_BACKSPACE_COMMAND,(a=>{if(J(a.target))return!1;const d=k.$getSelection();if(!k.$isRangeSelection(d))return!1;a.preventDefault(),({anchor:a}=d);const e=a.getNode();return d.isCollapsed()&&0===a.offset&&!k.$isRootNode(e)&&0<h.$getNearestBlockElementAncestorOrThrow(e).getIndent()?b.dispatchCommand(k.OUTDENT_CONTENT_COMMAND,void 0):b.dispatchCommand(k.DELETE_CHARACTER_COMMAND,!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_DELETE_COMMAND,(a=>{if(J(a.target))return!1;const d=k.$getSelection();return!!k.$isRangeSelection(d)&&(a.preventDefault(),b.dispatchCommand(k.DELETE_CHARACTER_COMMAND,!1))}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ENTER_COMMAND,(a=>{const d=k.$getSelection();if(!k.$isRangeSelection(d))return!1;if(null!==a){if((t||r||v)&&q)return!1;if(a.preventDefault(),a.shiftKey)return b.dispatchCommand(k.INSERT_LINE_BREAK_COMMAND,!1)}return b.dispatchCommand(k.INSERT_PARAGRAPH_COMMAND,void 0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.KEY_ESCAPE_COMMAND,(()=>{const a=k.$getSelection();return!!k.$isRangeSelection(a)&&(b.blur(),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.DROP_COMMAND,(a=>{const[,d]=H(a);if(0<d.length){var e=l(a.clientX,a.clientY);if(null!==e){const{offset:m,node:K}=e;var f=k.$getNearestNodeFromDOMNode(K);if(null!==f){if(e=k.$createRangeSelection(),k.$isTextNode(f))e.anchor.set(f.getKey(),m,"text"),e.focus.set(f.getKey(),m,"text");else{const A=f.getParentOrThrow().getKey();f=f.getIndexWithinParent()+1,e.anchor.set(A,f,"element"),e.focus.set(A,f,"element")}e=k.$normalizeSelection__EXPERIMENTAL(e),k.$setSelection(e)}b.dispatchCommand(w,d)}return a.preventDefault(),!0}return a=k.$getSelection(),!!k.$isRangeSelection(a)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.DRAGSTART_COMMAND,(a=>{[a]=H(a);const d=k.$getSelection();return!(a&&!k.$isRangeSelection(d))}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.DRAGOVER_COMMAND,(a=>{var[d]=H(a);const e=k.$getSelection();return!(d&&!k.$isRangeSelection(e))&&(null!==(d=l(a.clientX,a.clientY))&&(d=k.$getNearestNodeFromDOMNode(d.node),k.$isDecoratorNode(d)&&a.preventDefault()),!0)}),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.SELECT_ALL_COMMAND,(()=>(k.$selectAll(),!0)),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.COPY_COMMAND,(a=>(c.copyToClipboard(b,h.objectKlassEquals(a,ClipboardEvent)?a:null),!0)),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.CUT_COMMAND,(a=>(async function G(b,a){await c.copyToClipboard(a,h.objectKlassEquals(b,ClipboardEvent)?b:null),a.update((()=>{let d=k.$getSelection();k.$isRangeSelection(d)?d.removeText():k.$isNodeSelection(d)&&d.getNodes().forEach((e=>e.remove()))}))}(a,b),!0)),k.COMMAND_PRIORITY_EDITOR),b.registerCommand(k.PASTE_COMMAND,(a=>{const[,d,e]=H(a);if(0<d.length&&!e)return b.dispatchCommand(w,d),!0;if(k.isSelectionCapturedInDecoratorInput(a.target))return!1;const f=k.$getSelection();return!(!k.$isRangeSelection(f)&&!k.DEPRECATED_$isGridSelection(f))&&(function F(b,a){b.preventDefault(),a.update((()=>{let d=k.$getSelection(),e=b instanceof InputEvent||b instanceof KeyboardEvent?null:b.clipboardData;null!=e&&(k.$isRangeSelection(d)||k.DEPRECATED_$isGridSelection(d))&&c.$insertDataTransferForRichText(e,d,a)}),{tag:"paste"})}(a,b),!0)}),k.COMMAND_PRIORITY_EDITOR))}},"./node_modules/@lexical/selection/LexicalSelection.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalSelection=__webpack_require__("./node_modules/@lexical/selection/LexicalSelection.prod.js");module.exports=LexicalSelection},"./node_modules/@lexical/selection/LexicalSelection.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var k=__webpack_require__("./node_modules/lexical/Lexical.js");let u=new Map;function v(a){for(;null!=a;){if(a.nodeType===Node.TEXT_NODE)return a;a=a.firstChild}return null}function w(a){let b=a.parentNode;if(null==b)throw Error("Should never happen");return[b,Array.from(b.childNodes).indexOf(a)]}function y(a){let b={};a=a.split(";");for(let c of a)if(""!==c){let[e,d]=c.split(/:([^]+)/);b[e.trim()]=d.trim()}return b}function z(a){let b=u.get(a);return void 0===b&&(b=y(a),u.set(a,b)),b}function B(a,b){var c=z("getStyle"in a?a.getStyle():a.style);c=function A(a){let b="";for(let c in a)c&&(b+=`${c}: ${a[c]};`);return b}(b=Object.entries(b).reduce(((e,[d,f])=>(null===f?delete e[d]:e[d]=f,e)),{...c})),a.setStyle(c),u.set(c,b)}function D(a){for(;null!==a&&!k.$isRootOrShadowRoot(a);){let b=a.getLatest(),c=a.getParent();0===b.getChildrenSize()&&a.remove(!0),a=c}}function E(a,b,c,e,d=null){if(0!==b.length){var f=b[0],h=new Map,g=[];(f=k.$isElementNode(f)?f:f.getParentOrThrow()).isInline()&&(f=f.getParentOrThrow());for(var l=!1;null!==f;){var m=f.getPreviousSibling();if(null!==m){f=m,l=!0;break}if(f=f.getParentOrThrow(),k.$isRootOrShadowRoot(f))break}m=new Set;for(var p=0;p<c;p++){var n=b[p];k.$isElementNode(n)&&0===n.getChildrenSize()&&m.add(n.getKey())}var r=new Set;for(p=0;p<c;p++){var q=(n=b[p]).getParent();if(null!==q&&q.isInline()&&(q=q.getParent()),null!==q&&k.$isLeafNode(n)&&!r.has(n.getKey())){if(n=q.getKey(),void 0===h.get(n)){let t=e();t.setFormat(q.getFormatType()),t.setIndent(q.getIndent()),g.push(t),h.set(n,t),q.getChildren().forEach((x=>{t.append(x),r.add(x.getKey()),k.$isElementNode(x)&&x.getChildrenKeys().forEach((H=>r.add(H)))})),D(q)}}else m.has(n.getKey())&&((q=e()).setFormat(n.getFormatType()),q.setIndent(n.getIndent()),g.push(q),n.remove(!0))}if(null!==d)for(b=0;b<g.length;b++)d.append(g[b]);if(b=null,k.$isRootOrShadowRoot(f))if(l)if(null!==d)f.insertAfter(d);else for(d=g.length-1;0<=d;d--)f.insertAfter(g[d]);else if(l=f.getFirstChild(),k.$isElementNode(l)&&(f=l),null===l)if(d)f.append(d);else for(d=0;d<g.length;d++)l=g[d],f.append(l),b=l;else if(null!==d)l.insertBefore(d);else for(f=0;f<g.length;f++)d=g[f],l.insertBefore(d),b=d;else if(d)f.insertAfter(d);else for(d=g.length-1;0<=d;d--)l=g[d],f.insertAfter(l),b=l;g=k.$getPreviousSelection(),k.$isRangeSelection(g)&&g.anchor.getNode().isAttached()&&g.focus.getNode().isAttached()?k.$setSelection(g.clone()):null!==b?b.selectEnd():a.dirty=!0}}function F(a,b,c,e){a.modify(b?"extend":"move",c,e)}function G(a){return a=a.anchor.getNode(),"rtl"===(k.$isRootNode(a)?a:a.getParentOrThrow()).getDirection()}exports.$addNodeStyle=function(a){let b=y(a=a.getStyle());u.set(a,b)},exports.$cloneWithProperties=function(a){let b=a.constructor.clone(a);return b.__parent=a.__parent,b.__next=a.__next,b.__prev=a.__prev,k.$isElementNode(a)&&k.$isElementNode(b)?(b.__first=a.__first,b.__last=a.__last,b.__size=a.__size,b.__format=a.__format,b.__indent=a.__indent,b.__dir=a.__dir,b):(k.$isTextNode(a)&&k.$isTextNode(b)&&(b.__format=a.__format,b.__style=a.__style,b.__mode=a.__mode,b.__detail=a.__detail),b)},exports.$getSelectionStyleValueForProperty=function(a,b,c=""){let e=null,d=a.getNodes();var f=a.anchor,h=a.focus,g=a.isBackward();let l=g?h.offset:f.offset;if(f=g?h.getNode():f.getNode(),""!==a.style&&(null!==(a=z(a.style))&&b in a))return a[b];for(a=0;a<d.length;a++){var m=d[a];if((0===a||0!==l||!m.is(f))&&k.$isTextNode(m))if(h=b,g=c,h=null!==(m=z(m=m.getStyle()))&&m[h]||g,null===e)e=h;else if(e!==h){e="";break}}return null===e?c:e},exports.$isAtNodeEnd=function(a){return"text"===a.type?a.offset===a.getNode().getTextContentSize():a.offset===a.getNode().getChildrenSize()},exports.$isParentElementRTL=G,exports.$moveCaretSelection=F,exports.$moveCharacter=function(a,b,c){let e=G(a);F(a,b,c?!e:e,"character")},exports.$patchStyleText=function C(a,b){var c=a.getNodes(),e=c.length;if(k.DEPRECATED_$isGridSelection(a)){for(var d=k.$createRangeSelection(),f=d.anchor,h=d.focus,g=0;g<e;g++){var l=c[g];k.DEPRECATED_$isGridCellNode(l)&&(f.set(l.getKey(),0,"element"),h.set(l.getKey(),l.getChildrenSize(),"element"),C(k.$normalizeSelection__EXPERIMENTAL(d),b))}k.$setSelection(a)}else if(--e,d=c[0],f=c[e],a.isCollapsed())B(a,b);else{var m=a.anchor,p=a.focus;g=d.getTextContent().length,l=p.offset;var n=m.offset,r=m.isBefore(p);h=r?n:l,a=r?l:n;var q=r?m.type:p.type,t=r?p.type:m.type;if(m=r?p.key:m.key,k.$isTextNode(d)&&h===g&&(p=d.getNextSibling(),k.$isTextNode(p)&&(h=n=0,d=p)),1===c.length)k.$isTextNode(d)&&((h="element"===q?0:n>l?l:n)!==(a="element"===t?g:n>l?n:l)&&(0===h&&a===g?(B(d,b),d.select(h,a)):(c=d.splitText(h,a),B(c=0===h?c[0]:c[1],b),c.select(0,a-h))));else for(k.$isTextNode(d)&&h<d.getTextContentSize()&&(0!==h&&(d=d.splitText(h)[1]),B(d,b)),k.$isTextNode(f)&&(h=f.getTextContent().length,f.__key!==m&&0!==a&&(a=h),a!==h&&([f]=f.splitText(a)),0!==a&&B(f,b)),a=1;a<e;a++)g=(h=c[a]).getKey(),k.$isTextNode(h)&&g!==d.getKey()&&g!==f.getKey()&&!h.isToken()&&B(h,b)}},exports.$selectAll=function(a){let b=a.anchor;a=a.focus;var c=b.getNode().getTopLevelElementOrThrow().getParentOrThrow();let e=c.getFirstDescendant();c=c.getLastDescendant();let d="element",f="element",h=0;k.$isTextNode(e)?d="text":k.$isElementNode(e)||null===e||(e=e.getParentOrThrow()),k.$isTextNode(c)?(f="text",h=c.getTextContentSize()):k.$isElementNode(c)||null===c||(c=c.getParentOrThrow()),e&&c&&(b.set(e.getKey(),0,d),a.set(c.getKey(),h,f))},exports.$setBlocksType=function(a,b){if("root"===a.anchor.key){b=b();var c=k.$getRoot();(a=c.getFirstChild())?a.replace(b,!0):c.append(b)}else for(c=a.getNodes(),a=a.anchor.getNode().getParentOrThrow(),-1===c.indexOf(a)&&c.push(a),a.isInline()&&(a=a.getParentOrThrow(),-1===c.indexOf(a)&&c.push(a)),a=0;a<c.length;a++){let f=c[a];var e=f;if(!k.$isElementNode(e)||k.$isRootOrShadowRoot(e))e=!1;else{var d=e.getFirstChild();d=null===d||k.$isLineBreakNode(d)||k.$isTextNode(d)||d.isInline(),e=!e.isInline()&&!1!==e.canBeEmpty()&&d}e&&((e=b()).setFormat(f.getFormatType()),e.setIndent(f.getIndent()),f.replace(e,!0))}},exports.$shouldOverrideDefaultCharacterSelection=function(a,b){return a=k.$getAdjacentNode(a.focus,b),k.$isDecoratorNode(a)&&!a.isIsolated()||k.$isElementNode(a)&&!a.isInline()&&!a.canBeEmpty()},exports.$sliceSelectedTextNodeContent=function(a,b){if(b.isSelected()&&!b.isSegmented()&&!b.isToken()&&(k.$isRangeSelection(a)||k.DEPRECATED_$isGridSelection(a))){var c=a.anchor.getNode(),e=a.focus.getNode(),d=b.is(c),f=b.is(e);if(d||f){d=a.isBackward();let l,[h,g]=a.getCharacterOffsets();a=c.is(e),f=b.is(d?e:c),e=b.is(d?c:e),c=0,a?(c=h>g?g:h,l=h>g?h:g):f?(c=d?g:h,l=void 0):e&&(c=0,l=d=d?h:g),b.__text=b.__text.slice(c,l)}}return b},exports.$wrapNodes=function(a,b,c=null){var e=a.getNodes();let d=e.length;var f=a.anchor;if(0===d||1===d&&"element"===f.type&&0===f.getNode().getChildrenSize()){e=(a="text"===f.type?f.getNode().getParentOrThrow():f.getNode()).getChildren();let g=b();g.setFormat(a.getFormatType()),g.setIndent(a.getIndent()),e.forEach((l=>g.append(l))),c&&(g=c.append(g)),a.replace(g)}else{f=null;var h=[];for(let g=0;g<d;g++){let l=e[g];k.$isRootOrShadowRoot(l)?(E(a,h,h.length,b,c),h=[],f=l):null===f||null!==f&&k.$hasAncestor(l,f)?h.push(l):(E(a,h,h.length,b,c),h=[l])}E(a,h,h.length,b,c)}},exports.createDOMRange=function(a,b,c,e,d){let f=b.getKey(),h=e.getKey(),g=document.createRange(),l=a.getElementByKey(f);if(a=a.getElementByKey(h),k.$isTextNode(b)&&(l=v(l)),k.$isTextNode(e)&&(a=v(a)),void 0===b||void 0===e||null===l||null===a)return null;"BR"===l.nodeName&&([l,c]=w(l)),"BR"===a.nodeName&&([a,d]=w(a)),b=l.firstChild,l===a&&null!=b&&"BR"===b.nodeName&&0===c&&0===d&&(d=1);try{g.setStart(l,c),g.setEnd(a,d)}catch(m){return null}return!g.collapsed||c===d&&f===h||(g.setStart(a,d),g.setEnd(l,c)),g},exports.createRectsFromDOMRange=function(a,b){var c=a.getRootElement();if(null===c)return[];a=c.getBoundingClientRect(),c=getComputedStyle(c),c=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight);let d,e=(b=Array.from(b.getClientRects())).length;b.sort(((f,h)=>{let g=f.top-h.top;return 3>=Math.abs(g)?f.left-h.left:g}));for(let f=0;f<e;f++){let h=b[f],g=h.width+c===a.width;d&&d.top<=h.top&&d.top+d.height>h.top&&d.left+d.width>h.left||g?(b.splice(f--,1),e--):d=h}return b},exports.getStyleObjectFromCSS=z,exports.trimTextContentFromAnchor=function(a,b,c){let e=b.getNode();if(k.$isElementNode(e)){var d=e.getDescendantByIndex(b.offset);null!==d&&(e=d)}for(;0<c&&null!==e;){var f=e.getPreviousSibling(),h=0;if(null===f){for(var g=(d=e.getParentOrThrow()).getPreviousSibling();null===g;){if(null===(d=d.getParent())){f=null;break}g=d.getPreviousSibling()}null!==d&&(h=d.isInline()?0:2,f=k.$isElementNode(g)?g.getLastDescendant():g)}if(""===(g=e.getTextContent())&&k.$isElementNode(e)&&!e.isInline()&&(g="\n\n"),d=g.length,!k.$isTextNode(e)||c>=d)g=e.getParent(),e.remove(),null==g||0!==g.getChildrenSize()||k.$isRootNode(g)||g.remove(),c-=d+h,e=f;else{let l=e.getKey();h=a.getEditorState().read((()=>{const p=k.$getNodeByKey(l);return k.$isTextNode(p)&&p.isSimpleText()?p.getTextContent():null})),f=d-c;let m=g.slice(0,f);null!==h&&h!==g?(c=k.$getPreviousSelection(),d=e,e.isSimpleText()?e.setTextContent(h):(d=k.$createTextNode(h),e.replace(d)),k.$isRangeSelection(c)&&c.isCollapsed()&&(c=c.anchor.offset,d.select(c,c))):e.isSimpleText()?(h=b.key===l,(g=b.offset)<c&&(g=d),c=h?g-c:0,d=h?g:f,h&&0===c?([c]=e.splitText(c,d),c.remove()):([,c]=e.splitText(c,d),c.remove())):(c=k.$createTextNode(m),e.replace(c)),c=0}}}},"./node_modules/@lexical/text/LexicalText.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalText=__webpack_require__("./node_modules/@lexical/text/LexicalText.prod.js");module.exports=LexicalText},"./node_modules/@lexical/text/LexicalText.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var g=__webpack_require__("./node_modules/lexical/Lexical.js");function r(c,h=!0){return!c&&(c=t(),h&&(c=c.trim()),""===c)}function t(){return g.$getRoot().getTextContent()}function u(c){if(!r(c,!1))return!1;let h=(c=g.$getRoot().getChildren()).length;if(1<h)return!1;for(let e=0;e<h;e++){var b=c[e];if(g.$isDecoratorNode(b))return!1;if(g.$isElementNode(b)){if(!g.$isParagraphNode(b)||0!==b.__indent)return!1;let n=(b=b.getChildren()).length;for(let q=0;q<n;q++)if(!g.$isTextNode(b[e]))return!1}}return!0}exports.$canShowPlaceholder=u,exports.$canShowPlaceholderCurry=function(c){return()=>u(c)},exports.$findTextIntersectionFromCharacters=function(c,h){var b=c.getFirstChild();c=0;a:for(;null!==b;){if(g.$isElementNode(b)){var e=b.getFirstChild();if(null!==e){b=e;continue}}else if(g.$isTextNode(b)){if(c+(e=b.getTextContentSize())>h)return{node:b,offset:h-c};c+=e}if(null===(e=b.getNextSibling())){for(b=b.getParent();null!==b;){if(null!==(e=b.getNextSibling())){b=e;continue a}b=b.getParent()}break}b=e}return null},exports.$isRootTextContentEmpty=r,exports.$isRootTextContentEmptyCurry=function(c,h){return()=>r(c,h)},exports.$rootTextContent=t,exports.registerLexicalTextEntity=function(c,h,b,e){let n=a=>{const d=g.$createTextNode(a.getTextContent());d.setFormat(a.getFormat()),a.replace(d)};return[c.registerNodeTransform(g.TextNode,(a=>{if(a.isSimpleText()){var d=a.getPreviousSibling(),l=a.getTextContent(),m=a;if(g.$isTextNode(d)){var k=d.getTextContent(),f=h(k+l);if(d instanceof b){if(null===f||0!==d.getLatest().__mode)return void n(d);if(0<(f=f.end-k.length))return m=k+(m=l.slice(0,f)),d.select(),d.setTextContent(m),void(f===l.length?a.remove():(d=l.slice(f),a.setTextContent(d)))}else if(null===f||f.start<k.length)return}for(;;){if(l=f=null===(a=h(l))?"":l.slice(a.end),""===f){if(k=m.getNextSibling(),g.$isTextNode(k)){if(f=m.getTextContent()+k.getTextContent(),null===(f=h(f))){k instanceof b?n(k):k.markDirty();break}if(0!==f.start)break}}else if(null!==(k=h(f))&&0===k.start)break;if(null===a)break;if(0===a.start&&g.$isTextNode(d)&&d.isTextEntity())continue;let p;if(0===a.start?[p,m]=m.splitText(a.end):[,p,m]=m.splitText(a.start,a.end),(a=e(p)).setFormat(p.getFormat()),p.replace(a),null==m)break}}})),c=c.registerNodeTransform(b,(a=>{var d=a.getTextContent();const l=h(d);null===l||0!==l.start?n(a):d.length>l.end?a.splitText(l.end):(d=a.getPreviousSibling(),g.$isTextNode(d)&&d.isTextEntity()&&(n(d),n(a)),d=a.getNextSibling(),g.$isTextNode(d)&&d.isTextEntity()&&(n(d),a instanceof b&&n(a)))}))]}},"./node_modules/@lexical/utils/LexicalUtils.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const LexicalUtils=__webpack_require__("./node_modules/@lexical/utils/LexicalUtils.prod.js");module.exports=LexicalUtils},"./node_modules/@lexical/utils/LexicalUtils.prod.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var g=__webpack_require__("./node_modules/@lexical/selection/LexicalSelection.js"),n=__webpack_require__("./node_modules/lexical/Lexical.js");function r(a,b){for(let c of b)if(a.type.startsWith(c))return!0;return!1}function t(a,b){for(;a!==n.$getRoot()&&null!=a;){if(b(a))return a;a=a.getParent()}return null}exports.$splitNode=n.$splitNode,exports.isHTMLAnchorElement=n.isHTMLAnchorElement,exports.isHTMLElement=n.isHTMLElement,exports.$dfs=function(a,b){let c=[];a=(a||n.$getRoot()).getLatest(),b=b||(n.$isElementNode(a)?a.getLastDescendant():a);for(var e=a,d=0;null!==(e=e.getParent());)d++;for(e=d;null!==a&&!a.is(b);)if(c.push({depth:e,node:a}),n.$isElementNode(a)&&0<a.getChildrenSize())a=a.getFirstChild(),e++;else for(d=null;null===d&&null!==a;)null===(d=a.getNextSibling())?(a=a.getParent(),e--):a=d;return null!==a&&a.is(b)&&c.push({depth:e,node:a}),c},exports.$filter=function(a,b){let c=[];for(let e=0;e<a.length;e++){let d=b(a[e]);null!==d&&c.push(d)}return c},exports.$findMatchingParent=t,exports.$getNearestBlockElementAncestorOrThrow=function(a){let b=t(a,(c=>n.$isElementNode(c)&&!c.isInline()));return n.$isElementNode(b)||function p(a){let b=new URLSearchParams;b.append("code",a);for(let c=1;c<arguments.length;c++)b.append("v",arguments[c]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,a.__key),b},exports.$getNearestNodeOfType=function(a,b){for(;null!=a;){if(a instanceof b)return a;a=a.getParent()}return null},exports.$insertFirst=function(a,b){let c=a.getFirstChild();null!==c?c.insertBefore(b):a.append(b)},exports.$insertNodeToNearestRoot=function(a){var b=n.$getSelection()||n.$getPreviousSelection();if(n.$isRangeSelection(b)){var{focus:c}=b;if(b=c.getNode(),c=c.offset,n.$isRootOrShadowRoot(b))null==(c=b.getChildAtIndex(c))?b.append(a):c.insertBefore(a),a.selectNext();else{let e,d;n.$isTextNode(b)?(e=b.getParentOrThrow(),d=b.getIndexWithinParent(),0<c&&(d+=1,b.splitText(c))):(e=b,d=c),[,b]=n.$splitNode(e,d),b.insertBefore(a),b.selectStart()}}else n.$isNodeSelection(b)||n.DEPRECATED_$isGridSelection(b)?(b=b.getNodes())[b.length-1].getTopLevelElementOrThrow().insertAfter(a):n.$getRoot().append(a),b=n.$createParagraphNode(),a.insertAfter(b),b.select();return a.getLatest()},exports.$restoreEditorState=function(a,b){let c=new Map,e=a._pendingEditorState;for(let[d,f]of b._nodeMap){let h=g.$cloneWithProperties(f);n.$isTextNode(h)&&(h.__text=f.__text),c.set(d,h)}e&&(e._nodeMap=c),a._dirtyType=2,a=b._selection,n.$setSelection(null===a?null:a.clone())},exports.$wrapNodeInElement=function(a,b){return b=b(),a.replace(b),b.append(a),b},exports.addClassNamesToElement=function(a,...b){b.forEach((c=>{"string"==typeof c&&(c=c.split(" ").filter((e=>""!==e)),a.classList.add(...c))}))},exports.isMimeType=r,exports.mediaFileReader=function(a,b){let c=a[Symbol.iterator]();return new Promise(((e,d)=>{let f=[],h=()=>{const{done:m,value:k}=c.next();if(m)return e(f);const l=new FileReader;l.addEventListener("error",d),l.addEventListener("load",(()=>{const q=l.result;"string"==typeof q&&f.push({file:k,result:q}),h()})),r(k,b)?l.readAsDataURL(k):h()};h()}))},exports.mergeRegister=function(...a){return()=>{a.forEach((b=>b()))}},exports.objectKlassEquals=function(a,b){return null!==a&&Object.getPrototypeOf(a).constructor.name===b.name},exports.registerNestedElementResolver=function(a,b,c,e){return a.registerNodeTransform(b,(d=>{a:{for(var f=d.getChildren(),h=0;h<f.length;h++)if(f[h]instanceof b){f=null;break a}for(f=d;null!==f;)if(h=f,(f=f.getParent())instanceof b){f={child:h,parent:f};break a}f=null}if(null!==f){const{child:m,parent:k}=f;if(m.is(d)){if(e(k,d),f=(d=m.getNextSiblings()).length,k.insertAfter(m),0!==f){h=c(k),m.insertAfter(h);for(let l=0;l<f;l++)h.append(d[l])}k.canBeEmpty()||0!==k.getChildrenSize()||k.remove()}}}))},exports.removeClassNamesFromElement=function(a,...b){b.forEach((c=>{"string"==typeof c&&a.classList.remove(...c.split(" "))}))}},"./node_modules/@nimbus-ds/typings/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var e;__webpack_require__.g,module.exports=(e=__webpack_require__("./node_modules/react/index.js"),(()=>{"use strict";var r={156:r=>{r.exports=e}},t={};function o(e){var s=t[e];if(void 0!==s)return s.exports;var n=t[e]={exports:{}};return r[e](n,n.exports,o),n.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.useRefObjectAsForwardedRef=void 0;const r=o(156);e.useRefObjectAsForwardedRef=function(e,t){(0,r.useImperativeHandle)(e,(()=>t.current))}})(),s})())},"./node_modules/lexical/Lexical.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const Lexical=__webpack_require__("./node_modules/lexical/Lexical.prod.js");module.exports=Lexical},"./node_modules/lexical/Lexical.prod.js":(__unused_webpack_module,exports)=>{"use strict";let aa={},ba={},da={},ea={},fa={},ha={},ka={},ma={},na={},pa={},qa={},ra={},sa={},ta={},ua={},va={},xa={},ya={},za={},Aa={},Ba={},Ca={},Fa={},Ga={},Ha={},Ia={},Ja={},Ka={},La={},Ma={},Na={},Oa={},Pa={},Qa={},Ra={},Sa={};function r(a){let b=new URLSearchParams;b.append("code",a);for(let c=1;c<arguments.length;c++)b.append("v",arguments[c]);throw Error(`Minified Lexical error #${a}; visit https://lexical.dev/docs/error?${b} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Ta="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Ua=Ta&&"documentMode"in document?document.documentMode:null,t=Ta&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Wa=Ta&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Xa=!(!Ta||!("InputEvent"in window)||Ua)&&"getTargetRanges"in new window.InputEvent("input"),Ya=Ta&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Za=Ta&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,$a=Ta&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ab=Ta&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!$a,bb=Ya||Za||ab?" ":"​",cb=Wa?" ":bb,db=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,eb=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,fb={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},gb={directionless:1,unmergeable:2},hb={center:2,end:6,justify:4,left:1,right:3,start:5},ib={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},jb={normal:0,segmented:2,token:1},kb={0:"normal",2:"segmented",1:"token"},ob=!1,pb=0;function qb(a){pb=a.timeStamp}function rb(a,b,c){return b.__lexicalLineBreak===a||void 0!==a[`__lexicalKey_${c._key}`]}function tb(a,b,c){ob=!0;let d=100<performance.now()-pb;try{w(a,(()=>{let e=v()||function sb(a){return a.getEditorState().read((()=>{let b=v();return null!==b?b.clone():null}))}(a);var f=new Map,g=a.getRootElement(),h=a._editorState,k=a._blockCursorElement;let m=!1,n="";for(var p=0;p<b.length;p++){var l=b[p],q=l.type,u=l.target,x=ub(u,h);if(!(null===x&&u!==g||z(x)))if("characterData"===q){if(l=d&&B(x))a:{q=u;var y=x;if(C(l=e)){var A=l.anchor.getNode();if(A.is(y)&&l.format!==A.getFormat()){l=!1;break a}}l=3===q.nodeType&&y.isAttached()}l&&(q=l=null,null!==(y=vb(a._window))&&y.anchorNode===u&&(l=y.anchorOffset,q=y.focusOffset),null!==(u=u.nodeValue)&&wb(x,u,l,q,!1))}else if("childList"===q){for(m=!0,q=l.addedNodes,y=0;y<q.length;y++){var Z=xb(A=q[y]),ca=A.parentNode;null==ca||A===k||null!==Z||"BR"===A.nodeName&&rb(A,ca,a)||(Wa&&(Z=A.innerText||A.nodeValue)&&(n+=Z),ca.removeChild(A))}if(0<(q=(l=l.removedNodes).length)){for(y=0,A=0;A<q;A++)("BR"===(ca=l[A]).nodeName&&rb(ca,u,a)||k===ca)&&(u.appendChild(ca),y++);q!==y&&(u===g&&(x=h._nodeMap.get("root")),f.set(u,x))}}}if(0<f.size)for(let[Va,la]of f)if(D(la))for(f=la.getChildrenKeys(),g=Va.firstChild,h=0;h<f.length;h++)null!==(k=a.getElementByKey(f[h]))&&(null==g?(Va.appendChild(k),g=k):g!==k&&Va.replaceChild(k,g),g=g.nextSibling);else B(la)&&la.markDirty();if(0<(f=c.takeRecords()).length){for(g=0;g<f.length;g++)for(h=(k=f[g]).addedNodes,k=k.target,p=0;p<h.length;p++)null==(u=(x=h[p]).parentNode)||"BR"!==x.nodeName||rb(x,k,a)||u.removeChild(x);c.takeRecords()}null!==e&&(m&&(e.dirty=!0,yb(e)),Wa&&zb(a)&&e.insertRawText(n))}))}finally{ob=!1}}function Ab(a){let b=a._observer;if(null!==b){tb(a,b.takeRecords(),b)}}function Bb(a){0===pb&&Cb(a).addEventListener("textInput",qb,!0),a._observer=new MutationObserver(((b,c)=>{tb(a,b,c)}))}function Db(a,b){let c=a.__mode,d=a.__format;a=a.__style;let e=b.__mode,f=b.__format;return b=b.__style,!(null!==c&&c!==e||null!==d&&d!==f||null!==a&&a!==b)}function Eb(a,b){let c=a.mergeWithSibling(b),d=F()._normalizedNodes;return d.add(a.__key),d.add(b.__key),c}function Fb(a){if(""===a.__text&&a.isSimpleText()&&!a.isUnmergeable())a.remove();else{for(var b;null!==(b=a.getPreviousSibling())&&B(b)&&b.isSimpleText()&&!b.isUnmergeable();){if(""!==b.__text){Db(b,a)&&(a=Eb(b,a));break}b.remove()}for(var c;null!==(c=a.getNextSibling())&&B(c)&&c.isSimpleText()&&!c.isUnmergeable();){if(""!==c.__text){Db(a,c)&&Eb(a,c);break}c.remove()}}}function Gb(a){return Hb(a.anchor),Hb(a.focus),a}function Hb(a){for(;"element"===a.type;){var b=a.getNode(),c=a.offset;if(c===b.getChildrenSize()?(b=b.getChildAtIndex(c-1),c=!0):(b=b.getChildAtIndex(c),c=!1),B(b)){a.set(b.__key,c?b.getTextContentSize():0,"text");break}if(!D(b))break;a.set(b.__key,c?b.getChildrenSize():0,"element")}}let Ib=1,Jb="function"==typeof queueMicrotask?queueMicrotask:a=>{Promise.resolve().then(a)};function Kb(a){let b=document.activeElement;if(null===b)return!1;let c=b.nodeName;return z(ub(a))&&("INPUT"===c||"TEXTAREA"===c||"true"===b.contentEditable&&null==b.__lexicalEditor)}function Lb(a,b,c){let d=a.getRootElement();try{return null!==d&&d.contains(b)&&d.contains(c)&&null!==b&&!Kb(b)&&Mb(b)===a}catch(e){return!1}}function Mb(a){for(;null!=a;){let b=a.__lexicalEditor;if(null!=b)return b;a=Nb(a)}return null}function Ob(a){return a.isToken()||a.isSegmented()}function Vb(a){for(;null!=a;){if(3===a.nodeType)return a;a=a.firstChild}return null}function Wb(a,b,c){return a&(b=fb[b])&&(null===c||0==(c&b))?a^b:null===c||c&b?a|b:a}function Xb(a){return B(a)||Yb(a)||z(a)}function Zb(a,b){if(null!=b)a.__key=b;else{G(),99<$b&&r(14),b=F();var c=ac(),d=""+Ib++;c._nodeMap.set(d,a),D(a)?b._dirtyElements.set(d,!0):b._dirtyLeaves.add(d),b._cloneNotNeeded.add(d),b._dirtyType=1,a.__key=d}}function bc(a){var b=a.getParent();if(null!==b){let e=a.getWritable();b=b.getWritable();var c=a.getPreviousSibling();if(a=a.getNextSibling(),null===c)if(null!==a){var d=a.getWritable();b.__first=a.__key,d.__prev=null}else b.__first=null;else{if(d=c.getWritable(),null!==a){let f=a.getWritable();f.__prev=d.__key,d.__next=f.__key}else d.__next=null;e.__prev=null}null===a?null!==c?(a=c.getWritable(),b.__last=c.__key,a.__next=null):b.__last=null:(a=a.getWritable(),null!==c?((c=c.getWritable()).__next=a.__key,a.__prev=c.__key):a.__prev=null,e.__next=null),b.__size--,e.__parent=null}}function cc(a){99<$b&&r(14);var b=a.getLatest(),c=b.__parent,d=ac();let e=F(),f=d._nodeMap;if(d=e._dirtyElements,null!==c)a:for(;null!==c&&!d.has(c);){let g=f.get(c);if(void 0===g)break;d.set(c,!1),c=g.__parent}b=b.__key,e._dirtyType=1,D(a)?d.set(b,!0):e._dirtyLeaves.add(b)}function H(a){G();var b=F();let c=b._compositionKey;a!==c&&(b._compositionKey=a,null!==c&&(null!==(b=I(c))&&b.getWritable()),null!==a&&(null!==(a=I(a))&&a.getWritable()))}function dc(){return ec()?null:F()._compositionKey}function I(a,b){return void 0===(a=(b||ac())._nodeMap.get(a))?null:a}function xb(a,b){return void 0!==(a=a[`__lexicalKey_${F()._key}`])?I(a,b):null}function ub(a,b){for(;null!=a;){let c=xb(a,b);if(null!==c)return c;a=Nb(a)}return null}function fc(a){let b=Object.assign({},a._decorators);return a._pendingDecorators=b}function gc(a){return a.read((()=>hc().getTextContent()))}function hc(){return ac()._nodeMap.get("root")}function yb(a){G();let b=ac();null!==a&&(a.dirty=!0,a._cachedNodes=null),b._selection=a}function jc(a){var c,b=F();a:{for(c=a;null!=c;){let d=c[`__lexicalKey_${b._key}`];if(void 0!==d){c=d;break a}c=Nb(c)}c=null}return null===c?a===(b=b.getRootElement())?I("root"):null:I(c)}function kc(a){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(a)}function lc(a){let b=[];for(;null!==a;)b.push(a),a=a._parentEditor;return b}function mc(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function nc(a,b,c){if(null!==(b=vb(b._window))){var d=b.anchorNode,{anchorOffset:e,focusOffset:f}=b;if(null!==d&&(b=3===d.nodeType?d.nodeValue:null,d=ub(d),null!==b&&B(d))){if(b===bb&&c){b=c,f=e=c.length}null!==b&&wb(d,b,e,f,a)}}}function wb(a,b,c,d,e){let f=a;if(f.isAttached()&&(e||!f.isDirty())){let m=f.isComposing(),n=b;if((m||e)&&b[b.length-1]===bb&&(n=b.slice(0,-1)),b=f.getTextContent(),e||n!==b)if(""===n)if(H(null),Ya||Za||ab)f.remove();else{let p=F();setTimeout((()=>{p.update((()=>{f.isAttached()&&f.remove()}))}),20)}else{e=f.getParent(),b=oc();var g=f.getTextContentSize(),h=dc(),k=f.getKey();f.isToken()||null!==h&&k===h&&!m||C(b)&&(null!==e&&!e.canInsertTextBefore()&&0===b.anchor.offset||b.anchor.key===a.__key&&0===b.anchor.offset&&!f.canInsertTextBefore()||b.focus.key===a.__key&&b.focus.offset===g&&!f.canInsertTextAfter())?f.markDirty():(C(a=v())&&null!==c&&null!==d&&(a.setTextNodeRange(f,c,f,d),f.isSegmented()&&(c=J(c=f.getTextContent()),f.replace(c),f=c)),f.setTextContent(n))}}}function qc(a,b){void 0===a.__lexicalClassNameCache&&(a.__lexicalClassNameCache={});let c=a.__lexicalClassNameCache,d=c[b];return void 0!==d?d:"string"==typeof(a=a[b])?(a=a.split(" "),c[b]=a):a}function rc(a,b,c,d,e){0!==c.size&&(c=d.__type,d=d.__key,void 0===(b=b.get(c))&&r(33,c),c=b.klass,void 0===(b=a.get(c))&&(b=new Map,a.set(c,b)),c="destroyed"===(a=b.get(d))&&"created"===e,(void 0===a||c)&&b.set(d,c?"updated":e))}function sc(a,b,c){let d=a.getParent(),e=c;return null!==d&&(b&&0===c?(e=a.getIndexWithinParent(),a=d):b||c!==a.getChildrenSize()||(e=a.getIndexWithinParent()+1,a=d)),a.getChildAtIndex(b?e-1:e)}function tc(a,b){var c=a.offset;return"element"===a.type?sc(a=a.getNode(),b,c):(a=a.getNode(),b&&0===c||!b&&c===a.getTextContentSize()?null===(c=b?a.getPreviousSibling():a.getNextSibling())?sc(a.getParentOrThrow(),b,a.getIndexWithinParent()+(b?0:1)):c:null)}function zb(a){return"insertFromPaste"===(a=(a=Cb(a).event)&&a.inputType)||"insertFromPasteAsQuotation"===a}function uc(a){return!K(a)&&!a.isLastChild()&&!a.isInline()}function vc(a,b){return void 0===(a=a._keyToDOMMap.get(b))&&r(75,b),a}function Nb(a){return null!==(a=a.assignedSlot||a.parentElement)&&11===a.nodeType?a.host:a}function wc(a,b){for(a=a.getParent();null!==a;){if(a.is(b))return!0;a=a.getParent()}return!1}function Cb(a){return null===(a=a._window)&&r(78),a}function xc(a){for(a=a.getParentOrThrow();null!==a&&!yc(a);)a=a.getParentOrThrow();return a}function yc(a){return K(a)||D(a)&&a.isShadowRoot()}function zc(a){return Zb(a=a.constructor.clone(a),null),a}function Ac(a){var b=F();let c=a.constructor.getType();return void 0===(b=b._nodes.get(c))&&r(97),null!==(b=b.replace)?((b=b(a))instanceof a.constructor||r(98),b):a}function Bc(a,b){!K(a=a.getParent())||D(b)||z(b)||r(99)}function Cc(a){return(z(a)||D(a)&&!a.canBeEmpty())&&!a.isInline()}function Dc(a,b,c){c.style.removeProperty("caret-color"),b._blockCursorElement=null,null!==(b=a.parentElement)&&b.removeChild(a)}function vb(a){return Ta?(a||window).getSelection():null}function Ec(a,b){let c=a.getChildAtIndex(b);null==c&&(c=a),yc(a)&&r(102);let d=g=>{const h=g.getParentOrThrow(),k=yc(h),m=g!==c||k?zc(g):g;if(k)return g.insertAfter(m),[g,m,m];const[n,p,l]=d(h);return g=g.getNextSiblings(),l.append(m,...g),[n,p,m]},[e,f]=d(c);return[e,f]}function Fc(a,b){for(;a!==hc()&&null!=a;){if(b(a))return a;a=a.getParent()}return null}function Gc(a){let b=[],c=[a];for(;0<c.length;){let d=c.pop();void 0===d&&r(112),D(d)&&c.unshift(...d.getChildren()),d!==a&&b.push(d)}return b}function Hc(a){return 1===a.nodeType}function Ic(a,b,c,d,e,f){for(a=a.getFirstChild();null!==a;){let g=a.__key;a.__parent===b&&(D(a)&&Ic(a,g,c,d,e,f),c.has(g)||f.delete(g),e.push(g)),a=a.getNextSibling()}}let Lc,N,Mc,Pc,Rc,Sc,Tc,Uc,Vc,ed,L="",M="",Kc="",Nc=!1,Oc=!1,Qc=null;function fd(a,b){let c=Tc.get(a);if(null!==b){let d=gd(a);d.parentNode===b&&b.removeChild(d)}Uc.has(a)||N._keyToDOMMap.delete(a),D(c)&&id(a=hd(c,Tc),0,a.length-1,null),void 0!==c&&rc(ed,Mc,Pc,c,"destroyed")}function id(a,b,c,d){for(;b<=c;++b){let e=a[b];void 0!==e&&fd(e,d)}}function jd(a,b){a.setProperty("text-align",b)}function kd(a,b){var c=Lc.theme.indent;if("string"==typeof c){let d=a.classList.contains(c);0<b&&!d?a.classList.add(c):1>b&&d&&a.classList.remove(c)}c=getComputedStyle(a).getPropertyValue("--lexical-indent-base-value")||"40px",a.style.setProperty("padding-inline-start",0===b?"":`calc(${b} * ${c})`)}function ld(a,b){a=a.style,0===b?jd(a,""):1===b?jd(a,"left"):2===b?jd(a,"center"):3===b?jd(a,"right"):4===b?jd(a,"justify"):5===b?jd(a,"start"):6===b&&jd(a,"end")}function md(a,b,c){let d=Uc.get(a);void 0===d&&r(60);let e=d.createDOM(Lc,N);var f=N._keyToDOMMap;if(e["__lexicalKey_"+N._key]=a,f.set(a,e),B(d)?e.setAttribute("data-lexical-text","true"):z(d)&&e.setAttribute("data-lexical-decorator","true"),D(d)){if(a=d.__indent,f=d.__size,0!==a&&kd(e,a),0!==f){--f,a=hd(d,Uc);var g=M;M="",nd(a,d,0,f,e,null),od(d,e),M=g}0!==(a=d.__format)&&ld(e,a),d.isInline()||pd(null,d,e),uc(d)&&(L+="\n\n",Kc+="\n\n")}else f=d.getTextContent(),z(d)?(null!==(g=d.decorate(N,Lc))&&qd(a,g),e.contentEditable="false"):B(d)&&(d.isDirectionless()||(M+=f)),L+=f,Kc+=f;return null!==b&&(null!=c?b.insertBefore(e,c):null!=(c=b.__lexicalLineBreak)?b.insertBefore(e,c):b.appendChild(e)),rc(ed,Mc,Pc,d,"created"),e}function nd(a,b,c,d,e,f){let g=L;for(L="";c<=d;++c)md(a[c],e,f);uc(b)&&(L+="\n\n"),e.__lexicalTextContent=L,L=g+L}function rd(a,b){return Yb(a=b.get(a))||z(a)&&a.isInline()}function pd(a,b,c){a=null!==a&&(0===a.__size||rd(a.__last,Tc)),b=0===b.__size||rd(b.__last,Uc),a?b||(null!=(b=c.__lexicalLineBreak)&&c.removeChild(b),c.__lexicalLineBreak=null):b&&(b=document.createElement("br"),c.__lexicalLineBreak=b,c.appendChild(b))}function od(a,b){var c=b.__lexicalDir;if(b.__lexicalDirTextContent!==M||c!==Qc){let f=""===M;if(f)var d=Qc;else d=M,d=db.test(d)?"rtl":eb.test(d)?"ltr":null;if(d!==c){let g=b.classList,h=Lc.theme;var e=null!==c?h[c]:void 0;let k=null!==d?h[d]:void 0;void 0!==e&&("string"==typeof e&&(e=e.split(" "),e=h[c]=e),g.remove(...e)),null===d||f&&"ltr"===d?b.removeAttribute("dir"):(void 0!==k&&("string"==typeof k&&(c=k.split(" "),k=h[d]=c),void 0!==k&&g.add(...k)),b.dir=d),Oc||(a.getWritable().__dir=d)}Qc=d,b.__lexicalDirTextContent=M,b.__lexicalDir=d}}function hd(a,b){let c=[];for(a=a.__first;null!==a;){let d=b.get(a);void 0===d&&r(101),c.push(a),a=d.__next}return c}function sd(a,b){var c=Tc.get(a),d=Uc.get(a);void 0!==c&&void 0!==d||r(61);var e=Nc||Sc.has(a)||Rc.has(a);let f=vc(N,a);if(c===d&&!e)return D(c)?(void 0!==(d=f.__lexicalTextContent)&&(L+=d,Kc+=d),void 0!==(d=f.__lexicalDirTextContent)&&(M+=d)):(d=c.getTextContent(),B(c)&&!c.isDirectionless()&&(M+=d),Kc+=d,L+=d),f;if(c!==d&&e&&rc(ed,Mc,Pc,d,"updated"),d.updateDOM(c,f,Lc))return d=md(a,null,null),null===b&&r(62),b.replaceChild(d,f),fd(a,null),d;if(D(c)&&D(d)){if((a=d.__indent)!==c.__indent&&kd(f,a),(a=d.__format)!==c.__format&&ld(f,a),e){a=d,e=M,M="",b=L;var g=c.__size,h=a.__size;if(L="",1===g&&1===h){var k=c.__first,m=a.__first;if(k===m)sd(k,f);else{var n=gd(k);m=md(m,null,null),f.replaceChild(m,n),fd(k,null)}}else{m=hd(c,Tc);var p=hd(a,Uc);if(0===g)0!==h&&nd(p,a,0,h-1,f,null);else if(0===h)0!==g&&(id(m,0,g-1,(k=null==f.__lexicalLineBreak)?null:f),k&&(f.textContent=""));else{var l=m;m=p,p=g-1,g=h-1;let u=f.firstChild,x=0;for(h=0;x<=p&&h<=g;){var q=l[x];let y=m[h];if(q===y)u=td(sd(y,f)),x++,h++;else{void 0===k&&(k=new Set(l)),void 0===n&&(n=new Set(m));let A=n.has(q),Z=k.has(y);A?(Z?((q=vc(N,y))===u?u=td(sd(y,f)):(null!=u?f.insertBefore(q,u):f.appendChild(q),sd(y,f)),x++):md(y,f,u),h++):(u=td(gd(q)),fd(q,f),x++)}}n=h>g,(k=x>p)&&!n?nd(m,a,h,g,f,k=void 0===(k=m[g+1])?null:N.getElementByKey(k)):n&&!k&&id(l,x,p,f)}}uc(a)&&(L+="\n\n"),f.__lexicalTextContent=L,L=b+L,od(a,f),M=e,K(d)||d.isInline()||pd(c,d,f)}uc(d)&&(L+="\n\n",Kc+="\n\n")}else c=d.getTextContent(),z(d)?null!==(e=d.decorate(N,Lc))&&qd(a,e):B(d)&&!d.isDirectionless()&&(M+=c),L+=c,Kc+=c;return!Oc&&K(d)&&d.__cachedText!==Kc&&((d=d.getWritable()).__cachedText=Kc),f}function qd(a,b){let c=N._pendingDecorators,d=N._decorators;if(null===c){if(d[a]===b)return;c=fc(N)}c[a]=b}function td(a){return null!==(a=a.nextSibling)&&a===N._blockCursorElement&&(a=a.nextSibling),a}function gd(a){let b=Vc.get(a);return void 0===b&&r(75,a),b}let ud=Object.freeze({}),Bd=[["keydown",function vd(a,b){if(Dd=a.timeStamp,Ed=a.keyCode,!b.isComposing()){var{keyCode:c,shiftKey:d,ctrlKey:e,metaKey:f,altKey:g}=a;if(!O(b,ta,a)){if(39!==c||e||f||g)if(39!==c||g||d||!e&&!f)if(37!==c||e||f||g)if(37!==c||g||d||!e&&!f)if(38!==c||e||f)if(40!==c||e||f)if(13===c&&d)Kd=!0,O(b,Ba,a);else if(32===c)O(b,Ca,a);else if(t&&e&&79===c)a.preventDefault(),Kd=!0,O(b,ea,!0);else if(13!==c||d){var h=t?!g&&!f&&(8===c||72===c&&e):!(e||g||f)&&8===c;h?8===c?O(b,Fa,a):(a.preventDefault(),O(b,da,!0)):27===c?O(b,Ga,a):(h=t?!(d||g||f)&&(46===c||68===c&&e):!(e||g||f)&&46===c)?46===c?O(b,Ha,a):(a.preventDefault(),O(b,da,!1)):8===c&&(t?g:e)?(a.preventDefault(),O(b,na,!0)):46===c&&(t?g:e)?(a.preventDefault(),O(b,na,!1)):t&&f&&8===c?(a.preventDefault(),O(b,pa,!0)):t&&f&&46===c?(a.preventDefault(),O(b,pa,!1)):66===c&&!g&&(t?f:e)?(a.preventDefault(),O(b,qa,"bold")):85===c&&!g&&(t?f:e)?(a.preventDefault(),O(b,qa,"underline")):73===c&&!g&&(t?f:e)?(a.preventDefault(),O(b,qa,"italic")):9!==c||g||e||f?90===c&&!d&&(t?f:e)?(a.preventDefault(),O(b,ra,void 0)):(h=t?90===c&&f&&d:89===c&&e||90===c&&e&&d)?(a.preventDefault(),O(b,sa,void 0)):Ud(b._editorState._selection)?(h=!d&&(67===c&&(t?f:e)))?(a.preventDefault(),O(b,Na,a)):(h=!d&&(88===c&&(t?f:e)))?(a.preventDefault(),O(b,Oa,a)):65===c&&(t?f:e)&&(a.preventDefault(),O(b,Pa,a)):!Wa&&65===c&&(t?f:e)&&(a.preventDefault(),O(b,Pa,a)):O(b,Ia,a)}else Kd=!1,O(b,Ba,a);else O(b,Aa,a);else O(b,za,a);else O(b,ya,a);else O(b,xa,a);else O(b,va,a);else O(b,ua,a);(e||d||g||f)&&O(b,Sa,a)}}}],["pointerdown",function wd(a,b){let c=a.target;a=a.pointerType,c instanceof Node&&"touch"!==a&&w(b,(()=>{z(ub(c))||(Jd=!0)}))}],["compositionstart",function xd(a,b){w(b,(()=>{let c=v();if(C(c)&&!b.isComposing()){let d=c.anchor,e=c.anchor.getNode();H(d.key),(a.timeStamp<Dd+30||"element"===d.type||!c.isCollapsed()||e.getFormat()!==c.format||e.getStyle()!==c.style)&&O(b,ha,cb)}}))}],["compositionend",function yd(a,b){Wa?Ld=!0:w(b,(()=>{Td(b,a.data)}))}],["input",function zd(a,b){a.stopPropagation(),w(b,(()=>{var c=v(),d=a.data,e=Rd(a);if(null!=d&&C(c)&&Nd(c,e,d,a.timeStamp,!1)){Ld&&(Td(b,d),Ld=!1);var f=c.anchor,g=f.getNode();if(null===(e=vb(b._window)))return;let h=f.offset;(f=Xa&&!c.isCollapsed()&&B(g)&&null!==e.anchorNode)&&(f=(g=g.getTextContent().slice(0,h)+d+g.getTextContent().slice(h+c.focus.offset))===(3===(e=e.anchorNode).nodeType?e.nodeValue:null)),f||O(b,ha,d),d=d.length,Wa&&1<d&&"insertCompositionText"===a.inputType&&!b.isComposing()&&(c.anchor.offset-=d),Ya||Za||ab||!b.isComposing()||(Dd=0,H(null))}else nc(!1,b,null!==d?d:void 0),Ld&&(Td(b,d||void 0),Ld=!1);G(),Ab(c=F())})),Gd=null}],["click",function Ad(a,b){w(b,(()=>{let c=v();var d=vb(b._window);let e=oc();if(d)if(C(c)){let g=c.anchor;var f=g.getNode();"element"===g.type&&0===g.offset&&c.isCollapsed()&&!K(f)&&1===hc().getChildrenSize()&&f.getTopLevelElementOrThrow().isEmpty()&&null!==e&&c.is(e)?(d.removeAllRanges(),c.dirty=!0):3!==a.detail||c.isCollapsed()||f!==(d=c.focus.getNode())&&(D(f)?f.select(0):f.getParentOrThrow().select(0))}else"touch"===a.pointerType&&(null!==(f=d.anchorNode)&&(1===(f=f.nodeType)||3===f))&&yb(d=Qd(e,d,b));O(b,ba,a)}))}],["cut",ud],["copy",ud],["dragstart",ud],["dragover",ud],["dragend",ud],["paste",ud],["focus",ud],["blur",ud],["drop",ud]];Xa&&Bd.push(["beforeinput",(a,b)=>function Cd(a,b){let c=a.inputType,d=Rd(a);"deleteCompositionText"===c||Wa&&zb(b)||"insertCompositionText"!==c&&w(b,(()=>{let e=v();if("deleteContentBackward"===c){if(null===e){var f=oc();if(!C(f))return;yb(f.clone())}if(C(e))return void(229===Ed&&a.timeStamp<Dd+30&&b.isComposing()&&e.anchor.key===e.focus.key?(H(null),Dd=0,setTimeout((()=>{w(b,(()=>{H(null)}))}),30),C(e)&&(f=e.anchor.getNode(),f.markDirty(),e.format=f.getFormat(),e.style=f.getStyle())):(a.preventDefault(),O(b,da,!0)))}if(C(e)){f=a.data,null!==Gd&&nc(!1,b,Gd),e.dirty&&null===Gd||!e.isCollapsed()||K(e.anchor.getNode())||null===d||e.applyDOMRange(d),Gd=null;var g=e.focus,h=e.anchor.getNode();if(g=g.getNode(),"insertText"===c||"insertTranspose"===c)"\n"===f?(a.preventDefault(),O(b,ea,!1)):"\n\n"===f?(a.preventDefault(),O(b,fa,void 0)):null==f&&a.dataTransfer?(f=a.dataTransfer.getData("text/plain"),a.preventDefault(),e.insertRawText(f)):null!=f&&Nd(e,d,f,a.timeStamp,!0)?(a.preventDefault(),O(b,ha,f)):Gd=f,Fd=a.timeStamp;else switch(a.preventDefault(),c){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":O(b,ha,a);break;case"insertFromComposition":H(null),O(b,ha,a);break;case"insertLineBreak":H(null),O(b,ea,!1);break;case"insertParagraph":H(null),Kd&&!Za?(Kd=!1,O(b,ea,!1)):O(b,fa,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":O(b,ka,a);break;case"deleteByComposition":(function Sd(a,b){return a!==b||D(a)||D(b)||!a.isToken()||!b.isToken()})(h,g)&&O(b,ma,a);break;case"deleteByDrag":case"deleteByCut":O(b,ma,a);break;case"deleteContent":O(b,da,!1);break;case"deleteWordBackward":O(b,na,!0);break;case"deleteWordForward":O(b,na,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":O(b,pa,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":O(b,pa,!1);break;case"formatStrikeThrough":O(b,qa,"strikethrough");break;case"formatBold":O(b,qa,"bold");break;case"formatItalic":O(b,qa,"italic");break;case"formatUnderline":O(b,qa,"underline");break;case"historyUndo":O(b,ra,void 0);break;case"historyRedo":O(b,sa,void 0)}}}))}(a,b)]);let Dd=0,Ed=0,Fd=0,Gd=null,Hd=0,Id=!1,Jd=!1,Kd=!1,Ld=!1,Md=[0,"",0,"root",0];function Nd(a,b,c,d,e){let f=a.anchor,g=a.focus,h=f.getNode();var k=F();let m=vb(k._window),n=null!==m?m.anchorNode:null,p=f.key;k=k.getElementByKey(p);let l=c.length;return p!==g.key||!B(h)||(!e&&(!Xa||Fd<d+50)||h.isDirty()&&2>l||kc(c))&&f.offset!==g.offset&&!h.isComposing()||Ob(h)||h.isDirty()&&1<l||(e||!Xa)&&null!==k&&!h.isComposing()&&n!==Vb(k)||null!==m&&null!==b&&(!b.collapsed||b.startContainer!==m.anchorNode||b.startOffset!==m.anchorOffset)||h.getFormat()!==a.format||h.getStyle()!==a.style||function pc(a,b){if(b.isSegmented())return!0;if(!a.isCollapsed())return!1;a=a.anchor.offset;let c=b.getParentOrThrow(),d=b.isToken();return 0===a?((a=!b.canInsertTextBefore()||!c.canInsertTextBefore()||d)||(a=(B(b=b.getPreviousSibling())||D(b)&&b.isInline())&&!b.canInsertTextAfter()),a):a===b.getTextContentSize()&&(!b.canInsertTextAfter()||!c.canInsertTextAfter()||d)}(a,h)}function Od(a,b){return null!==a&&null!==a.nodeValue&&3===a.nodeType&&0!==b&&b!==a.nodeValue.length}function Pd(a,b,c){let{anchorNode:d,anchorOffset:e,focusNode:f,focusOffset:g}=a;Id&&(Id=!1,Od(d,e)&&Od(f,g))||w(b,(()=>{if(c){if(Lb(b,d,f)){var h=v();if(C(h)){var k=h.anchor,m=k.getNode();if(h.isCollapsed()){"Range"===a.type&&a.anchorNode===a.focusNode&&(h.dirty=!0);var n=Cb(b).event;n=n?n.timeStamp:performance.now();let[p,l,q,u,x]=Md;n<x+200&&k.offset===q&&k.key===u?(h.format=p,h.style=l):"text"===k.type?(h.format=m.getFormat(),h.style=m.getStyle()):"element"===k.type&&(h.format=0,h.style="")}else{k=255,m=!1;let p=(n=h.getNodes()).length;for(let l=0;l<p;l++){let q=n[l];if(B(q)&&(m=!0,0===(k&=q.getFormat())))break}h.format=m?k:0}}O(b,aa,void 0)}}else yb(null)}))}function Rd(a){return a.getTargetRanges?0===(a=a.getTargetRanges()).length?null:a[0]:null}function Td(a,b){var c=a._compositionKey;if(H(null),null!==c&&null!=b){if(""===b)return b=I(c),void(null!==(a=Vb(a.getElementByKey(c)))&&null!==a.nodeValue&&B(b)&&wb(b,a.nodeValue,null,null,!0));if("\n"===b[b.length-1]&&C(c=v()))return b=c.focus,c.anchor.set(b.key,b.offset,b.type),void O(a,Ba,null)}nc(!0,a,b)}function Vd(a){let b=a.__lexicalEventHandles;return void 0===b&&(b=[],a.__lexicalEventHandles=b),b}let Wd=new Map;function Xd(a){let b=vb(null==(a=a.target)?null:9===a.nodeType?a.defaultView:a.ownerDocument.defaultView);if(null!==b){var c=Mb(b.anchorNode);if(null!==c){Jd&&(Jd=!1,w(c,(()=>{var g=oc(),h=b.anchorNode;null!==h&&(1===(h=h.nodeType)||3===h)&&yb(g=Qd(g,b,c))})));var d=(a=(a=lc(c))[a.length-1])._key,e=Wd.get(d),f=e||a;f!==c&&Pd(b,f,!1),Pd(b,c,!0),c!==a?Wd.set(d,c):e&&Wd.delete(d)}}}function Zd(a,b,c){G();var d=a.__key;let e=a.getParent();if(null!==e){var f=v();if(C(f)&&D(a)){var{anchor:g,focus:h}=f,k=g.getNode(),m=h.getNode();wc(k,a)&&g.set(a.__key,0,"element"),wc(m,a)&&h.set(a.__key,0,"element")}if(m=!1,C(k=f)&&b){f=k.anchor;let n=k.focus;f.key===d&&($d(f,a,e,a.getPreviousSibling(),a.getNextSibling()),m=!0),n.key===d&&($d(n,a,e,a.getPreviousSibling(),a.getNextSibling()),m=!0)}else Ud(k)&&b&&a.isSelected()&&a.selectPrevious();C(k)&&b&&!m?(d=a.getIndexWithinParent(),bc(a),ae(k,e,d,-1)):bc(a),c||yc(e)||e.canBeEmpty()||!e.isEmpty()||Zd(e,b),b&&K(e)&&e.isEmpty()&&e.selectEnd()}}class be{static getType(){r(64,this.name)}static clone(){r(65,this.name)}constructor(a){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,Zb(this,a)}getType(){return this.__type}isAttached(){for(var a=this.__key;null!==a;){if("root"===a)return!0;if(null===(a=I(a)))break;a=a.__parent}return!1}isSelected(a){if(null==(a=a||v()))return!1;let b=a.getNodes().some((c=>c.__key===this.__key));return(B(this)||!C(a)||"element"!==a.anchor.type||"element"!==a.focus.type||a.anchor.key!==a.focus.key||a.anchor.offset!==a.focus.offset)&&b}getKey(){return this.__key}getIndexWithinParent(){var a=this.getParent();if(null===a)return-1;a=a.getFirstChild();let b=0;for(;null!==a;){if(this.is(a))return b;b++,a=a.getNextSibling()}return-1}getParent(){let a=this.getLatest().__parent;return null===a?null:I(a)}getParentOrThrow(){let a=this.getParent();return null===a&&r(66,this.__key),a}getTopLevelElement(){let a=this;for(;null!==a;){let b=a.getParent();if(yc(b))return a;a=b}return null}getTopLevelElementOrThrow(){let a=this.getTopLevelElement();return null===a&&r(67,this.__key),a}getParents(){let a=[],b=this.getParent();for(;null!==b;)a.push(b),b=b.getParent();return a}getParentKeys(){let a=[],b=this.getParent();for(;null!==b;)a.push(b.__key),b=b.getParent();return a}getPreviousSibling(){let a=this.getLatest().__prev;return null===a?null:I(a)}getPreviousSiblings(){let a=[];var b=this.getParent();if(null===b)return a;for(b=b.getFirstChild();null!==b&&!b.is(this);)a.push(b),b=b.getNextSibling();return a}getNextSibling(){let a=this.getLatest().__next;return null===a?null:I(a)}getNextSiblings(){let a=[],b=this.getNextSibling();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getCommonAncestor(a){let b=this.getParents();var c=a.getParents();D(this)&&b.unshift(this),D(a)&&c.unshift(a),a=b.length;var d=c.length;if(0===a||0===d||b[a-1]!==c[d-1])return null;for(c=new Set(c),d=0;d<a;d++){let e=b[d];if(c.has(e))return e}return null}is(a){return null!=a&&this.__key===a.__key}isBefore(a){if(this===a)return!1;if(a.isParentOf(this))return!0;if(this.isParentOf(a))return!1;var b=this.getCommonAncestor(a);let c=this;for(;;){var d=c.getParentOrThrow();if(d===b){d=c.getIndexWithinParent();break}c=d}for(c=a;;){if((a=c.getParentOrThrow())===b){b=c.getIndexWithinParent();break}c=a}return d<b}isParentOf(a){let b=this.__key;if(b===a.__key)return!1;for(;null!==a;){if(a.__key===b)return!0;a=a.getParent()}return!1}getNodesBetween(a){let b=this.isBefore(a),c=[],d=new Set;for(var e=this;;){var f=e.__key;if(d.has(f)||(d.add(f),c.push(e)),e===a)break;if(null!==(f=D(e)?b?e.getFirstChild():e.getLastChild():null))e=f;else if(null!==(f=b?e.getNextSibling():e.getPreviousSibling()))e=f;else{if(e=e.getParentOrThrow(),d.has(e.__key)||c.push(e),e===a)break;f=e;do{null===f&&r(68),e=b?f.getNextSibling():f.getPreviousSibling(),null!==(f=f.getParent())&&(null!==e||d.has(f.__key)||c.push(f))}while(null===e)}}return b||c.reverse(),c}isDirty(){let a=F()._dirtyLeaves;return null!==a&&a.has(this.__key)}getLatest(){let a=I(this.__key);return null===a&&r(113),a}getWritable(){G();var a=ac(),b=F();a=a._nodeMap;let c=this.__key,d=this.getLatest(),e=d.__parent;b=b._cloneNotNeeded;var f=v();return null!==f&&(f._cachedNodes=null),b.has(c)?(cc(d),d):((f=d.constructor.clone(d)).__parent=e,f.__next=d.__next,f.__prev=d.__prev,D(d)&&D(f)?(f.__first=d.__first,f.__last=d.__last,f.__size=d.__size,f.__indent=d.__indent,f.__format=d.__format,f.__dir=d.__dir):B(d)&&B(f)&&(f.__format=d.__format,f.__style=d.__style,f.__mode=d.__mode,f.__detail=d.__detail),b.add(c),f.__key=c,cc(f),a.set(c,f),f)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){r(70)}updateDOM(){r(71)}exportDOM(a){return{element:this.createDOM(a._config,a)}}exportJSON(){r(72)}static importJSON(){r(18,this.name)}static transform(){return null}remove(a){Zd(this,!0,a)}replace(a,b){G();var c=v();null!==c&&(c=c.clone()),Bc(this,a);let d=this.getLatest(),e=this.__key,f=a.__key,g=a.getWritable(),h=(a=this.getParentOrThrow().getWritable()).__size;bc(g);let k=d.getPreviousSibling(),m=d.getNextSibling(),n=d.__prev,p=d.__next,l=d.__parent;return Zd(d,!1,!0),null===k?a.__first=f:k.getWritable().__next=f,g.__prev=n,null===m?a.__last=f:m.getWritable().__prev=f,g.__next=p,g.__parent=l,a.__size=h,b&&this.getChildren().forEach((q=>{g.append(q)})),C(c)&&(yb(c),b=c.anchor,c=c.focus,b.key===e&&ce(b,g),c.key===e&&ce(c,g)),dc()===e&&H(f),g}insertAfter(a,b=!0){G(),Bc(this,a);var c=this.getWritable();let d=a.getWritable();var e=d.getParent();let f=v();var g=!1,h=!1;if(null!==e){var k=a.getIndexWithinParent();bc(d),C(f)&&(h=e.__key,g=f.anchor,e=f.focus,g="element"===g.type&&g.key===h&&g.offset===k+1,h="element"===e.type&&e.key===h&&e.offset===k+1)}e=this.getNextSibling(),k=this.getParentOrThrow().getWritable();let m=d.__key,n=c.__next;return null===e?k.__last=m:e.getWritable().__prev=m,k.__size++,c.__next=m,d.__next=n,d.__prev=c.__key,d.__parent=c.__parent,b&&C(f)&&(ae(f,k,(b=this.getIndexWithinParent())+1),c=k.__key,g&&f.anchor.set(c,b+2,"element"),h&&f.focus.set(c,b+2,"element")),a}insertBefore(a,b=!0){G(),Bc(this,a);var c=this.getWritable();let d=a.getWritable(),e=d.__key;bc(d);let f=this.getPreviousSibling(),g=this.getParentOrThrow().getWritable(),h=c.__prev,k=this.getIndexWithinParent();return null===f?g.__first=e:f.getWritable().__next=e,g.__size++,c.__prev=e,d.__prev=h,d.__next=c.__key,d.__parent=c.__parent,c=v(),b&&C(c)&&ae(c,b=this.getParentOrThrow(),k),a}isParentRequired(){return!1}createParentElementNode(){return de()}selectPrevious(a,b){G();let c=this.getPreviousSibling(),d=this.getParentOrThrow();return null===c?d.select(0,0):D(c)?c.select():B(c)?c.select(a,b):(a=c.getIndexWithinParent()+1,d.select(a,a))}selectNext(a,b){G();let c=this.getNextSibling(),d=this.getParentOrThrow();return null===c?d.select():D(c)?c.select(0,0):B(c)?c.select(a,b):(a=c.getIndexWithinParent(),d.select(a,a))}markDirty(){this.getWritable()}}class ee extends be{static getType(){return"linebreak"}static clone(a){return new ee(a.__key)}constructor(a){super(a)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:a=>{let c,d,b=a.parentElement;return null!==b&&((c=b.firstChild)===a||c.nextSibling===a&&3===c.nodeType&&null!==(c.textContent||"").match(/^( |\t|\r?\n)+$/))&&((d=b.lastChild)===a||d.previousSibling===a&&3===d.nodeType&&null!==(d.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:fe,priority:0}}}}static importJSON(){return ge()}exportJSON(){return{type:"linebreak",version:1}}}function fe(){return{node:ge()}}function ge(){return Ac(new ee)}function Yb(a){return a instanceof ee}function he(a,b){return 16&b?"code":128&b?"mark":32&b?"sub":64&b?"sup":null}function ie(a,b){return 1&b?"strong":2&b?"em":"span"}function je(a,b,c,d,e){a=d.classList,void 0!==(d=qc(e,"base"))&&a.add(...d);let f=!1,g=8&b&&4&b;var h=8&c&&4&c;void 0!==(d=qc(e,"underlineStrikethrough"))&&(h?(f=!0,g||a.add(...d)):g&&a.remove(...d));for(let k in fb)h=fb[k],void 0!==(d=qc(e,k))&&(c&h&&(!f||"underline"!==k&&"strikethrough"!==k)?(0==(b&h)||g&&"underline"===k||"strikethrough"===k)&&a.add(...d):b&h&&a.remove(...d))}function ke(a,b,c){let d=b.firstChild;if(a+=(c=c.isComposing())?bb:"",null==d)b.textContent=a;else if((b=d.nodeValue)!==a)if(c||Wa){c=b.length;let e=a.length,f=0,g=0;for(;f<c&&f<e&&b[f]===a[f];)f++;for(;g+f<c&&g+f<e&&b[c-g-1]===a[e-g-1];)g++;a=[f,c-f-g,a.slice(f,e-g)];let[h,k,m]=a;0!==k&&d.deleteData(h,k),d.insertData(h,m)}else d.nodeValue=a}function le(a,b){return(b=document.createElement(b)).appendChild(a),b}class me extends be{static getType(){return"text"}static clone(a){return new me(a.__text,a.__key)}constructor(a,b){super(b),this.__text=a,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let a=this.getLatest();return kb[a.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===dc()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(a){return a=fb[a],0!=(this.getFormat()&a)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(a,b){return Wb(this.getLatest().__format,a,b)}createDOM(a){var b=this.__format,c=he(0,b);let d=ie(0,b),e=document.createElement(null===c?d:c),f=e;return this.hasFormat("code")&&e.setAttribute("spellcheck","false"),null!==c&&(f=document.createElement(d),e.appendChild(f)),c=f,ke(this.__text,c,this),void 0!==(a=a.theme.text)&&je(d,0,b,c,a),""!==(b=this.__style)&&(e.style.cssText=b),e}updateDOM(a,b,c){let d=this.__text;var e=a.__format,f=this.__format,g=he(0,e);let h=he(0,f);var k=ie(0,e);let m=ie(0,f);return(null===g?k:g)!==(null===h?m:h)||(g===h&&k!==m?(null==(e=b.firstChild)&&r(48),ke(d,a=g=document.createElement(m),this),void 0!==(c=c.theme.text)&&je(m,0,f,a,c),b.replaceChild(g,e),!1):(k=b,null!==h&&null!==g&&(null==(k=b.firstChild)&&r(49)),ke(d,k,this),void 0!==(c=c.theme.text)&&e!==f&&je(m,e,f,k,c),f=this.__style,a.__style!==f&&(b.style.cssText=f),!1))}static importDOM(){return{"#text":()=>({conversion:ne,priority:0}),b:()=>({conversion:oe,priority:0}),code:()=>({conversion:pe,priority:0}),em:()=>({conversion:pe,priority:0}),i:()=>({conversion:pe,priority:0}),s:()=>({conversion:pe,priority:0}),span:()=>({conversion:qe,priority:0}),strong:()=>({conversion:pe,priority:0}),sub:()=>({conversion:pe,priority:0}),sup:()=>({conversion:pe,priority:0}),u:()=>({conversion:pe,priority:0})}}static importJSON(a){let b=J(a.text);return b.setFormat(a.format),b.setDetail(a.detail),b.setMode(a.mode),b.setStyle(a.style),b}exportDOM(a){return({element:a}=super.exportDOM(a)),null!==a&&Hc(a)||r(132),a.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(a=le(a,"b")),this.hasFormat("italic")&&(a=le(a,"i")),this.hasFormat("strikethrough")&&(a=le(a,"s")),this.hasFormat("underline")&&(a=le(a,"u")),{element:a}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(a){let b=this.getWritable();return b.__format="string"==typeof a?fb[a]:a,b}setDetail(a){let b=this.getWritable();return b.__detail="string"==typeof a?gb[a]:a,b}setStyle(a){let b=this.getWritable();return b.__style=a,b}toggleFormat(a){return a=fb[a],this.setFormat(this.getFormat()^a)}toggleDirectionless(){let a=this.getWritable();return a.__detail^=1,a}toggleUnmergeable(){let a=this.getWritable();return a.__detail^=2,a}setMode(a){if(a=jb[a],this.__mode===a)return this;let b=this.getWritable();return b.__mode=a,b}setTextContent(a){if(this.__text===a)return this;let b=this.getWritable();return b.__text=a,b}select(a,b){G();let c=v();var d=this.getTextContent();let e=this.__key;return"string"==typeof d?(d=d.length,void 0===a&&(a=d),void 0===b&&(b=d)):b=a=0,C(c)?((d=dc())!==c.anchor.key&&d!==c.focus.key||H(e),c.setTextNodeRange(this,a,this,b),c):re(e,a,e,b,"text","text")}spliceText(a,b,c,d){let e=this.getWritable(),f=e.__text,g=c.length,h=a;0>h&&(h=g+h,0>h&&(h=0));let k=v();return d&&C(k)&&(a+=g,k.setTextNodeRange(e,a,e,a)),b=f.slice(0,h)+c+f.slice(h+b),e.__text=b,e}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...a){G();var b=this.getLatest(),c=b.getTextContent(),d=b.__key,e=dc(),f=new Set(a);a=[];for(var g=c.length,h="",k=0;k<g;k++)""!==h&&f.has(k)&&(a.push(h),h=""),h+=c[k];if(""!==h&&a.push(h),0===(f=a.length))return[];if(a[0]===c)return[b];var m=a[0];c=b.getParentOrThrow(),k=b.getFormat();let n=b.getStyle(),p=b.__detail;g=!1,b.isSegmented()?((h=J(m)).__format=k,h.__style=n,h.__detail=p,g=!0):(h=b.getWritable()).__text=m,b=v(),h=[h],m=m.length;for(let u=1;u<f;u++){var l=a[u],q=l.length;(l=J(l).getWritable()).__format=k,l.__style=n,l.__detail=p;let x=l.__key;if(q=m+q,C(b)){let y=b.anchor,A=b.focus;y.key===d&&"text"===y.type&&y.offset>m&&y.offset<=q&&(y.key=x,y.offset-=m,b.dirty=!0),A.key===d&&"text"===A.type&&A.offset>m&&A.offset<=q&&(A.key=x,A.offset-=m,b.dirty=!0)}e===d&&H(x),m=q,h.push(l)}return d=this.getPreviousSibling(),e=this.getNextSibling(),null!==d&&cc(d),null!==e&&cc(e),d=c.getWritable(),e=this.getIndexWithinParent(),g?(d.splice(e,0,h),this.remove()):d.splice(e,1,h),C(b)&&ae(b,c,e,f-1),h}mergeWithSibling(a){var b=a===this.getPreviousSibling();b||a===this.getNextSibling()||r(50);var c=this.__key;let d=a.__key,e=this.__text,f=e.length;dc()===d&&H(c);let g=v();if(C(g)){let h=g.anchor,k=g.focus;null!==h&&h.key===d&&(se(h,b,c,a,f),g.dirty=!0),null!==k&&k.key===d&&(se(k,b,c,a,f),g.dirty=!0)}return c=a.__text,this.setTextContent(b?c+e:e+c),b=this.getWritable(),a.remove(),b}isTextEntity(){return!1}}function qe(a){let b="700"===a.style.fontWeight,c="line-through"===a.style.textDecoration,d="italic"===a.style.fontStyle,e="underline"===a.style.textDecoration,f=a.style.verticalAlign;return{forChild:g=>B(g)?(b&&g.toggleFormat("bold"),c&&g.toggleFormat("strikethrough"),d&&g.toggleFormat("italic"),e&&g.toggleFormat("underline"),"sub"===f&&g.toggleFormat("subscript"),"super"===f&&g.toggleFormat("superscript"),g):g,node:null}}function oe(a){let b="normal"===a.style.fontWeight;return{forChild:c=>(B(c)&&!b&&c.toggleFormat("bold"),c),node:null}}let te=new WeakMap;function ne(a){null===a.parentElement&&r(129);for(var c,b=a.textContent||"",d=a.parentNode,e=[a];null!==d&&void 0===(c=te.get(d))&&!("PRE"===d.nodeName||1===d.nodeType&&d.style.whiteSpace.startsWith("pre"));)e.push(d),d=d.parentNode;for(c=void 0===c?d:c,d=0;d<e.length;d++)te.set(e[d],c);if(null!==c){for(a=[],e=(b=b.split(/(\r?\n|\t)/)).length,c=0;c<e;c++)"\n"===(d=b[c])||"\r\n"===d?a.push(ge()):"\t"===d?a.push(ue()):""!==d&&a.push(J(d));return{node:a}}if(""===(b=b.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===b[0]){for(e=a,c=!0;null!==e&&null!==(e=ve(e,!1));)if(0<(d=e.textContent||"").length){/[ \t\n]$/.test(d)&&(b=b.slice(1)),c=!1;break}c&&(b=b.slice(1))}if(" "===b[b.length-1]){for(e=!0;null!==a&&null!==(a=ve(a,!0));)if(0<(a.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){e=!1;break}e&&(b=b.slice(0,b.length-1))}return""===b?{node:null}:{node:J(b)}}let we=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function ve(a,b){for(;;){for(var c=void 0;null===(c=b?a.nextSibling:a.previousSibling);)if(null===(a=a.parentElement))return null;if(1===(a=c).nodeType&&(""===(c=a.style.display)&&null===a.nodeName.match(we)||""!==c&&!c.startsWith("inline")))return null;for(;null!==(c=b?a.firstChild:a.lastChild);)a=c;if(3===a.nodeType)return a;if("BR"===a.nodeName)return null}}let xe={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function pe(a){let b=xe[a.nodeName.toLowerCase()];return void 0===b?{node:null}:{forChild:c=>(B(c)&&!c.hasFormat(b)&&c.toggleFormat(b),c),node:null}}function J(a=""){return Ac(new me(a))}function B(a){return a instanceof me}class ye extends me{static getType(){return"tab"}static clone(a){let b=new ye(a.__key);return b.__text=a.__text,b.__format=a.__format,b.__style=a.__style,b}constructor(a){super("\t",a),this.__detail=2}static importDOM(){return null}static importJSON(a){let b=ue();return b.setFormat(a.format),b.setStyle(a.style),b}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){r(126)}setDetail(){r(127)}setMode(){r(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ue(){return Ac(new ye)}class ze{constructor(a,b,c){this._selection=null,this.key=a,this.offset=b,this.type=c}is(a){return this.key===a.key&&this.offset===a.offset&&this.type===a.type}isBefore(a){let b=this.getNode(),c=a.getNode(),d=this.offset;if(a=a.offset,D(b)){var e=b.getDescendantByIndex(d);b=null!=e?e:b}return D(c)&&(e=c.getDescendantByIndex(a),c=null!=e?e:c),b===c?d<a:b.isBefore(c)}getNode(){let a=I(this.key);return null===a&&r(20),a}set(a,b,c){let d=this._selection,e=this.key;this.key=a,this.offset=b,this.type=c,ec()||(dc()===e&&H(a),null!==d&&(d._cachedNodes=null,d.dirty=!0))}}function Ae(a,b){let c=b.__key,d=a.offset,e="element";if(B(b))e="text",d>(b=b.getTextContentSize())&&(d=b);else if(!D(b)){var f=b.getNextSibling();B(f)?(c=f.__key,d=0,e="text"):(f=b.getParent())&&(c=f.__key,d=b.getIndexWithinParent()+1)}a.set(c,d,e)}function ce(a,b){if(D(b)){let c=b.getLastDescendant();D(c)||B(c)?Ae(a,c):Ae(a,b)}else Ae(a,b)}function Be(a,b,c,d){let e=a.getNode(),f=e.getChildAtIndex(a.offset),g=J(),h=K(e)?de().append(g):g;g.setFormat(c),g.setStyle(d),null===f?e.append(h):(f.insertBefore(h),"element"===b.type&&b.key===a.key&&b.offset!==a.offset&&b.set(b.key,b.offset+1,"element")),a.is(b)&&b.set(g.__key,0,"text"),a.set(g.__key,0,"text")}function Ce(a,b,c,d){a.key=b,a.offset=c,a.type=d}class De{constructor(a){this.dirty=!1,this._nodes=a,this._cachedNodes=null}is(a){if(!Ud(a))return!1;let b=this._nodes,c=a._nodes;return b.size===c.size&&Array.from(b).every((d=>c.has(d)))}add(a){this.dirty=!0,this._nodes.add(a),this._cachedNodes=null}delete(a){this.dirty=!0,this._nodes.delete(a),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(a){return this._nodes.has(a)}clone(){return new De(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(a,b){let c=this.getNodes(),d=c.length;var e=c[d-1];if(B(e))e=e.select();else{let f=e.getIndexWithinParent()+1;e=e.getParentOrThrow().select(f,f)}for(e.insertNodes(a,b),a=0;a<d;a++)c[a].remove();return!0}getNodes(){var a=this._cachedNodes;if(null!==a)return a;var b=this._nodes;a=[];for(let c of b)null!==(b=I(c))&&a.push(b);return ec()||(this._cachedNodes=a),a}getTextContent(){let a=this.getNodes(),b="";for(let c=0;c<a.length;c++)b+=a[c].getTextContent();return b}}function C(a){return a instanceof Ne}function Oe(a){let[b,,c]=Pe(a),d=(a=c.getChildren()).length;var e=a[0].getChildren().length;let f=Array(d);for(var g=0;g<d;g++)f[g]=Array(e);for(e=0;e<d;e++){g=a[e].getChildren();let h=0;for(let k=0;k<g.length;k++){for(;f[e][h];)h++;let m=g[k],n=m.__rowSpan||1,p=m.__colSpan||1;for(let l=0;l<n;l++)for(let q=0;q<p;q++)f[e+l][h+q]=m;if(b===m)return{colSpan:p,columnIndex:h,rowIndex:e,rowSpan:n};h+=p}}return null}class Qe{constructor(a,b,c){this.gridKey=a,this.anchor=b,this.focus=c,this.dirty=!1,this._cachedNodes=null,b._selection=this,c._selection=this}is(a){return!!Re(a)&&(this.gridKey===a.gridKey&&this.anchor.is(a.anchor)&&this.focus.is(a.focus))}set(a,b,c){this.dirty=!0,this.gridKey=a,this.anchor.key=b,this.focus.key=c,this._cachedNodes=null}clone(){return new Qe(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Se(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(a,b){let c=this.focus.getNode();return Gb(c.select(0,c.getChildrenSize())).insertNodes(a,b)}getShape(){var a=I(this.anchor.key);if(P(a)||r(103),null===(a=Oe(a)))throw Error("getCellRect: expected to find AnchorNode");var b=I(this.focus.key);P(b)||r(104);let c=Oe(b);if(null===c)throw Error("getCellRect: expected to find focusCellNode");b=Math.min(a.columnIndex,c.columnIndex);let d=Math.max(a.columnIndex,c.columnIndex),e=Math.min(a.rowIndex,c.rowIndex);return a=Math.max(a.rowIndex,c.rowIndex),{fromX:Math.min(b,d),fromY:Math.min(e,a),toX:Math.max(b,d),toY:Math.max(e,a)}}getNodes(){function a(x){let{cell:y,startColumn:A,startRow:Z}=x;h=Math.min(h,A),k=Math.min(k,Z),m=Math.max(m,A+y.__colSpan-1),n=Math.max(n,Z+y.__rowSpan-1)}var b=this._cachedNodes;if(null!==b)return b;var c=this.anchor.getNode();b=this.focus.getNode(),c=Fc(c,P);var d=Fc(b,P);P(c)||r(103),P(d)||r(104),Te(b=c.getParent())||r(105),Ue(b=b.getParent())||r(106);let[e,f,g]=Ve(b,c,d),h=Math.min(f.startColumn,g.startColumn),k=Math.min(f.startRow,g.startRow),m=Math.max(f.startColumn+f.cell.__colSpan-1,g.startColumn+g.cell.__colSpan-1),n=Math.max(f.startRow+f.cell.__rowSpan-1,g.startRow+g.cell.__rowSpan-1);c=h,d=k;for(var p=h,l=k;h<c||k<d||m>p||n>l;){if(h<c){var q=l-d;--c;for(var u=0;u<=q;u++)a(e[d+u][c])}if(k<d)for(q=p-c,--d,u=0;u<=q;u++)a(e[d][c+u]);if(m>p)for(q=l-d,p+=1,u=0;u<=q;u++)a(e[d+u][p]);if(n>l)for(q=p-c,l+=1,u=0;u<=q;u++)a(e[l][c+u])}for(b=[b],c=null,d=k;d<=n;d++)for(p=h;p<=m;p++)({cell:l}=e[d][p]),Te(q=l.getParent())||r(107),q!==c&&b.push(q),b.push(l,...Gc(l)),c=q;return ec()||(this._cachedNodes=b),b}getTextContent(){let a=this.getNodes(),b="";for(let c=0;c<a.length;c++)b+=a[c].getTextContent();return b}}function Re(a){return a instanceof Qe}class Ne{constructor(a,b,c,d){this.anchor=a,this.focus=b,this.dirty=!1,this.format=c,this.style=d,this._cachedNodes=null,a._selection=this,b._selection=this}is(a){return!!C(a)&&(this.anchor.is(a.anchor)&&this.focus.is(a.focus)&&this.format===a.format&&this.style===a.style)}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var a=this._cachedNodes;if(null!==a)return a;a=this.anchor;var b=this.focus,c=a.isBefore(b),d=c?a:b;c=c?b:a,a=d.getNode(),b=c.getNode();let e=d.offset;return d=c.offset,D(a)&&(c=a.getDescendantByIndex(e),a=null!=c?c:a),D(b)&&(null!==(c=b.getDescendantByIndex(d))&&c!==a&&b.getChildAtIndex(d)===c&&(c=c.getPreviousSibling()),b=null!=c?c:b),a=a.is(b)?D(a)&&0<a.getChildrenSize()?[]:[a]:a.getNodesBetween(b),ec()||(this._cachedNodes=a),a}setTextNodeRange(a,b,c,d){Ce(this.anchor,a.__key,b,"text"),Ce(this.focus,c.__key,d,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let a=this.getNodes();if(0===a.length)return"";let b=a[0],c=a[a.length-1],d=this.anchor,e=this.focus,f=d.isBefore(e),[g,h]=Se(this),k="",m=!0;for(let n=0;n<a.length;n++){let p=a[n];if(D(p)&&!p.isInline())m||(k+="\n"),m=!p.isEmpty();else if(m=!1,B(p)){let l=p.getTextContent();p===b?p===c?"element"===d.type&&"element"===e.type&&e.offset!==d.offset||(l=g<h?l.slice(g,h):l.slice(h,g)):l=f?l.slice(g):l.slice(h):p===c&&(l=f?l.slice(0,h):l.slice(0,g)),k+=l}else!z(p)&&!Yb(p)||p===c&&this.isCollapsed()||(k+=p.getTextContent())}return k}applyDOMRange(a){let b=F(),c=b.getEditorState()._selection;if(null!==(a=We(a.startContainer,a.startOffset,a.endContainer,a.endOffset,b,c))){var[d,e]=a;Ce(this.anchor,d.key,d.offset,d.type),Ce(this.focus,e.key,e.offset,e.type),this._cachedNodes=null}}clone(){let a=this.anchor,b=this.focus;return new Ne(new ze(a.key,a.offset,a.type),new ze(b.key,b.offset,b.type),this.format,this.style)}toggleFormat(a){this.format=Wb(this.format,a,null),this.dirty=!0}setStyle(a){this.style=a,this.dirty=!0}hasFormat(a){return 0!=(this.format&fb[a])}insertRawText(a){let b=[],c=(a=a.split(/(\r?\n|\t)/)).length;for(let d=0;d<c;d++){let e=a[d];"\n"===e||"\r\n"===e?b.push(ge()):"\t"===e?b.push(ue()):b.push(J(e))}this.insertNodes(b)}insertText(a){var b=this.anchor,c=this.focus,d=this.isCollapsed()||b.isBefore(c),e=this.format,f=this.style;d&&"element"===b.type?Be(b,c,e,f):d||"element"!==c.type||Be(c,b,e,f);var g=this.getNodes(),h=g.length,k=d?c:b;c=(d?b:c).offset;var m=k.offset;B(b=g[0])||r(26),d=b.getTextContent().length;var n=b.getParentOrThrow(),p=g[h-1];if(this.isCollapsed()&&c===d&&(b.isSegmented()||b.isToken()||!b.canInsertTextAfter()||!n.canInsertTextAfter()&&null===b.getNextSibling())){var l=b.getNextSibling();if(B(l)&&l.canInsertTextBefore()&&!Ob(l)||((l=J()).setFormat(e),n.canInsertTextAfter()?b.insertAfter(l):n.insertAfter(l)),l.select(0,0),b=l,""!==a)return void this.insertText(a)}else if(this.isCollapsed()&&0===c&&(b.isSegmented()||b.isToken()||!b.canInsertTextBefore()||!n.canInsertTextBefore()&&null===b.getPreviousSibling())){if(B(l=b.getPreviousSibling())&&!Ob(l)||((l=J()).setFormat(e),n.canInsertTextBefore()?b.insertBefore(l):n.insertBefore(l)),l.select(),b=l,""!==a)return void this.insertText(a)}else if(b.isSegmented()&&c!==d)(n=J(b.getTextContent())).setFormat(e),b.replace(n),b=n;else if(!(this.isCollapsed()||""===a||(l=p.getParent(),n.canInsertTextBefore()&&n.canInsertTextAfter()&&(!D(l)||l.canInsertTextBefore()&&l.canInsertTextAfter()))))return this.insertText(""),Xe(this.anchor,this.focus,null),void this.insertText(a);if(1===h)if(b.isToken())(a=J(a)).select(),b.replace(a);else{if(g=b.getFormat(),h=b.getStyle(),c===m&&(g!==e||h!==f)){if(""!==b.getTextContent())return(g=J(a)).setFormat(e),g.setStyle(f),g.select(),0===c?b.insertBefore(g,!1):([h]=b.splitText(c),h.insertAfter(g,!1)),void(g.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length));b.setFormat(e),b.setStyle(f)}""===(b=b.spliceText(c,m-c,a,!0)).getTextContent()?b.remove():"text"===this.anchor.type&&(b.isComposing()?this.anchor.offset-=a.length:(this.format=g,this.style=h))}else{if(e=new Set([...b.getParentKeys(),...p.getParentKeys()]),l=D(b)?b:b.getParentOrThrow(),f=D(p)?p:p.getParentOrThrow(),n=p,!l.is(f)&&f.isInline())do{n=f,f=f.getParentOrThrow()}while(f.isInline());if("text"===k.type&&(0!==m||""===p.getTextContent())||"element"===k.type&&p.getIndexWithinParent()<m)if(B(p)&&!p.isToken()&&m!==p.getTextContentSize()){if(p.isSegmented()){var q=J(p.getTextContent());p.replace(q),p=q}K(k.getNode())||(p=p.spliceText(0,m,"")),e.add(p.__key)}else(k=p.getParentOrThrow()).canBeEmpty()||1!==k.getChildrenSize()?p.remove():k.remove();else e.add(p.__key);for(k=f.getChildren(),m=new Set(g),p=l.is(f),l=l.isInline()&&null===b.getNextSibling()?l:b,q=k.length-1;0<=q;q--){let u=k[q];if(u.is(b)||D(u)&&u.isParentOf(b))break;u.isAttached()&&(!m.has(u)||u.is(n)?p||l.insertAfter(u,!1):u.remove())}if(!p)for(k=f,m=null;null!==k;)(0===(p=(f=k.getChildren()).length)||f[p-1].is(m))&&(e.delete(k.__key),m=k),k=k.getParent();for(b.isToken()?c===d?b.select():((a=J(a)).select(),b.replace(a)):""===(b=b.spliceText(c,d-c,a,!0)).getTextContent()?b.remove():b.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=a.length),a=1;a<h;a++)b=g[a],e.has(b.__key)||b.remove()}}removeText(){this.insertText("")}formatText(a){if(this.isCollapsed())this.toggleFormat(a),H(null);else{var b=this.getNodes(),c=[];for(var d of b)B(d)&&c.push(d);var e=c.length;if(0===e)this.toggleFormat(a),H(null);else{d=this.anchor;var f=this.focus,g=this.isBackward();b=g?f:d,d=g?d:f;var h=0,k=c[0];if(f="element"===b.type?0:b.offset,"text"===b.type&&f===k.getTextContentSize()&&(h=1,k=c[1],f=0),null!=k){g=k.getFormatFlags(a,null);var m=e-1,n=c[m];if(e="text"===d.type?d.offset:n.getTextContentSize(),k.is(n))f!==e&&(0===f&&e===k.getTextContentSize()?k.setFormat(g):(a=k.splitText(f,e),(a=0===f?a[0]:a[1]).setFormat(g),"text"===b.type&&b.set(a.__key,0,"text"),"text"===d.type&&d.set(a.__key,e-f,"text")),this.format=g);else{0!==f&&([,k]=k.splitText(f),f=0),k.setFormat(g);var p=n.getFormatFlags(a,g);for(0<e&&(e!==n.getTextContentSize()&&([n]=n.splitText(e)),n.setFormat(p)),h+=1;h<m;h++){let l=c[h];if(!l.isToken()){let q=l.getFormatFlags(a,p);l.setFormat(q)}}"text"===b.type&&b.set(k.__key,f,"text"),"text"===d.type&&d.set(n.__key,e,"text"),this.format=g|p}}}}}insertNodes(a,b){if(!this.isCollapsed()){var c=this.isBackward()?this.anchor:this.focus,d=c.getNode().getNextSibling();if(d=d?d.getKey():null,c=(c=c.getNode().getPreviousSibling())?c.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===d&&0===this.focus.offset){var e=J();this.focus.getNode().insertBefore(e)}else this.focus.key===c&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(e=J(),this.focus.getNode().insertAfter(e));e&&(this.focus.set(e.__key,0,"text"),this.anchor.set(e.__key,0,"text"))}}c=(e=this.anchor).offset;var f=e.getNode();d=f,"element"===e.type&&(d=null===(d=(e=e.getNode()).getChildAtIndex(c-1))?e:d),e=[];var g=f.getNextSiblings(),h=yc(f)?null:f.getTopLevelElementOrThrow();if(B(f))if(d=f.getTextContent().length,0===c&&0!==d)d=null!==(d=f.getPreviousSibling())?d:f.getParentOrThrow(),e.push(f);else if(c===d)d=f;else{if(f.isToken())return!1;[d,f]=f.splitText(c),e.push(f)}f=d,e.push(...g),g=a[0];var k=!1,m=null;for(let q=0;q<a.length;q++){var n=a[q];if(yc(d)||z(d)||!D(n)||n.isInline())k&&!D(n)&&!z(n)&&yc(d.getParent())&&r(28);else{if(n.is(g)){if(D(d)&&d.isEmpty()&&d.canReplaceWith(n)){d.replace(n),d=n,k=!0;continue}if(Xb(k=n.getFirstDescendant())){for(var p=k.getParentOrThrow();p.isInline();)p=p.getParentOrThrow();if(k=(m=p.getChildren()).length,D(d)){var l=d.getFirstChild();for(let u=0;u<k;u++){let x=m[u];null===l?d.append(x):l.insertAfter(x),l=x}}else{for(l=k-1;0<=l;l--)d.insertAfter(m[l]);d=d.getParentOrThrow()}if(m=m[k-1],p.remove(),k=!0,p.is(n))continue}}B(d)&&(null===h&&r(27),d=h)}k=!1,D(d)&&!d.isInline()?(m=n,z(n)&&!n.isInline()?d=1===a.length&&d.canBeEmpty()&&d.isEmpty()?d.insertBefore(n,!1):d.insertAfter(n,!1):D(n)?!n.canBeEmpty()&&n.isEmpty()||(K(d)?(null!==(p=d.getChildAtIndex(c))?p.insertBefore(n):d.append(n),d=n):n.isInline()?(d.append(n),d=n):d=d.insertAfter(n,!1)):(null!==(p=d.getFirstChild())?p.insertBefore(n):d.append(n),d=n)):!D(n)||D(n)&&n.isInline()||z(d)&&!d.isInline()?(m=n,C(this)&&z(n)&&(D(d)||B(d))&&!n.isInline()?(B(d)?(p=d.getParentOrThrow(),[d]=d.splitText(c),d=d.getIndexWithinParent()+1):(p=d,d=c),[,d]=Ec(p,d),d=d.insertBefore(n)):d=d.insertAfter(n,!1)):(n=d.getParentOrThrow(),Yb(d)&&d.remove(),d=n,q--)}if(b&&(B(f)?f.select():B(a=d.getPreviousSibling())?a.select():(a=d.getIndexWithinParent(),d.getParentOrThrow().select(a,a))),D(d)){if(a=B(m)?m:D(m)&&m.isInline()?m.getLastDescendant():d.getLastDescendant(),b||(null===a?d.select():B(a)?""===a.getTextContent()?a.selectPrevious():a.select():a.selectNext()),0!==e.length)for(b=d,a=e.length-1;0<=a;a--)h=(c=e[a]).getParentOrThrow(),!D(d)||Ye(c)||z(c)&&(!c.isInline()||c.isIsolated())?D(d)||Ye(c)?D(c)&&!c.canInsertAfter(d)?(D(f=h.constructor.clone(h))||r(29),f.append(c),d.insertAfter(f)):d.insertAfter(c):(d.insertBefore(c),d=c):(b===d?d.append(c):d.insertBefore(c),d=c),h.isEmpty()&&!h.canBeEmpty()&&h.remove()}else b||(B(d)?d.select():(b=d.getParentOrThrow(),a=d.getIndexWithinParent()+1,b.select(a,a)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var a=this.anchor,b=a.offset,c=[];if("text"===a.type){var d=a.getNode(),e=d.getNextSiblings().reverse(),f=d.getParentOrThrow(),g=f.isInline(),h=g?f.getTextContentSize():d.getTextContentSize();0===b?e.push(d):(g&&(c=f.getNextSiblings()),b===h||g&&b===d.getTextContentSize()||([,d]=d.splitText(b),e.push(d)))}else{if(yc(f=a.getNode()))return e=de(),c=f.getChildAtIndex(b),e.select(),void(null!==c?c.insertBefore(e,!1):f.append(e));e=f.getChildren().slice(b).reverse()}if(d=e.length,0===b&&0<d&&f.isInline()){if(D(e=(c=f.getParentOrThrow()).insertNewAfter(this,!1)))for(c=c.getChildren(),f=0;f<c.length;f++)e.append(c[f])}else if(null===(g=f.insertNewAfter(this,!1)))this.insertLineBreak();else if(D(g))if(h=f.getFirstChild(),0===b&&(f.is(a.getNode())||h&&h.is(a.getNode()))&&0<d)f.insertBefore(g);else{if(f=null,b=c.length,a=g.getParentOrThrow(),0<b)for(h=0;h<b;h++)a.append(c[h]);if(0!==d)for(c=0;c<d;c++)b=e[c],null===f?g.append(b):f.insertBefore(b),f=b;g.canBeEmpty()||0!==g.getChildrenSize()?g.selectStart():(g.selectPrevious(),g.remove())}}insertLineBreak(a){let b=ge();var c=this.anchor;"element"===c.type&&(K(c=c.getNode())&&this.insertParagraph()),a?this.insertNodes([b],!0):this.insertNodes([b])&&b.selectNext(0,0)}getCharacterOffsets(){return Se(this)}extract(){var a=this.getNodes(),b=a.length,c=b-1,d=this.anchor;let e=this.focus;var f=a[0];let g=a[c],[h,k]=Se(this);return 0===b?[]:1===b?B(f)&&!this.isCollapsed()?(a=h>k?k:h,c=f.splitText(a,h>k?h:k),null!=(a=0===a?c[0]:c[1])?[a]:[]):[f]:(b=d.isBefore(e),B(f)&&((d=b?h:k)===f.getTextContentSize()?a.shift():0!==d&&([,f]=f.splitText(d),a[0]=f)),B(g)&&(f=g.getTextContent().length,0===(b=b?k:h)?a.pop():b!==f&&([g]=g.splitText(b),a[c]=g)),a)}modify(a,b,c){var d=this.focus,e=this.anchor,f="move"===a,g=tc(d,b);if(z(g)&&!g.isIsolated())f&&g.isKeyboardSelectable()?((b=Ze()).add(g.__key),yb(b)):B(a=b?g.getPreviousSibling():g.getNextSibling())?(g=a.__key,b=b?a.getTextContent().length:0,d.set(g,b,"text"),f&&e.set(g,b,"text")):(c=g.getParentOrThrow(),D(a)?(c=a.__key,g=b?a.getChildrenSize():0):(g=g.getIndexWithinParent(),c=c.__key,b||g++),d.set(c,g,"element"),f&&e.set(c,g,"element"));else if(d=vb((e=F())._window)){var h=e._blockCursorElement,k=e._rootElement;if(null===k||null===h||!D(g)||g.isInline()||g.canBeEmpty()||Dc(h,e,k),d.modify(a,b?"backward":"forward",c),0<d.rangeCount&&(g=d.getRangeAt(0),e=K(e=this.anchor.getNode())?e:xc(e),this.applyDOMRange(g),this.dirty=!0,!f)){for(f=this.getNodes(),a=[],c=!1,h=0;h<f.length;h++)wc(k=f[h],e)?a.push(k):c=!0;c&&0<a.length&&(b?D(b=a[0])?b.selectStart():b.getParentOrThrow().selectStart():D(b=a[a.length-1])?b.selectEnd():b.getParentOrThrow().selectEnd()),d.anchorNode===g.startContainer&&d.anchorOffset===g.startOffset||(b=this.focus,d=(f=this.anchor).key,g=f.offset,e=f.type,Ce(f,b.key,b.offset,b.type),Ce(b,d,g,e),this._cachedNodes=null)}}}deleteCharacter(a){let b=this.isCollapsed();if(this.isCollapsed()){var c=this.anchor,d=this.focus,e=c.getNode();if(!a&&("element"===c.type&&D(e)&&c.offset===e.getChildrenSize()||"text"===c.type&&c.offset===e.getTextContentSize())){var f=e.getParent();if(D(f=e.getNextSibling()||(null===f?null:f.getNextSibling()))&&f.isShadowRoot())return}if(z(f=tc(d,a))&&!f.isIsolated())return void(f.isKeyboardSelectable()&&D(e)&&0===e.getChildrenSize()?(e.remove(),a=Ze(),a.add(f.__key),yb(a)):(f.remove(),F().dispatchCommand(aa,void 0)));if(!a&&D(f)&&D(e)&&e.isEmpty())return e.remove(),void f.selectStart();if(this.modify("extend",a,"character"),this.isCollapsed()){if(a&&0===c.offset&&("element"===c.type?c.getNode():c.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(f="text"===d.type?d.getNode():null,e="text"===c.type?c.getNode():null,null!==f&&f.isSegmented()){if(c=d.offset,d=f.getTextContentSize(),f.is(e)||a&&c!==d||!a&&0!==c)return void $e(f,a,c)}else if(null!==e&&e.isSegmented()&&(c=c.offset,d=e.getTextContentSize(),e.is(f)||a&&0!==c||!a&&c!==d))return void $e(e,a,c);if(e=this.anchor,f=this.focus,(c=e.getNode())===(d=f.getNode())&&"text"===e.type&&"text"===f.type){var g=e.offset,h=f.offset;let k=g<h;(d=k?g:h)!==(g=(h=k?h:g)-1)&&(kc(c=c.getTextContent().slice(d,h))||(a?f.offset=g:e.offset=g))}}}this.removeText(),a&&!b&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((a=this.anchor.getNode()).isEmpty()&&K(a.getParent())&&0===a.getIndexWithinParent()&&a.collapseAtStart(this))}deleteLine(a){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",a,"lineboundary"),0===(a?this.focus:this.anchor).offset&&this.modify("extend",a,"character")),this.removeText()}deleteWord(a){this.isCollapsed()&&this.modify("extend",a,"word"),this.removeText()}}function Ud(a){return a instanceof De}function af(a){let b=a.offset;return"text"===a.type?b:b===(a=a.getNode()).getChildrenSize()?a.getTextContent().length:0}function Se(a){let b=a.anchor;return a=a.focus,"element"===b.type&&"element"===a.type&&b.key===a.key&&b.offset===a.offset?[0,0]:[af(b),af(a)]}function $e(a,b,c){let d=a.getTextContent().split(/(?=\s)/g),e=d.length,f=0,g=0;for(let h=0;h<e;h++){let m=h===e-1;if(g=f,f+=d[h].length,b&&f===c||f>c||m){d.splice(h,1),m&&(g=void 0);break}}""===(b=d.join("").trim())?a.remove():(a.setTextContent(b),a.select(g,g))}function bf(a,b,c,d){var e=b;if(1===a.nodeType){let h=!1;var f=a.childNodes,g=f.length;e===g&&(h=!0,e=g-1);let k=f[e];if(g=!1,k===d._blockCursorElement?(k=f[e+1],g=!0):null!==d._blockCursorElement&&e--,B(d=jc(k)))e=h?d.getTextContentSize():0;else{if(null===(f=jc(a)))return null;if(D(f)?((b=D(a=f.getChildAtIndex(e)))&&(b=a.getParent(),b=null===c||null===b||!b.canBeEmpty()||b!==c.getNode()),b&&(null===(c=h?a.getLastDescendant():a.getFirstDescendant())?(f=a,e=0):f=D(a=c)?a:a.getParentOrThrow()),B(a)?(d=a,f=null,e=h?a.getTextContentSize():0):a!==f&&h&&!g&&e++):(e=f.getIndexWithinParent(),e=0===b&&z(f)&&jc(a)===f?e:e+1,f=f.getParentOrThrow()),D(f))return new ze(f.__key,e,"element")}}else d=jc(a);return B(d)?new ze(d.__key,e,"text"):null}function cf(a,b,c){var d=a.offset,e=a.getNode();0===d?(d=e.getPreviousSibling(),e=e.getParent(),b?(c||!b)&&null===d&&D(e)&&e.isInline()&&(B(b=e.getPreviousSibling())&&(a.key=b.__key,a.offset=b.getTextContent().length)):D(d)&&!c&&d.isInline()?(a.key=d.__key,a.offset=d.getChildrenSize(),a.type="element"):B(d)&&(a.key=d.__key,a.offset=d.getTextContent().length)):d===e.getTextContent().length&&(d=e.getNextSibling(),e=e.getParent(),b&&D(d)&&d.isInline()?(a.key=d.__key,a.offset=0,a.type="element"):(c||b)&&null===d&&D(e)&&e.isInline()&&!e.canInsertTextAfter()&&(B(b=e.getNextSibling())&&(a.key=b.__key,a.offset=0)))}function Xe(a,b,c){if("text"===a.type&&"text"===b.type){var d=a.isBefore(b);let e=a.is(b);cf(a,d,e),cf(b,!d,e),e&&(b.key=a.key,b.offset=a.offset,b.type=a.type),(d=F()).isComposing()&&d._compositionKey!==a.key&&C(c)&&(d=c.anchor,c=c.focus,Ce(a,d.key,d.offset,d.type),Ce(b,c.key,c.offset,c.type))}}function We(a,b,c,d,e,f){return null!==a&&null!==c&&Lb(e,a,c)?null===(b=bf(a,b,C(f)?f.anchor:null,e))||null===(d=bf(c,d,C(f)?f.focus:null,e))||"element"===b.type&&"element"===d.type&&(a=jc(a),c=jc(c),z(a)&&z(c))?null:(Xe(b,d,f),[b,d]):null}function Ye(a){return D(a)&&!a.isInline()}function re(a,b,c,d,e,f){let g=ac();return(a=new Ne(new ze(a,b,e),new ze(c,d,f),0,"")).dirty=!0,g._selection=a}function Ze(){return new De(new Set)}function Qd(a,b,c){var d=c._window;if(null===d)return null;var e=d.event,f=e?e.type:void 0;let g;if(d="selectionchange"===f,e=!ob&&(d||"beforeinput"===f||"compositionstart"===f||"compositionend"===f||"click"===f&&e&&3===e.detail||"drop"===f||void 0===f),C(a)&&!e)return a.clone();if(null===b)return null;if(e=b.anchorNode,f=b.focusNode,g=b.anchorOffset,b=b.focusOffset,d&&C(a)&&!Lb(c,e,f))return a.clone();if(null===(c=We(e,g,f,b,c,a)))return null;let[h,k]=c;return new Ne(h,k,C(a)?a.format:0,C(a)?a.style:"")}function v(){return ac()._selection}function oc(){return F()._editorState._selection}function ae(a,b,c,d=1){var e=a.anchor,f=a.focus,g=e.getNode(),h=f.getNode();if(b.is(g)||b.is(h)){if(g=b.__key,a.isCollapsed())(c<=(b=e.offset)&&0<d||c<b&&0>d)&&(c=Math.max(0,b+d),e.set(g,c,"element"),f.set(g,c,"element"),ef(a));else{let m=a.isBackward();var k=(h=m?f:e).getNode();f=(e=m?e:f).getNode(),b.is(k)&&((c<=(k=h.offset)&&0<d||c<k&&0>d)&&h.set(g,Math.max(0,k+d),"element")),b.is(f)&&((c<=(b=e.offset)&&0<d||c<b&&0>d)&&e.set(g,Math.max(0,b+d),"element"))}ef(a)}}function ef(a){var b=a.anchor,c=b.offset;let d=a.focus;var e=d.offset,f=b.getNode(),g=d.getNode();if(a.isCollapsed())D(f)&&(B(g=(e=c>=(g=f.getChildrenSize()))?f.getChildAtIndex(g-1):f.getChildAtIndex(c))&&(c=0,e&&(c=g.getTextContentSize()),b.set(g.__key,c,"text"),d.set(g.__key,c,"text")));else{if(D(f)){let h=f.getChildrenSize();B(c=(a=c>=h)?f.getChildAtIndex(h-1):f.getChildAtIndex(c))&&(f=0,a&&(f=c.getTextContentSize()),b.set(c.__key,f,"text"))}D(g)&&(B(e=(b=e>=(c=g.getChildrenSize()))?g.getChildAtIndex(c-1):g.getChildAtIndex(e))&&(g=0,b&&(g=e.getTextContentSize()),d.set(e.__key,g,"text")))}}function $d(a,b,c,d,e){let f=null,g=0,h=null;null!==d?(f=d.__key,B(d)?(g=d.getTextContentSize(),h="text"):D(d)&&(g=d.getChildrenSize(),h="element")):null!==e&&(f=e.__key,B(e)?h="text":D(e)&&(h="element")),null!==f&&null!==h?a.set(f,g,h):(g=b.getIndexWithinParent(),-1===g&&(g=c.getChildrenSize()),a.set(c.__key,g,"element"))}function se(a,b,c,d,e){"text"===a.type?(a.key=c,b||(a.offset+=e)):a.offset>d.getIndexWithinParent()&&--a.offset}function Ve(a,b,c){let d=[],e=null,f=null;a=a.getChildren();for(let n=0;n<a.length;n++){var g=a[n];Te(g)||r(108);var h=g.getChildren();g=0;for(let p of h){for(P(p)||r(109);void 0!==d[n]&&void 0!==d[n][g];)g++;var k=g,m=p;let l={cell:m,startColumn:k,startRow:h=n},q=m.__rowSpan,u=m.__colSpan;for(let x=0;x<q;x++){void 0===d[h+x]&&(d[h+x]=[]);for(let y=0;y<u;y++)d[h+x][k+y]=l}b.is(m)&&(e=l),c.is(m)&&(f=l),g+=p.__colSpan}}return null===e&&r(110),null===f&&r(111),[d,e,f]}function Pe(a){a instanceof gf||(a instanceof be?P(a=Fc(a,P))||r(114):P(a=Fc(a.getNode(),P))||r(114));let b=a.getParent();Te(b)||r(115);let c=b.getParent();return Ue(c)||r(116),[a,b,c]}let S=null,T=null,V=!1,hf=!1,$b=0,jf={characterData:!0,childList:!0,subtree:!0};function ec(){return V||null!==S&&S._readOnly}function G(){V&&r(13)}function ac(){return null===S&&r(15),S}function F(){return null===T&&r(16),T}function kf(a,b,c){var d=b.__type;let e=a._nodes.get(d);for(void 0===e&&r(30,d),void 0===(a=c.get(d))&&(a=Array.from(e.transforms),c.set(d,a)),c=a.length,d=0;d<c&&(a[d](b),b.isAttached());d++);}function nf(a,b){var c=a.type,d=b.get(c);if(void 0===d&&r(17,c),c=d.klass,a.type!==c.getType()&&r(18,c.name),c=c.importJSON(a),a=a.children,D(c)&&Array.isArray(a))for(d=0;d<a.length;d++){let e=nf(a[d],b);c.append(e)}return c}function of(a,b){let c=S,d=V,e=T;S=a,V=!0,T=null;try{return b()}finally{S=c,V=d,T=e}}function pf(a,b){let c=a._pendingEditorState,d=a._rootElement,e=a._headless||null===d;if(null!==c){var f=a._editorState,g=f._selection,h=c._selection,k=0!==a._dirtyType,m=S,n=V,p=T,l=a._updating,q=a._observer,u=null;if(a._pendingEditorState=null,a._editorState=c,!e&&k&&null!==q){T=a,S=c,V=!1,a._updating=!0;try{let E=a._dirtyType,Q=a._dirtyElements,R=a._dirtyLeaves;q.disconnect();var y=Q,A=R;M=Kc=L="",Nc=2===E,Qc=null,N=a,Lc=a._config,Mc=a._nodes,Pc=N._listeners.mutation,Rc=y,Sc=A,Tc=f._nodeMap,Uc=c._nodeMap,Oc=c._readOnly,Vc=new Map(a._keyToDOMMap);let ia=new Map;ed=ia,sd("root",null),ed=Vc=Lc=Uc=Tc=Sc=Rc=Mc=N=void 0,u=ia}catch(E){if(E instanceof Error&&a._onError(E),hf)throw E;return qf(a,null,d,c),Bb(a),a._dirtyType=2,hf=!0,pf(a,f),void(hf=!1)}finally{q.observe(d,jf),a._updating=l,S=m,V=n,T=p}}c._readOnly||(c._readOnly=!0);var Z=a._dirtyLeaves,ca=a._dirtyElements,Va=a._normalizedNodes,la=a._updateTags,Wc=a._deferred;k&&(a._dirtyType=0,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements=new Map,a._normalizedNodes=new Set,a._updateTags=new Set);var Xc,Ee=a._decorators,Pb=a._pendingDecorators||Ee,Ef=c._nodeMap;for(Xc in Pb)Ef.has(Xc)||(Pb===Ee&&(Pb=fc(a)),delete Pb[Xc]);var ja=e?null:vb(a._window);if(a._editable&&null!==ja&&(k||null===h||h.dirty)){T=a,S=c;try{if(null!==q&&q.disconnect(),k||null===h||h.dirty){let E=a._blockCursorElement;null!==E&&Dc(E,a,d);a:{let Q=ja.anchorNode,R=ja.focusNode,ia=ja.anchorOffset,lb=ja.focusOffset,W=document.activeElement;if(!(la.has("collaboration")&&W!==d||null!==W&&Kb(W)))if(C(h)){var mb=h.anchor,Yc=h.focus,Fe=mb.key,Ff=Yc.key,Ge=vc(a,Fe),He=vc(a,Ff),Qb=mb.offset,Ie=Yc.offset,Zc=h.format,$c=h.style,Je=h.isCollapsed(),nb=Ge,Rb=He,ad=!1;if("text"===mb.type){nb=Vb(Ge);let X=mb.getNode();ad=X.getFormat()!==Zc||X.getStyle()!==$c}else C(g)&&"text"===g.anchor.type&&(ad=!0);if("text"===Yc.type&&(Rb=Vb(He)),null!==nb&&null!==Rb){if(Je&&(null===g||ad||C(g)&&(g.format!==Zc||g.style!==$c))){var Gf=performance.now();Md=[Zc,$c,Qb,Fe,Gf]}if(ia===Qb&&lb===Ie&&Q===nb&&R===Rb&&("Range"!==ja.type||!Je)&&(null!==W&&d.contains(W)||d.focus({preventScroll:!0}),"element"!==mb.type))break a;try{ja.setBaseAndExtent(nb,Qb,Rb,Ie)}catch(X){}if(!la.has("skip-scroll-into-view")&&h.isCollapsed()&&null!==d&&d===document.activeElement){let X=h instanceof Ne&&"element"===h.anchor.type?nb.childNodes[Qb]||null:0<ja.rangeCount?ja.getRangeAt(0):null;if(null!==X){let Y;if(X instanceof Text){let U=document.createRange();U.selectNode(X),Y=U.getBoundingClientRect()}else Y=X.getBoundingClientRect();let wa=d.ownerDocument,Da=wa.defaultView;if(null!==Da)for(var Sb,Tb,{top:bd,bottom:cd}=Y,oa=d;null!==oa;){let U=oa===wa.body;if(U)Sb=0,Tb=Cb(a).innerHeight;else{let Ub=oa.getBoundingClientRect();Sb=Ub.top,Tb=Ub.bottom}let Ea=0;if(bd<Sb?Ea=-(Sb-bd):cd>Tb&&(Ea=cd-Tb),0!==Ea)if(U)Da.scrollBy(0,Ea);else{let Ub=oa.scrollTop;oa.scrollTop+=Ea;let Ke=oa.scrollTop-Ub;bd-=Ke,cd-=Ke}if(U)break;oa=Nb(oa)}}}Id=!0}}else null!==g&&Lb(a,Q,R)&&ja.removeAllRanges()}}a:{let E=a._blockCursorElement;if(C(h)&&h.isCollapsed()&&"element"===h.anchor.type&&d.contains(document.activeElement)){let Q=h.anchor,R=Q.getNode(),ia=Q.offset,lb=R.getChildrenSize(),W=!1,X=null;if(ia===lb){Cc(R.getChildAtIndex(ia-1))&&(W=!0)}else{let Y=R.getChildAtIndex(ia);if(Cc(Y)){let wa=Y.getPreviousSibling();(null===wa||Cc(wa))&&(W=!0,X=a.getElementByKey(Y.__key))}}if(W){let Y=a.getElementByKey(R.__key);if(null===E){let wa=a._config.theme,Da=document.createElement("div");Da.contentEditable="false",Da.setAttribute("data-lexical-cursor","true");let U=wa.blockCursor;if(void 0!==U){if("string"==typeof U){let Ea=U.split(" ");U=wa.blockCursor=Ea}void 0!==U&&Da.classList.add(...U)}a._blockCursorElement=E=Da}d.style.caretColor="transparent",null===X?Y.appendChild(E):Y.insertBefore(E,X);break a}}null!==E&&Dc(E,a,d)}null!==q&&q.observe(d,jf)}finally{T=p,S=m}}if(null!==u){var Hf=u;let E=Array.from(a._listeners.mutation),Q=E.length;for(let R=0;R<Q;R++){let[ia,lb]=E[R],W=Hf.get(lb);void 0!==W&&ia(W,{dirtyLeaves:Z,prevEditorState:f,updateTags:la})}}C(h)||null===h||null!==g&&g.is(h)||a.dispatchCommand(aa,void 0);var dd=a._pendingDecorators;null!==dd&&(a._decorators=dd,a._pendingDecorators=null,rf("decorator",a,!0,dd));var If=gc(b||f),Le=gc(c);if(If!==Le&&rf("textcontent",a,!0,Le),rf("update",a,!0,{dirtyElements:ca,dirtyLeaves:Z,editorState:c,normalizedNodes:Va,prevEditorState:b||f,tags:la}),a._deferred=[],0!==Wc.length){let E=a._updating;a._updating=!0;try{for(let Q=0;Q<Wc.length;Q++)Wc[Q]()}finally{a._updating=E}}var Me=a._updates;if(0!==Me.length){let E=Me.shift();if(E){let[Q,R]=E;sf(a,Q,R)}}}}function rf(a,b,c,...d){let e=b._updating;b._updating=c;try{let f=Array.from(b._listeners[a]);for(a=0;a<f.length;a++)f[a].apply(null,d)}finally{b._updating=e}}function O(a,b,c){if(!1===a._updating||T!==a){let f=!1;return a.update((()=>{f=O(a,b,c)})),f}let d=lc(a);for(let f=4;0<=f;f--)for(let g=0;g<d.length;g++){var e=d[g]._commands.get(b);if(void 0!==e&&void 0!==(e=e[f])){let h=(e=Array.from(e)).length;for(let k=0;k<h;k++)if(!0===e[k](c,a))return!0}}return!1}function tf(a,b){let c=a._updates;for(b=b||!1;0!==c.length;){var d=c.shift();if(d){let g,[e,f]=d;void 0!==f&&(d=f.onUpdate,g=f.tag,f.skipTransforms&&(b=!0),d&&a._deferred.push(d),g&&a._updateTags.add(g)),e()}}return b}function sf(a,b,c){let d=a._updateTags;var e,f=e=!1;if(void 0!==c){var g=c.onUpdate;null!=(e=c.tag)&&d.add(e),e=c.skipTransforms||!1,f=c.discrete||!1}g&&a._deferred.push(g),c=a._editorState;let h=!1;(null===(g=a._pendingEditorState)||g._readOnly)&&(g=a._pendingEditorState=new uf(new Map((g||c)._nodeMap)),h=!0),g._flushSync=f,f=S;let k=V,m=T,n=a._updating;S=g,V=!1,a._updating=!0,T=a;try{h&&(a._headless?null!=c._selection&&(g._selection=c._selection.clone()):g._selection=function df(a){let b=a.getEditorState()._selection,c=vb(a._window);return Ud(b)||Re(b)?b.clone():Qd(b,c,a)}(a));let p=a._compositionKey;b(),e=tf(a,e),function ff(a,b){if(b=b.getEditorState()._selection,C(a=a._selection)){var c=a.anchor;let e,d=a.focus;"text"===c.type&&(e=c.getNode(),e.selectionTransform(b,a)),"text"===d.type&&e!==(c=d.getNode())&&c.selectionTransform(b,a)}}(g,a),0!==a._dirtyType&&(e?function lf(a,b){b=b._dirtyLeaves,a=a._nodeMap;for(let c of b)B(b=a.get(c))&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&Fb(b)}(g,a):function mf(a,b){let c=b._dirtyLeaves,d=b._dirtyElements;a=a._nodeMap;let e=dc(),f=new Map;var g=c;let h=g.size;for(var k=d,m=k.size;0<h||0<m;){if(0<h){b._dirtyLeaves=new Set;for(let n of g)B(g=a.get(n))&&g.isAttached()&&g.isSimpleText()&&!g.isUnmergeable()&&Fb(g),void 0!==g&&void 0!==g&&g.__key!==e&&g.isAttached()&&kf(b,g,f),c.add(n);if(h=(g=b._dirtyLeaves).size,0<h){$b++;continue}}b._dirtyLeaves=new Set,b._dirtyElements=new Map;for(let n of k)k=n[0],m=n[1],("root"===k||m)&&(void 0!==(g=a.get(k))&&void 0!==g&&g.__key!==e&&g.isAttached()&&kf(b,g,f),d.set(k,m));h=(g=b._dirtyLeaves).size,m=(k=b._dirtyElements).size,$b++}b._dirtyLeaves=c,b._dirtyElements=d}(g,a),tf(a),function Jc(a,b,c,d){a=a._nodeMap,b=b._nodeMap;let e=[];for(let[f]of d){let g=b.get(f);void 0===g||g.isAttached()||(D(g)&&Ic(g,f,a,b,e,d),a.has(f)||d.delete(f),e.push(f))}for(let f of e)b.delete(f);for(let f of c)void 0===(d=b.get(f))||d.isAttached()||(a.has(f)||c.delete(f),b.delete(f))}(c,g,a._dirtyLeaves,a._dirtyElements)),p!==a._compositionKey&&(g._flushSync=!0);let l=g._selection;if(C(l)){let q=g._nodeMap,u=l.focus.key;void 0!==q.get(l.anchor.key)&&void 0!==q.get(u)||r(19)}else Ud(l)&&0===l._nodes.size&&(g._selection=null)}catch(p){return p instanceof Error&&a._onError(p),a._pendingEditorState=c,a._dirtyType=2,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),void pf(a)}finally{S=f,V=k,T=m,a._updating=n,$b=0}0!==a._dirtyType||function vf(a,b){if(b=b.getEditorState()._selection,a=a._selection,null!==a){if(a.dirty||!a.is(b))return!0}else if(null!==b)return!0;return!1}(g,a)?g._flushSync?(g._flushSync=!1,pf(a)):h&&Jb((()=>{pf(a)})):(g._flushSync=!1,h&&(d.clear(),a._deferred=[],a._pendingEditorState=null))}function w(a,b,c){a._updating?a._updates.push([b,c]):sf(a,b,c)}class wf extends be{constructor(a){super(a)}decorate(){r(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function z(a){return a instanceof wf}class xf extends be{constructor(a){super(a),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let a=this.getFormat();return ib[a]||""}getIndent(){return this.getLatest().__indent}getChildren(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b),b=b.getNextSibling();return a}getChildrenKeys(){let a=[],b=this.getFirstChild();for(;null!==b;)a.push(b.__key),b=b.getNextSibling();return a}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let a=F()._dirtyElements;return null!==a&&a.has(this.__key)}isLastChild(){let a=this.getLatest(),b=this.getParentOrThrow().getLastChild();return null!==b&&b.is(a)}getAllTextNodes(){let a=[],b=this.getFirstChild();for(;null!==b;){if(B(b)&&a.push(b),D(b)){let c=b.getAllTextNodes();a.push(...c)}b=b.getNextSibling()}return a}getFirstDescendant(){let a=this.getFirstChild();for(;null!==a;){if(D(a)){let b=a.getFirstChild();if(null!==b){a=b;continue}}break}return a}getLastDescendant(){let a=this.getLastChild();for(;null!==a;){if(D(a)){let b=a.getLastChild();if(null!==b){a=b;continue}}break}return a}getDescendantByIndex(a){let b=this.getChildren(),c=b.length;return a>=c?D(a=b[c-1])&&a.getLastDescendant()||a||null:D(a=b[a])&&a.getFirstDescendant()||a||null}getFirstChild(){let a=this.getLatest().__first;return null===a?null:I(a)}getFirstChildOrThrow(){let a=this.getFirstChild();return null===a&&r(45,this.__key),a}getLastChild(){let a=this.getLatest().__last;return null===a?null:I(a)}getLastChildOrThrow(){let a=this.getLastChild();return null===a&&r(96,this.__key),a}getChildAtIndex(a){var b=this.getChildrenSize();let c;if(a<b/2){for(c=this.getFirstChild(),b=0;null!==c&&b<=a;){if(b===a)return c;c=c.getNextSibling(),b++}return null}for(c=this.getLastChild(),--b;null!==c&&b>=a;){if(b===a)return c;c=c.getPreviousSibling(),b--}return null}getTextContent(){let a="",b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContent(),D(e)&&d!==c-1&&!e.isInline()&&(a+="\n\n")}return a}getTextContentSize(){let a=0,b=this.getChildren(),c=b.length;for(let d=0;d<c;d++){let e=b[d];a+=e.getTextContentSize(),D(e)&&d!==c-1&&!e.isInline()&&(a+=2)}return a}getDirection(){return this.getLatest().__dir}hasFormat(a){return""!==a&&(a=hb[a],0!=(this.getFormat()&a))}select(a,b){G();let c=v(),d=a,e=b;var f=this.getChildrenSize();if(!this.canBeEmpty())if(0===a&&0===b){if(B(a=this.getFirstChild())||D(a))return a.select(0,0)}else if(!(void 0!==a&&a!==f||void 0!==b&&b!==f)&&(B(a=this.getLastChild())||D(a)))return a.select();return void 0===d&&(d=f),void 0===e&&(e=f),f=this.__key,C(c)?(c.anchor.set(f,d,"element"),c.focus.set(f,e,"element"),c.dirty=!0,c):re(f,d,f,e,"element","element")}selectStart(){let a=this.getFirstDescendant();return D(a)||B(a)?a.select(0,0):null!==a?a.selectPrevious():this.select(0,0)}selectEnd(){let a=this.getLastDescendant();return D(a)||B(a)?a.select():null!==a?a.selectNext():this.select()}clear(){let a=this.getWritable();return this.getChildren().forEach((b=>b.remove())),a}append(...a){return this.splice(this.getChildrenSize(),0,a)}setDirection(a){let b=this.getWritable();return b.__dir=a,b}setFormat(a){return this.getWritable().__format=""!==a?hb[a]:0,this}setIndent(a){return this.getWritable().__indent=a,this}splice(a,b,c){let d=c.length,e=this.getChildrenSize(),f=this.getWritable(),g=f.__key;var h=[],k=[];let m=this.getChildAtIndex(a+b),n=null,p=e-b+d;if(0!==a)if(a===e)n=this.getLastChild();else{var l=this.getChildAtIndex(a);null!==l&&(n=l.getPreviousSibling())}if(0<b){var q=null===n?this.getFirstChild():n.getNextSibling();for(l=0;l<b;l++){null===q&&r(100);var u=q.getNextSibling(),x=q.__key;bc(q=q.getWritable()),k.push(x),q=u}}for(l=n,u=0;u<d;u++){x=c[u],null!==l&&x.is(l)&&(n=l=l.getPreviousSibling()),(q=x.getWritable()).__parent===g&&p--,bc(q);let y=x.__key;null===l?(f.__first=y,q.__prev=null):((l=l.getWritable()).__next=y,q.__prev=l.__key),x.__key===g&&r(76),q.__parent=g,h.push(y),l=x}if(a+b===e?null!==l&&(l.getWritable().__next=null,f.__last=l.__key):null!==m&&(a=m.getWritable(),null!==l?(b=l.getWritable(),a.__prev=l.__key,b.__next=m.__key):a.__prev=null),f.__size=p,k.length&&C(a=v())){k=new Set(k),h=new Set(h);let{anchor:y,focus:A}=a;yf(y,k,h)&&$d(y,y.getNode(),this,n,m),yf(A,k,h)&&$d(A,A.getNode(),this,n,m),0!==p||this.canBeEmpty()||yc(this)||this.remove()}return f}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function D(a){return a instanceof xf}function yf(a,b,c){for(a=a.getNode();a;){let d=a.__key;if(b.has(d)&&!c.has(d))return!0;a=a.getParent()}return!1}class zf extends xf{static getType(){return"root"}static clone(){return new zf}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){let a=this.__cachedText;return!ec()&&0!==F()._dirtyType||null===a?super.getTextContent():a}remove(){r(52)}replace(){r(53)}insertBefore(){r(54)}insertAfter(){r(55)}updateDOM(){return!1}append(...a){for(let b=0;b<a.length;b++){let c=a[b];D(c)||z(c)||r(56)}return super.append(...a)}static importJSON(a){let b=hc();return b.setFormat(a.format),b.setIndent(a.indent),b.setDirection(a.direction),b}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function K(a){return a instanceof zf}function Af(){return new uf(new Map([["root",new zf]]))}function Bf(a){let b=a.exportJSON();var c=a.constructor;b.type!==c.getType()&&r(130,c.name);let d=b.children;if(D(a))for(Array.isArray(d)||r(59,c.name),a=a.getChildren(),c=0;c<a.length;c++){let e=Bf(a[c]);d.push(e)}return b}class uf{constructor(a,b){this._nodeMap=a,this._selection=b||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(a){return of(this,a)}clone(a){return(a=new uf(this._nodeMap,void 0===a?this._selection:a))._readOnly=!0,a}toJSON(){return of(this,(()=>({root:Bf(hc())})))}}class Cf extends xf{static getType(){return"paragraph"}static clone(a){return new Cf(a.__key)}createDOM(a){let b=document.createElement("p");return void 0!==(a=qc(a.theme,"paragraph"))&&b.classList.add(...a),b}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Df,priority:0})}}exportDOM(a){if(({element:a}=super.exportDOM(a)),a&&Hc(a)){this.isEmpty()&&a.append(document.createElement("br"));var b=this.getFormatType();a.style.textAlign=b,(b=this.getDirection())&&(a.dir=b),0<(b=this.getIndent())&&(a.style.textIndent=20*b+"px")}return{element:a}}static importJSON(a){let b=de();return b.setFormat(a.format),b.setIndent(a.indent),b.setDirection(a.direction),b}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(a,b){a=de();let c=this.getDirection();return a.setDirection(c),this.insertAfter(a,b),a}collapseAtStart(){let a=this.getChildren();if(0===a.length||B(a[0])&&""===a[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Df(a){let b=de();return a.style&&(b.setFormat(a.style.textAlign),0<(a=parseInt(a.style.textIndent,10)/20)&&b.setIndent(a)),{node:b}}function de(){return Ac(new Cf)}function qf(a,b,c,d){let e=a._keyToDOMMap;e.clear(),a._editorState=Af(),a._pendingEditorState=d,a._compositionKey=null,a._dirtyType=0,a._cloneNotNeeded.clear(),a._dirtyLeaves=new Set,a._dirtyElements.clear(),a._normalizedNodes=new Set,a._updateTags=new Set,a._updates=[],a._blockCursorElement=null,null!==(d=a._observer)&&(d.disconnect(),a._observer=null),null!==b&&(b.textContent=""),null!==c&&(c.textContent="",e.set("root",c))}class Kf{constructor(a,b,c,d,e,f,g){this._parentEditor=b,this._rootElement=null,this._editorState=a,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=d,this._nodes=c,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=mc(),this._onError=e,this._htmlConversions=f,this._editable=g,this._headless=null!==b&&b._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(a){let b=this._listeners.update;return b.add(a),()=>{b.delete(a)}}registerEditableListener(a){let b=this._listeners.editable;return b.add(a),()=>{b.delete(a)}}registerDecoratorListener(a){let b=this._listeners.decorator;return b.add(a),()=>{b.delete(a)}}registerTextContentListener(a){let b=this._listeners.textcontent;return b.add(a),()=>{b.delete(a)}}registerRootListener(a){let b=this._listeners.root;return a(this._rootElement,null),b.add(a),()=>{a(null,this._rootElement),b.delete(a)}}registerCommand(a,b,c){void 0===c&&r(35);let d=this._commands;d.has(a)||d.set(a,[new Set,new Set,new Set,new Set,new Set]);let e=d.get(a);void 0===e&&r(36,String(a));let f=e[c];return f.add(b),()=>{f.delete(b),e.every((g=>0===g.size))&&d.delete(a)}}registerMutationListener(a,b){void 0===this._nodes.get(a.getType())&&r(37,a.name);let c=this._listeners.mutation;return c.set(b,a),()=>{c.delete(b)}}registerNodeTransformToKlass(a,b){var c=a.getType();return void 0===(c=this._nodes.get(c))&&r(37,a.name),c.transforms.add(b),c}registerNodeTransform(a,b){var c=this.registerNodeTransformToKlass(a,b);let d=[c];return null!=(c=c.replaceWithKlass)&&(c=this.registerNodeTransformToKlass(c,b),d.push(c)),function ic(a,b){w(a,(()=>{var c=ac();if(!c.isEmpty())if("root"===b)hc().markDirty();else{c=c._nodeMap;for(let[,d]of c)d.markDirty()}}),null===a._pendingEditorState?{tag:"history-merge"}:void 0)}(this,a.getType()),()=>{d.forEach((e=>e.transforms.delete(b)))}}hasNode(a){return this._nodes.has(a.getType())}hasNodes(a){return a.every(this.hasNode.bind(this))}dispatchCommand(a,b){return O(this,a,b)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(a){let b=this._rootElement;if(a!==b){let f=qc(this._config.theme,"root");var c=this._pendingEditorState||this._editorState;if(this._rootElement=a,qf(this,b,a,c),null!==b){if(!this._config.disableEvents){0!==Hd&&(Hd--,0===Hd&&b.ownerDocument.removeEventListener("selectionchange",Xd));var d=b.__lexicalEditor;if(null!=d){if(null!==d._parentEditor){var e=lc(d);e=e[e.length-1]._key,Wd.get(e)===d&&Wd.delete(e)}else Wd.delete(d._key);b.__lexicalEditor=null}for(d=Vd(b),e=0;e<d.length;e++)d[e]();b.__lexicalEventHandles=[]}null!=f&&b.classList.remove(...f)}null!==a?(c=(c=a.ownerDocument)&&c.defaultView||null,(d=a.style).userSelect="text",d.whiteSpace="pre-wrap",d.wordBreak="break-word",a.setAttribute("data-lexical-editor","true"),this._window=c,this._dirtyType=2,Bb(this),this._updateTags.add("history-merge"),pf(this),this._config.disableEvents||function Yd(a,b){0===Hd&&a.ownerDocument.addEventListener("selectionchange",Xd),Hd++,a.__lexicalEditor=b;let c=Vd(a);for(let d=0;d<Bd.length;d++){let[e,f]=Bd[d],g="function"==typeof f?h=>{!0!==h._lexicalHandled&&(h._lexicalHandled=!0,b.isEditable()&&f(h,b))}:h=>{if(!0!==h._lexicalHandled&&(h._lexicalHandled=!0,b.isEditable()))switch(e){case"cut":return O(b,Oa,h);case"copy":return O(b,Na,h);case"paste":return O(b,ka,h);case"dragstart":return O(b,Ka,h);case"dragover":return O(b,La,h);case"dragend":return O(b,Ma,h);case"focus":return O(b,Qa,h);case"blur":return O(b,Ra,h);case"drop":return O(b,Ja,h)}};a.addEventListener(e,g),c.push((()=>{a.removeEventListener(e,g)}))}}(a,this),null!=f&&a.classList.add(...f)):(this._editorState=c,this._window=this._pendingEditorState=null),rf("root",this,!1,a,b)}}getElementByKey(a){return this._keyToDOMMap.get(a)||null}getEditorState(){return this._editorState}setEditorState(a,b){a.isEmpty()&&r(38),Ab(this);let c=this._pendingEditorState,d=this._updateTags;b=void 0!==b?b.tag:null,null===c||c.isEmpty()||(null!=b&&d.add(b),pf(this)),this._pendingEditorState=a,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=b&&d.add(b),pf(this)}parseEditorState(a,b){a="string"==typeof a?JSON.parse(a):a;let c=Af(),d=S,e=V,f=T,g=this._dirtyElements,h=this._dirtyLeaves,k=this._cloneNotNeeded,m=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,S=c,V=!1,T=this;try{nf(a.root,this._nodes),b&&b(),c._readOnly=!0}catch(n){n instanceof Error&&this._onError(n)}finally{this._dirtyElements=g,this._dirtyLeaves=h,this._cloneNotNeeded=k,this._dirtyType=m,S=d,V=e,T=f}return c}update(a,b){w(this,a,b)}focus(a,b={}){let c=this._rootElement;null!==c&&(c.setAttribute("autocapitalize","off"),w(this,(()=>{let d=v(),e=hc();null!==d?d.dirty=!0:0!==e.getChildrenSize()&&("rootStart"===b.defaultSelection?e.selectStart():e.selectEnd())}),{onUpdate:()=>{c.removeAttribute("autocapitalize"),a&&a()},tag:"focus"}),null===this._pendingEditorState&&c.removeAttribute("autocapitalize"))}blur(){var a=this._rootElement;null!==a&&a.blur(),null!==(a=vb(this._window))&&a.removeAllRanges()}isEditable(){return this._editable}setEditable(a){this._editable!==a&&(this._editable=a,rf("editable",this,!0,a))}toJSON(){return{editorState:this._editorState.toJSON()}}}class gf extends xf{constructor(a,b){super(b),this.__colSpan=a,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(a){return this.getWritable().__colSpan=a,this}getRowSpan(){return this.__rowSpan}setRowSpan(a){return this.getWritable().__rowSpan=a,this}}function P(a){return a instanceof gf}class Lf extends xf{}function Ue(a){return a instanceof Lf}class Mf extends xf{}function Te(a){return a instanceof Mf}exports.$addUpdateTag=function(a){G(),F()._updateTags.add(a)},exports.$applyNodeReplacement=Ac,exports.$copyNode=zc,exports.$createLineBreakNode=ge,exports.$createNodeSelection=Ze,exports.$createParagraphNode=de,exports.$createRangeSelection=function(){let a=new ze("root",0,"element"),b=new ze("root",0,"element");return new Ne(a,b,0,"")},exports.$createTabNode=ue,exports.$createTextNode=J,exports.$getAdjacentNode=tc,exports.$getNearestNodeFromDOMNode=ub,exports.$getNearestRootOrShadowRoot=xc,exports.$getNodeByKey=I,exports.$getPreviousSelection=oc,exports.$getRoot=hc,exports.$getSelection=v,exports.$getTextContent=function(){let a=v();return null===a?"":a.getTextContent()},exports.$hasAncestor=wc,exports.$hasUpdateTag=function(a){return F()._updateTags.has(a)},exports.$insertNodes=function(a,b){let c=v()||oc();return null===c&&(c=hc().selectEnd()),c.insertNodes(a,b)},exports.$isBlockElementNode=Ye,exports.$isDecoratorNode=z,exports.$isElementNode=D,exports.$isInlineElementOrDecoratorNode=function(a){return D(a)&&a.isInline()||z(a)&&a.isInline()},exports.$isLeafNode=Xb,exports.$isLineBreakNode=Yb,exports.$isNodeSelection=Ud,exports.$isParagraphNode=function(a){return a instanceof Cf},exports.$isRangeSelection=C,exports.$isRootNode=K,exports.$isRootOrShadowRoot=yc,exports.$isTabNode=function(a){return a instanceof ye},exports.$isTextNode=B,exports.$nodesOfType=function(a){var b=ac();let c=b._readOnly,d=a.getType();b=b._nodeMap;let e=[];for(let[,f]of b)f instanceof a&&f.__type===d&&(c||f.isAttached())&&e.push(f);return e},exports.$normalizeSelection__EXPERIMENTAL=Gb,exports.$parseSerializedNode=function(a){return nf(a,F()._nodes)},exports.$selectAll=function(){var a=hc();yb(Gb(a=a.select(0,a.getChildrenSize())))},exports.$setCompositionKey=H,exports.$setSelection=yb,exports.$splitNode=Ec,exports.BLUR_COMMAND=Ra,exports.CAN_REDO_COMMAND={},exports.CAN_UNDO_COMMAND={},exports.CLEAR_EDITOR_COMMAND={},exports.CLEAR_HISTORY_COMMAND={},exports.CLICK_COMMAND=ba,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=ha,exports.COPY_COMMAND=Na,exports.CUT_COMMAND=Oa,exports.DELETE_CHARACTER_COMMAND=da,exports.DELETE_LINE_COMMAND=pa,exports.DELETE_WORD_COMMAND=na,exports.DEPRECATED_$computeGridMap=Ve,exports.DEPRECATED_$createGridSelection=function(){let a=new ze("root",0,"element"),b=new ze("root",0,"element");return new Qe("root",a,b)},exports.DEPRECATED_$getGridCellNodeRect=Oe,exports.DEPRECATED_$getNodeTriplet=Pe,exports.DEPRECATED_$isGridCellNode=P,exports.DEPRECATED_$isGridNode=Ue,exports.DEPRECATED_$isGridRowNode=Te,exports.DEPRECATED_$isGridSelection=Re,exports.DEPRECATED_GridCellNode=gf,exports.DEPRECATED_GridNode=Lf,exports.DEPRECATED_GridRowNode=Mf,exports.DRAGEND_COMMAND=Ma,exports.DRAGOVER_COMMAND=La,exports.DRAGSTART_COMMAND=Ka,exports.DROP_COMMAND=Ja,exports.DecoratorNode=wf,exports.ElementNode=xf,exports.FOCUS_COMMAND=Qa,exports.FORMAT_ELEMENT_COMMAND={},exports.FORMAT_TEXT_COMMAND=qa,exports.INDENT_CONTENT_COMMAND={},exports.INSERT_LINE_BREAK_COMMAND=ea,exports.INSERT_PARAGRAPH_COMMAND=fa,exports.INSERT_TAB_COMMAND={},exports.KEY_ARROW_DOWN_COMMAND=Aa,exports.KEY_ARROW_LEFT_COMMAND=xa,exports.KEY_ARROW_RIGHT_COMMAND=ua,exports.KEY_ARROW_UP_COMMAND=za,exports.KEY_BACKSPACE_COMMAND=Fa,exports.KEY_DELETE_COMMAND=Ha,exports.KEY_DOWN_COMMAND=ta,exports.KEY_ENTER_COMMAND=Ba,exports.KEY_ESCAPE_COMMAND=Ga,exports.KEY_MODIFIER_COMMAND=Sa,exports.KEY_SPACE_COMMAND=Ca,exports.KEY_TAB_COMMAND=Ia,exports.LineBreakNode=ee,exports.MOVE_TO_END=va,exports.MOVE_TO_START=ya,exports.OUTDENT_CONTENT_COMMAND={},exports.PASTE_COMMAND=ka,exports.ParagraphNode=Cf,exports.REDO_COMMAND=sa,exports.REMOVE_TEXT_COMMAND=ma,exports.RootNode=zf,exports.SELECTION_CHANGE_COMMAND=aa,exports.SELECT_ALL_COMMAND=Pa,exports.TabNode=ye,exports.TextNode=me,exports.UNDO_COMMAND=ra,exports.createCommand=function(){return{}},exports.createEditor=function(a){var b=a||{},c=T,d=b.theme||{};let e=void 0===a?c:b.parentEditor||null,f=b.disableEvents||!1,g=Af(),h=b.namespace||(null!==e?e._config.namespace:mc()),k=b.editorState,m=[zf,me,ee,ye,Cf,...b.nodes||[]],n=b.onError;if(b=void 0===b.editable||b.editable,void 0===a&&null!==c)a=c._nodes;else for(a=new Map,c=0;c<m.length;c++){let l=m[c],q=null;var p=null;"function"!=typeof l&&(l=(p=l).replace,q=p.with,p=p.withKlass?p.withKlass:null);let u=l.getType(),x=l.transform(),y=new Set;null!==x&&y.add(x),a.set(u,{klass:l,replace:q,replaceWithKlass:p,transforms:y})}return d=new Kf(g,e,a,{disableEvents:f,namespace:h,theme:d},n||console.error,function Jf(a){let b=new Map,c=new Set;return a.forEach((d=>{if(null!=(d=null!=d.klass.importDOM?d.klass.importDOM.bind(d.klass):null)&&!c.has(d)){c.add(d);var e=d();null!==e&&Object.keys(e).forEach((f=>{let g=b.get(f);void 0===g&&(g=[],b.set(f,g)),g.push(e[f])}))}})),b}(a),b),void 0!==k&&(d._pendingEditorState=k,d._dirtyType=2),d},exports.getNearestEditorFromDOMNode=Mb,exports.isHTMLAnchorElement=function(a){return Hc(a)&&"A"===a.tagName},exports.isHTMLElement=Hc,exports.isSelectionCapturedInDecoratorInput=Kb,exports.isSelectionWithinEditor=Lb}}]);